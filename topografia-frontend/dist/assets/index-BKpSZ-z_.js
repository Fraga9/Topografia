var Tp=s=>{throw TypeError(s)};var dh=(s,t,n)=>t.has(s)||Tp("Cannot "+n);var U=(s,t,n)=>(dh(s,t,"read from private field"),n?n.call(s):t.get(s)),we=(s,t,n)=>t.has(s)?Tp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,n),de=(s,t,n,i)=>(dh(s,t,"write to private field"),i?i.call(s,n):t.set(s,n),n),Ae=(s,t,n)=>(dh(s,t,"access private method"),n);var dc=(s,t,n,i)=>({set _(o){de(s,t,o,n)},get _(){return U(s,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var OT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pf(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Z1(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var o=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return s[i]}})}),n}var hh={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function W1(){if(Ap)return xl;Ap=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:i,key:h,ref:o!==void 0?o:null,props:u}}return xl.Fragment=t,xl.jsx=n,xl.jsxs=n,xl}var kp;function ej(){return kp||(kp=1,hh.exports=W1()),hh.exports}var l=ej(),fh={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function tj(){if(Rp)return Te;Rp=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function j(C,V,ae){this.props=C,this.context=V,this.refs=S,this.updater=ae||_}j.prototype.isReactComponent={},j.prototype.setState=function(C,V){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,V,"setState")},j.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function A(){}A.prototype=j.prototype;function O(C,V,ae){this.props=C,this.context=V,this.refs=S,this.updater=ae||_}var E=O.prototype=new A;E.constructor=O,w(E,j.prototype),E.isPureReactComponent=!0;var k=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function $(C,V,ae,se,me,Oe){return ae=Oe.ref,{$$typeof:s,type:C,key:V,ref:ae!==void 0?ae:null,props:Oe}}function I(C,V){return $(C.type,V,void 0,void 0,void 0,C.props)}function Q(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function ue(C){var V={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ae){return V[ae]})}var xe=/\/+/g;function pe(C,V){return typeof C=="object"&&C!==null&&C.key!=null?ue(""+C.key):V.toString(36)}function ke(){}function K(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ke,ke):(C.status="pending",C.then(function(V){C.status==="pending"&&(C.status="fulfilled",C.value=V)},function(V){C.status==="pending"&&(C.status="rejected",C.reason=V)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,V,ae,se,me){var Oe=typeof C;(Oe==="undefined"||Oe==="boolean")&&(C=null);var ve=!1;if(C===null)ve=!0;else switch(Oe){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(C.$$typeof){case s:case t:ve=!0;break;case x:return ve=C._init,re(ve(C._payload),V,ae,se,me)}}if(ve)return me=me(C),ve=se===""?"."+pe(C,0):se,k(me)?(ae="",ve!=null&&(ae=ve.replace(xe,"$&/")+"/"),re(me,V,ae,"",function(he){return he})):me!=null&&(Q(me)&&(me=I(me,ae+(me.key==null||C&&C.key===me.key?"":(""+me.key).replace(xe,"$&/")+"/")+ve)),V.push(me)),1;ve=0;var ee=se===""?".":se+":";if(k(C))for(var ce=0;ce<C.length;ce++)se=C[ce],Oe=ee+pe(se,ce),ve+=re(se,V,ae,Oe,me);else if(ce=v(C),typeof ce=="function")for(C=ce.call(C),ce=0;!(se=C.next()).done;)se=se.value,Oe=ee+pe(se,ce++),ve+=re(se,V,ae,Oe,me);else if(Oe==="object"){if(typeof C.then=="function")return re(K(C),V,ae,se,me);throw V=String(C),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ve}function M(C,V,ae){if(C==null)return C;var se=[],me=0;return re(C,se,"","",function(Oe){return V.call(ae,Oe,me++)}),se}function X(C){if(C._status===-1){var V=C._result;V=V(),V.then(function(ae){(C._status===0||C._status===-1)&&(C._status=1,C._result=ae)},function(ae){(C._status===0||C._status===-1)&&(C._status=2,C._result=ae)}),C._status===-1&&(C._status=0,C._result=V)}if(C._status===1)return C._result.default;throw C._result}var ne=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function ie(){}return Te.Children={map:M,forEach:function(C,V,ae){M(C,function(){V.apply(this,arguments)},ae)},count:function(C){var V=0;return M(C,function(){V++}),V},toArray:function(C){return M(C,function(V){return V})||[]},only:function(C){if(!Q(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Te.Component=j,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=O,Te.StrictMode=i,Te.Suspense=g,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Te.__COMPILER_RUNTIME={__proto__:null,c:function(C){return T.H.useMemoCache(C)}},Te.cache=function(C){return function(){return C.apply(null,arguments)}},Te.cloneElement=function(C,V,ae){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var se=w({},C.props),me=C.key,Oe=void 0;if(V!=null)for(ve in V.ref!==void 0&&(Oe=void 0),V.key!==void 0&&(me=""+V.key),V)!L.call(V,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&V.ref===void 0||(se[ve]=V[ve]);var ve=arguments.length-2;if(ve===1)se.children=ae;else if(1<ve){for(var ee=Array(ve),ce=0;ce<ve;ce++)ee[ce]=arguments[ce+2];se.children=ee}return $(C.type,me,void 0,void 0,Oe,se)},Te.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Te.createElement=function(C,V,ae){var se,me={},Oe=null;if(V!=null)for(se in V.key!==void 0&&(Oe=""+V.key),V)L.call(V,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=V[se]);var ve=arguments.length-2;if(ve===1)me.children=ae;else if(1<ve){for(var ee=Array(ve),ce=0;ce<ve;ce++)ee[ce]=arguments[ce+2];me.children=ee}if(C&&C.defaultProps)for(se in ve=C.defaultProps,ve)me[se]===void 0&&(me[se]=ve[se]);return $(C,Oe,void 0,void 0,null,me)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(C){return{$$typeof:p,render:C}},Te.isValidElement=Q,Te.lazy=function(C){return{$$typeof:x,_payload:{_status:-1,_result:C},_init:X}},Te.memo=function(C,V){return{$$typeof:m,type:C,compare:V===void 0?null:V}},Te.startTransition=function(C){var V=T.T,ae={};T.T=ae;try{var se=C(),me=T.S;me!==null&&me(ae,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ie,ne)}catch(Oe){ne(Oe)}finally{T.T=V}},Te.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Te.use=function(C){return T.H.use(C)},Te.useActionState=function(C,V,ae){return T.H.useActionState(C,V,ae)},Te.useCallback=function(C,V){return T.H.useCallback(C,V)},Te.useContext=function(C){return T.H.useContext(C)},Te.useDebugValue=function(){},Te.useDeferredValue=function(C,V){return T.H.useDeferredValue(C,V)},Te.useEffect=function(C,V,ae){var se=T.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(C,V)},Te.useId=function(){return T.H.useId()},Te.useImperativeHandle=function(C,V,ae){return T.H.useImperativeHandle(C,V,ae)},Te.useInsertionEffect=function(C,V){return T.H.useInsertionEffect(C,V)},Te.useLayoutEffect=function(C,V){return T.H.useLayoutEffect(C,V)},Te.useMemo=function(C,V){return T.H.useMemo(C,V)},Te.useOptimistic=function(C,V){return T.H.useOptimistic(C,V)},Te.useReducer=function(C,V,ae){return T.H.useReducer(C,V,ae)},Te.useRef=function(C){return T.H.useRef(C)},Te.useState=function(C){return T.H.useState(C)},Te.useSyncExternalStore=function(C,V,ae){return T.H.useSyncExternalStore(C,V,ae)},Te.useTransition=function(){return T.H.useTransition()},Te.version="19.1.0",Te}var Op;function xf(){return Op||(Op=1,fh.exports=tj()),fh.exports}var D=xf();const Zt=pf(D);var mh={exports:{}},vl={},gh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function aj(){return Mp||(Mp=1,function(s){function t(M,X){var ne=M.length;M.push(X);e:for(;0<ne;){var ie=ne-1>>>1,C=M[ie];if(0<o(C,X))M[ie]=X,M[ne]=C,ne=ie;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var X=M[0],ne=M.pop();if(ne!==X){M[0]=ne;e:for(var ie=0,C=M.length,V=C>>>1;ie<V;){var ae=2*(ie+1)-1,se=M[ae],me=ae+1,Oe=M[me];if(0>o(se,ne))me<C&&0>o(Oe,se)?(M[ie]=Oe,M[me]=ne,ie=me):(M[ie]=se,M[ae]=ne,ie=ae);else if(me<C&&0>o(Oe,ne))M[ie]=Oe,M[me]=ne,ie=me;else break e}}return X}function o(M,X){var ne=M.sortIndex-X.sortIndex;return ne!==0?ne:M.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],m=[],x=1,b=null,v=3,_=!1,w=!1,S=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function k(M){for(var X=n(m);X!==null;){if(X.callback===null)i(m);else if(X.startTime<=M)i(m),X.sortIndex=X.expirationTime,t(g,X);else break;X=n(m)}}function T(M){if(S=!1,k(M),!w)if(n(g)!==null)w=!0,L||(L=!0,pe());else{var X=n(m);X!==null&&re(T,X.startTime-M)}}var L=!1,$=-1,I=5,Q=-1;function ue(){return j?!0:!(s.unstable_now()-Q<I)}function xe(){if(j=!1,L){var M=s.unstable_now();Q=M;var X=!0;try{e:{w=!1,S&&(S=!1,O($),$=-1),_=!0;var ne=v;try{t:{for(k(M),b=n(g);b!==null&&!(b.expirationTime>M&&ue());){var ie=b.callback;if(typeof ie=="function"){b.callback=null,v=b.priorityLevel;var C=ie(b.expirationTime<=M);if(M=s.unstable_now(),typeof C=="function"){b.callback=C,k(M),X=!0;break t}b===n(g)&&i(g),k(M)}else i(g);b=n(g)}if(b!==null)X=!0;else{var V=n(m);V!==null&&re(T,V.startTime-M),X=!1}}break e}finally{b=null,v=ne,_=!1}X=void 0}}finally{X?pe():L=!1}}}var pe;if(typeof E=="function")pe=function(){E(xe)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,K=ke.port2;ke.port1.onmessage=xe,pe=function(){K.postMessage(null)}}else pe=function(){A(xe,0)};function re(M,X){$=A(function(){M(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(M){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var ne=v;v=X;try{return M()}finally{v=ne}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(M,X){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ne=v;v=M;try{return X()}finally{v=ne}},s.unstable_scheduleCallback=function(M,X,ne){var ie=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ie+ne:ie):ne=ie,M){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ne+C,M={id:x++,callback:X,priorityLevel:M,startTime:ne,expirationTime:C,sortIndex:-1},ne>ie?(M.sortIndex=ne,t(m,M),n(g)===null&&M===n(m)&&(S?(O($),$=-1):S=!0,re(T,ne-ie))):(M.sortIndex=C,t(g,M),w||_||(w=!0,L||(L=!0,pe()))),M},s.unstable_shouldYield=ue,s.unstable_wrapCallback=function(M){var X=v;return function(){var ne=v;v=X;try{return M.apply(this,arguments)}finally{v=ne}}}}(ph)),ph}var Dp;function sj(){return Dp||(Dp=1,gh.exports=aj()),gh.exports}var xh={exports:{}},Rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function nj(){if(Lp)return Rt;Lp=1;var s=xf();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:m,implementation:x}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Rt.createPortal=function(g,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(g,m,null,x)},Rt.flushSync=function(g){var m=h.T,x=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=m,i.p=x,i.d.f()}},Rt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(g,m))},Rt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Rt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var x=m.as,b=p(x,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?i.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:_}):x==="script"&&i.d.X(g,{crossOrigin:b,integrity:v,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Rt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=p(m.as,m.crossOrigin);i.d.M(g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(g)},Rt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,b=p(x,m.crossOrigin);i.d.L(g,x,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Rt.preloadModule=function(g,m){if(typeof g=="string")if(m){var x=p(m.as,m.crossOrigin);i.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(g)},Rt.requestFormReset=function(g){i.d.r(g)},Rt.unstable_batchedUpdates=function(g,m){return g(m)},Rt.useFormState=function(g,m,x){return h.H.useFormState(g,m,x)},Rt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Rt.version="19.1.0",Rt}var Up;function rj(){if(Up)return xh.exports;Up=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),xh.exports=nj(),xh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function ij(){if(Pp)return vl;Pp=1;var s=sj(),t=xf(),n=rj();function i(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var a=e,r=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(r=a.return),e=a.return;while(e)}return a.tag===3?r:null}function h(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(i(188))}function g(e){var a=e.alternate;if(!a){if(a=u(e),a===null)throw Error(i(188));return a!==e?null:e}for(var r=e,c=a;;){var d=r.return;if(d===null)break;var f=d.alternate;if(f===null){if(c=d.return,c!==null){r=c;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===r)return p(d),e;if(f===c)return p(d),a;f=f.sibling}throw Error(i(188))}if(r.return!==c.return)r=d,c=f;else{for(var y=!1,N=d.child;N;){if(N===r){y=!0,r=d,c=f;break}if(N===c){y=!0,c=d,r=f;break}N=N.sibling}if(!y){for(N=f.child;N;){if(N===r){y=!0,r=f,c=d;break}if(N===c){y=!0,c=f,r=d;break}N=N.sibling}if(!y)throw Error(i(189))}}if(r.alternate!==c)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:a}function m(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=m(e),a!==null)return a;e=e.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=xe&&e[xe]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Symbol.for("react.client.reference");function K(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ke?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case L:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case E:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case k:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return a=e.displayName||null,a!==null?a:K(e.type)||"Memo";case I:a=e._payload,e=e._init;try{return K(e(a))}catch{}}return null}var re=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ie=[],C=-1;function V(e){return{current:e}}function ae(e){0>C||(e.current=ie[C],ie[C]=null,C--)}function se(e,a){C++,ie[C]=e.current,e.current=a}var me=V(null),Oe=V(null),ve=V(null),ee=V(null);function ce(e,a){switch(se(ve,a),se(Oe,e),se(me,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?ap(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=ap(a),e=sp(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ae(me),se(me,e)}function he(){ae(me),ae(Oe),ae(ve)}function Z(e){e.memoizedState!==null&&se(ee,e);var a=me.current,r=sp(a,e.type);a!==r&&(se(Oe,e),se(me,r))}function oe(e){Oe.current===e&&(ae(me),ae(Oe)),ee.current===e&&(ae(ee),hl._currentValue=ne)}var je=Object.prototype.hasOwnProperty,Pe=s.unstable_scheduleCallback,Ge=s.unstable_cancelCallback,Ve=s.unstable_shouldYield,ys=s.unstable_requestPaint,ha=s.unstable_now,Il=s.unstable_getCurrentPriorityLevel,yi=s.unstable_ImmediatePriority,le=s.unstable_UserBlockingPriority,qe=s.unstable_NormalPriority,Et=s.unstable_LowPriority,aa=s.unstable_IdlePriority,Wc=s.log,Ly=s.unstable_setDisableYieldValue,bi=null,sa=null;function bs(e){if(typeof Wc=="function"&&Ly(e),sa&&typeof sa.setStrictMode=="function")try{sa.setStrictMode(bi,e)}catch{}}var na=Math.clz32?Math.clz32:zy,Uy=Math.log,Py=Math.LN2;function zy(e){return e>>>=0,e===0?32:31-(Uy(e)/Py|0)|0}var Jl=256,Zl=4194304;function cn(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wl(e,a,r){var c=e.pendingLanes;if(c===0)return 0;var d=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var N=c&134217727;return N!==0?(c=N&~f,c!==0?d=cn(c):(y&=N,y!==0?d=cn(y):r||(r=N&~e,r!==0&&(d=cn(r))))):(N=c&~f,N!==0?d=cn(N):y!==0?d=cn(y):r||(r=c&~e,r!==0&&(d=cn(r)))),d===0?0:a!==0&&a!==d&&(a&f)===0&&(f=d&-d,r=a&-a,f>=r||f===32&&(r&4194048)!==0)?a:d}function ji(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function qy(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qf(){var e=Jl;return Jl<<=1,(Jl&4194048)===0&&(Jl=256),e}function $f(){var e=Zl;return Zl<<=1,(Zl&62914560)===0&&(Zl=4194304),e}function eu(e){for(var a=[],r=0;31>r;r++)a.push(e);return a}function wi(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $y(e,a,r,c,d,f){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var N=e.entanglements,R=e.expirationTimes,B=e.hiddenUpdates;for(r=y&~r;0<r;){var J=31-na(r),te=1<<J;N[J]=0,R[J]=-1;var F=B[J];if(F!==null)for(B[J]=null,J=0;J<F.length;J++){var G=F[J];G!==null&&(G.lane&=-536870913)}r&=~te}c!==0&&Bf(e,c,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~a))}function Bf(e,a,r){e.pendingLanes|=a,e.suspendedLanes&=~a;var c=31-na(a);e.entangledLanes|=a,e.entanglements[c]=e.entanglements[c]|1073741824|r&4194090}function Hf(e,a){var r=e.entangledLanes|=a;for(e=e.entanglements;r;){var c=31-na(r),d=1<<c;d&a|e[c]&a&&(e[c]|=a),r&=~d}}function tu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function au(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ff(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:wp(e.type))}function By(e,a){var r=X.p;try{return X.p=e,a()}finally{X.p=r}}var js=Math.random().toString(36).slice(2),At="__reactFiber$"+js,Ht="__reactProps$"+js,Jn="__reactContainer$"+js,su="__reactEvents$"+js,Hy="__reactListeners$"+js,Fy="__reactHandles$"+js,Qf="__reactResources$"+js,Ni="__reactMarker$"+js;function nu(e){delete e[At],delete e[Ht],delete e[su],delete e[Hy],delete e[Fy]}function Zn(e){var a=e[At];if(a)return a;for(var r=e.parentNode;r;){if(a=r[Jn]||r[At]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(e=lp(e);e!==null;){if(r=e[At])return r;e=lp(e)}return a}e=r,r=e.parentNode}return null}function Wn(e){if(e=e[At]||e[Jn]){var a=e.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return e}return null}function _i(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(i(33))}function er(e){var a=e[Qf];return a||(a=e[Qf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function vt(e){e[Ni]=!0}var Gf=new Set,Vf={};function un(e,a){tr(e,a),tr(e+"Capture",a)}function tr(e,a){for(Vf[e]=a,e=0;e<a.length;e++)Gf.add(a[e])}var Qy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kf={},Yf={};function Gy(e){return je.call(Yf,e)?!0:je.call(Kf,e)?!1:Qy.test(e)?Yf[e]=!0:(Kf[e]=!0,!1)}function eo(e,a,r){if(Gy(a))if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+r)}}function to(e,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+r)}}function Ka(e,a,r,c){if(c===null)e.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(a,r,""+c)}}var ru,Xf;function ar(e){if(ru===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);ru=a&&a[1]||"",Xf=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ru+e+Xf}var iu=!1;function lu(e,a){if(!e||iu)return"";iu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var F=G}Reflect.construct(e,[],te)}else{try{te.call()}catch(G){F=G}e.call(te.prototype)}}else{try{throw Error()}catch(G){F=G}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=c.DetermineComponentFrameRoot(),y=f[0],N=f[1];if(y&&N){var R=y.split(`
`),B=N.split(`
`);for(d=c=0;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(c===R.length||d===B.length)for(c=R.length-1,d=B.length-1;1<=c&&0<=d&&R[c]!==B[d];)d--;for(;1<=c&&0<=d;c--,d--)if(R[c]!==B[d]){if(c!==1||d!==1)do if(c--,d--,0>d||R[c]!==B[d]){var J=`
`+R[c].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=c&&0<=d);break}}}finally{iu=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ar(r):""}function Vy(e){switch(e.tag){case 26:case 27:case 5:return ar(e.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 15:return lu(e.type,!1);case 11:return lu(e.type.render,!1);case 1:return lu(e.type,!0);case 31:return ar("Activity");default:return""}}function If(e){try{var a="";do a+=Vy(e),e=e.return;while(e);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function fa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jf(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ky(e){var a=Jf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),c=""+e[a];if(!e.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,f=r.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return d.call(this)},set:function(y){c=""+y,f.call(this,y)}}),Object.defineProperty(e,a,{enumerable:r.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function ao(e){e._valueTracker||(e._valueTracker=Ky(e))}function Zf(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var r=a.getValue(),c="";return e&&(c=Jf(e)?e.checked?"true":"false":e.value),e=c,e!==r?(a.setValue(e),!0):!1}function so(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yy=/[\n"\\]/g;function ma(e){return e.replace(Yy,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ou(e,a,r,c,d,f,y,N){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),a!=null?y==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+fa(a)):e.value!==""+fa(a)&&(e.value=""+fa(a)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),a!=null?cu(e,y,fa(a)):r!=null?cu(e,y,fa(r)):c!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+fa(N):e.removeAttribute("name")}function Wf(e,a,r,c,d,f,y,N){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),a!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||a!=null))return;r=r!=null?""+fa(r):"",a=a!=null?""+fa(a):r,N||a===e.value||(e.value=a),e.defaultValue=a}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=N?e.checked:!!c,e.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function cu(e,a,r){a==="number"&&so(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function sr(e,a,r,c){if(e=e.options,a){a={};for(var d=0;d<r.length;d++)a["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=a.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&c&&(e[r].defaultSelected=!0)}else{for(r=""+fa(r),a=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,c&&(e[d].defaultSelected=!0);return}a!==null||e[d].disabled||(a=e[d])}a!==null&&(a.selected=!0)}}function em(e,a,r){if(a!=null&&(a=""+fa(a),a!==e.value&&(e.value=a),r==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=r!=null?""+fa(r):""}function tm(e,a,r,c){if(a==null){if(c!=null){if(r!=null)throw Error(i(92));if(re(c)){if(1<c.length)throw Error(i(93));c=c[0]}r=c}r==null&&(r=""),a=r}r=fa(a),e.defaultValue=r,c=e.textContent,c===r&&c!==""&&c!==null&&(e.value=c)}function nr(e,a){if(a){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=a;return}}e.textContent=a}var Xy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function am(e,a,r){var c=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":c?e.setProperty(a,r):typeof r!="number"||r===0||Xy.has(a)?a==="float"?e.cssFloat=r:e[a]=(""+r).trim():e[a]=r+"px"}function sm(e,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(e=e.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var d in a)c=a[d],a.hasOwnProperty(d)&&r[d]!==c&&am(e,d,c)}else for(var f in a)a.hasOwnProperty(f)&&am(e,f,a[f])}function uu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(e){return Jy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var du=null;function hu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rr=null,ir=null;function nm(e){var a=Wn(e);if(a&&(e=a.stateNode)){var r=e[Ht]||null;e:switch(e=a.stateNode,a.type){case"input":if(ou(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ma(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var c=r[a];if(c!==e&&c.form===e.form){var d=c[Ht]||null;if(!d)throw Error(i(90));ou(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<r.length;a++)c=r[a],c.form===e.form&&Zf(c)}break e;case"textarea":em(e,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&sr(e,!!r.multiple,a,!1)}}}var fu=!1;function rm(e,a,r){if(fu)return e(a,r);fu=!0;try{var c=e(a);return c}finally{if(fu=!1,(rr!==null||ir!==null)&&(Qo(),rr&&(a=rr,e=ir,ir=rr=null,nm(a),e)))for(a=0;a<e.length;a++)nm(e[a])}}function Ei(e,a){var r=e.stateNode;if(r===null)return null;var c=r[Ht]||null;if(c===null)return null;r=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mu=!1;if(Ya)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){mu=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{mu=!1}var ws=null,gu=null,ro=null;function im(){if(ro)return ro;var e,a=gu,r=a.length,c,d="value"in ws?ws.value:ws.textContent,f=d.length;for(e=0;e<r&&a[e]===d[e];e++);var y=r-e;for(c=1;c<=y&&a[r-c]===d[f-c];c++);return ro=d.slice(e,1<c?1-c:void 0)}function io(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function lo(){return!0}function lm(){return!1}function Ft(e){function a(r,c,d,f,y){this._reactName=r,this._targetInst=d,this.type=c,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(r=e[N],this[N]=r?r(f):f[N]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?lo:lm,this.isPropagationStopped=lm,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),a}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=Ft(dn),Ci=x({},dn,{view:0,detail:0}),Zy=Ft(Ci),pu,xu,Ti,co=x({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(pu=e.screenX-Ti.screenX,xu=e.screenY-Ti.screenY):xu=pu=0,Ti=e),pu)},movementY:function(e){return"movementY"in e?e.movementY:xu}}),om=Ft(co),Wy=x({},co,{dataTransfer:0}),eb=Ft(Wy),tb=x({},Ci,{relatedTarget:0}),vu=Ft(tb),ab=x({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),sb=Ft(ab),nb=x({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rb=Ft(nb),ib=x({},dn,{data:0}),cm=Ft(ib),lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ob={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ub(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=cb[e])?!!a[e]:!1}function yu(){return ub}var db=x({},Ci,{key:function(e){if(e.key){var a=lb[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ob[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(e){return e.type==="keypress"?io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hb=Ft(db),fb=x({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),um=Ft(fb),mb=x({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),gb=Ft(mb),pb=x({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),xb=Ft(pb),vb=x({},co,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yb=Ft(vb),bb=x({},dn,{newState:0,oldState:0}),jb=Ft(bb),wb=[9,13,27,32],bu=Ya&&"CompositionEvent"in window,Ai=null;Ya&&"documentMode"in document&&(Ai=document.documentMode);var Nb=Ya&&"TextEvent"in window&&!Ai,dm=Ya&&(!bu||Ai&&8<Ai&&11>=Ai),hm=" ",fm=!1;function mm(e,a){switch(e){case"keyup":return wb.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lr=!1;function _b(e,a){switch(e){case"compositionend":return gm(a);case"keypress":return a.which!==32?null:(fm=!0,hm);case"textInput":return e=a.data,e===hm&&fm?null:e;default:return null}}function Eb(e,a){if(lr)return e==="compositionend"||!bu&&mm(e,a)?(e=im(),ro=gu=ws=null,lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return dm&&a.locale!=="ko"?null:a.data;default:return null}}var Sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Sb[e.type]:a==="textarea"}function xm(e,a,r,c){rr?ir?ir.push(c):ir=[c]:rr=c,a=Io(a,"onChange"),0<a.length&&(r=new oo("onChange","change",null,r,c),e.push({event:r,listeners:a}))}var ki=null,Ri=null;function Cb(e){Jg(e,0)}function uo(e){var a=_i(e);if(Zf(a))return e}function vm(e,a){if(e==="change")return a}var ym=!1;if(Ya){var ju;if(Ya){var wu="oninput"in document;if(!wu){var bm=document.createElement("div");bm.setAttribute("oninput","return;"),wu=typeof bm.oninput=="function"}ju=wu}else ju=!1;ym=ju&&(!document.documentMode||9<document.documentMode)}function jm(){ki&&(ki.detachEvent("onpropertychange",wm),Ri=ki=null)}function wm(e){if(e.propertyName==="value"&&uo(Ri)){var a=[];xm(a,Ri,e,hu(e)),rm(Cb,a)}}function Tb(e,a,r){e==="focusin"?(jm(),ki=a,Ri=r,ki.attachEvent("onpropertychange",wm)):e==="focusout"&&jm()}function Ab(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uo(Ri)}function kb(e,a){if(e==="click")return uo(a)}function Rb(e,a){if(e==="input"||e==="change")return uo(a)}function Ob(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var ra=typeof Object.is=="function"?Object.is:Ob;function Oi(e,a){if(ra(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var r=Object.keys(e),c=Object.keys(a);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var d=r[c];if(!je.call(a,d)||!ra(e[d],a[d]))return!1}return!0}function Nm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _m(e,a){var r=Nm(e);e=0;for(var c;r;){if(r.nodeType===3){if(c=e+r.textContent.length,e<=a&&c>=a)return{node:r,offset:a-e};e=c}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nm(r)}}function Em(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Em(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function Sm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=so(e.document);a instanceof e.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)e=a.contentWindow;else break;a=so(e.document)}return a}function Nu(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Mb=Ya&&"documentMode"in document&&11>=document.documentMode,or=null,_u=null,Mi=null,Eu=!1;function Cm(e,a,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Eu||or==null||or!==so(c)||(c=or,"selectionStart"in c&&Nu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Mi&&Oi(Mi,c)||(Mi=c,c=Io(_u,"onSelect"),0<c.length&&(a=new oo("onSelect","select",null,a,r),e.push({event:a,listeners:c}),a.target=or)))}function hn(e,a){var r={};return r[e.toLowerCase()]=a.toLowerCase(),r["Webkit"+e]="webkit"+a,r["Moz"+e]="moz"+a,r}var cr={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},Su={},Tm={};Ya&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function fn(e){if(Su[e])return Su[e];if(!cr[e])return e;var a=cr[e],r;for(r in a)if(a.hasOwnProperty(r)&&r in Tm)return Su[e]=a[r];return e}var Am=fn("animationend"),km=fn("animationiteration"),Rm=fn("animationstart"),Db=fn("transitionrun"),Lb=fn("transitionstart"),Ub=fn("transitioncancel"),Om=fn("transitionend"),Mm=new Map,Cu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cu.push("scrollEnd");function Na(e,a){Mm.set(e,a),un(a,[e])}var Dm=new WeakMap;function ga(e,a){if(typeof e=="object"&&e!==null){var r=Dm.get(e);return r!==void 0?r:(a={value:e,source:a,stack:If(a)},Dm.set(e,a),a)}return{value:e,source:a,stack:If(a)}}var pa=[],ur=0,Tu=0;function ho(){for(var e=ur,a=Tu=ur=0;a<e;){var r=pa[a];pa[a++]=null;var c=pa[a];pa[a++]=null;var d=pa[a];pa[a++]=null;var f=pa[a];if(pa[a++]=null,c!==null&&d!==null){var y=c.pending;y===null?d.next=d:(d.next=y.next,y.next=d),c.pending=d}f!==0&&Lm(r,d,f)}}function fo(e,a,r,c){pa[ur++]=e,pa[ur++]=a,pa[ur++]=r,pa[ur++]=c,Tu|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Au(e,a,r,c){return fo(e,a,r,c),mo(e)}function dr(e,a){return fo(e,null,null,a),mo(e)}function Lm(e,a,r){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r);for(var d=!1,f=e.return;f!==null;)f.childLanes|=r,c=f.alternate,c!==null&&(c.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&a!==null&&(d=31-na(r),e=f.hiddenUpdates,c=e[d],c===null?e[d]=[a]:c.push(a),a.lane=r|536870912),f):null}function mo(e){if(50<nl)throw nl=0,Ld=null,Error(i(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var hr={};function Pb(e,a,r,c){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(e,a,r,c){return new Pb(e,a,r,c)}function ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xa(e,a){var r=e.alternate;return r===null?(r=ia(e.tag,a,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=a,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,a=e.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Um(e,a){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,a=r.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function go(e,a,r,c,d,f){var y=0;if(c=e,typeof e=="function")ku(e)&&(y=1);else if(typeof e=="string")y=q1(e,r,me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=ia(31,r,a,d),e.elementType=Q,e.lanes=f,e;case w:return mn(r.children,d,f,a);case S:y=8,d|=24;break;case j:return e=ia(12,r,a,d|2),e.elementType=j,e.lanes=f,e;case T:return e=ia(13,r,a,d),e.elementType=T,e.lanes=f,e;case L:return e=ia(19,r,a,d),e.elementType=L,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case E:y=10;break e;case O:y=9;break e;case k:y=11;break e;case $:y=14;break e;case I:y=16,c=null;break e}y=29,r=Error(i(130,e===null?"null":typeof e,"")),c=null}return a=ia(y,r,a,d),a.elementType=e,a.type=c,a.lanes=f,a}function mn(e,a,r,c){return e=ia(7,e,c,a),e.lanes=r,e}function Ru(e,a,r){return e=ia(6,e,null,a),e.lanes=r,e}function Ou(e,a,r){return a=ia(4,e.children!==null?e.children:[],e.key,a),a.lanes=r,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var fr=[],mr=0,po=null,xo=0,xa=[],va=0,gn=null,Ia=1,Ja="";function pn(e,a){fr[mr++]=xo,fr[mr++]=po,po=e,xo=a}function Pm(e,a,r){xa[va++]=Ia,xa[va++]=Ja,xa[va++]=gn,gn=e;var c=Ia;e=Ja;var d=32-na(c)-1;c&=~(1<<d),r+=1;var f=32-na(a)+d;if(30<f){var y=d-d%5;f=(c&(1<<y)-1).toString(32),c>>=y,d-=y,Ia=1<<32-na(a)+d|r<<d|c,Ja=f+e}else Ia=1<<f|r<<d|c,Ja=e}function Mu(e){e.return!==null&&(pn(e,1),Pm(e,1,0))}function Du(e){for(;e===po;)po=fr[--mr],fr[mr]=null,xo=fr[--mr],fr[mr]=null;for(;e===gn;)gn=xa[--va],xa[va]=null,Ja=xa[--va],xa[va]=null,Ia=xa[--va],xa[va]=null}var Lt=null,it=null,He=!1,xn=null,La=!1,Lu=Error(i(519));function vn(e){var a=Error(i(418,""));throw Ui(ga(a,e)),Lu}function zm(e){var a=e.stateNode,r=e.type,c=e.memoizedProps;switch(a[At]=e,a[Ht]=c,r){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(r=0;r<il.length;r++)Le(il[r],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),Wf(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ao(a);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),tm(a,c.value,c.defaultValue,c.children),ao(a)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||c.suppressHydrationWarning===!0||tp(a.textContent,r)?(c.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),c.onScroll!=null&&Le("scroll",a),c.onScrollEnd!=null&&Le("scrollend",a),c.onClick!=null&&(a.onclick=Jo),a=!0):a=!1,a||vn(e)}function qm(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 13:La=!1;return;case 27:case 3:La=!0;return;default:Lt=Lt.return}}function Di(e){if(e!==Lt)return!1;if(!He)return qm(e),He=!0,!1;var a=e.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Jd(e.type,e.memoizedProps)),r=!r),r&&it&&vn(e),qm(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(a===0){it=Ea(e.nextSibling);break e}a--}else r!=="$"&&r!=="$!"&&r!=="$?"||a++;e=e.nextSibling}it=null}}else a===27?(a=it,zs(e.type)?(e=th,th=null,it=e):it=a):it=Lt?Ea(e.stateNode.nextSibling):null;return!0}function Li(){it=Lt=null,He=!1}function $m(){var e=xn;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),xn=null),e}function Ui(e){xn===null?xn=[e]:xn.push(e)}var Uu=V(null),yn=null,Za=null;function Ns(e,a,r){se(Uu,a._currentValue),a._currentValue=r}function Wa(e){e._currentValue=Uu.current,ae(Uu)}function Pu(e,a,r){for(;e!==null;){var c=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),e===r)break;e=e.return}}function zu(e,a,r,c){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var y=d.child;f=f.firstContext;e:for(;f!==null;){var N=f;f=d;for(var R=0;R<a.length;R++)if(N.context===a[R]){f.lanes|=r,N=f.alternate,N!==null&&(N.lanes|=r),Pu(f.return,r,e),c||(y=null);break e}f=N.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(i(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Pu(y,r,e),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===e){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function Pi(e,a,r,c){e=null;for(var d=a,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var N=d.type;ra(d.pendingProps.value,y.value)||(e!==null?e.push(N):e=[N])}}else if(d===ee.current){if(y=d.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}d=d.return}e!==null&&zu(a,e,r,c),a.flags|=262144}function vo(e){for(e=e.firstContext;e!==null;){if(!ra(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bn(e){yn=e,Za=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return Bm(yn,e)}function yo(e,a){return yn===null&&bn(e),Bm(e,a)}function Bm(e,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},Za===null){if(e===null)throw Error(i(308));Za=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else Za=Za.next=a;return r}var zb=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(r,c){e.push(c)}};this.abort=function(){a.aborted=!0,e.forEach(function(r){return r()})}},qb=s.unstable_scheduleCallback,$b=s.unstable_NormalPriority,gt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new zb,data:new Map,refCount:0}}function zi(e){e.refCount--,e.refCount===0&&qb($b,function(){e.controller.abort()})}var qi=null,$u=0,gr=0,pr=null;function Bb(e,a){if(qi===null){var r=qi=[];$u=0,gr=Hd(),pr={status:"pending",value:void 0,then:function(c){r.push(c)}}}return $u++,a.then(Hm,Hm),a}function Hm(){if(--$u===0&&qi!==null){pr!==null&&(pr.status="fulfilled");var e=qi;qi=null,gr=0,pr=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function Hb(e,a){var r=[],c={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){c.status="fulfilled",c.value=a;for(var d=0;d<r.length;d++)(0,r[d])(a)},function(d){for(c.status="rejected",c.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),c}var Fm=M.S;M.S=function(e,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Bb(e,a),Fm!==null&&Fm(e,a)};var jn=V(null);function Bu(){var e=jn.current;return e!==null?e:et.pooledCache}function bo(e,a){a===null?se(jn,jn.current):se(jn,a.pool)}function Qm(){var e=Bu();return e===null?null:{parent:gt._currentValue,pool:e}}var $i=Error(i(460)),Gm=Error(i(474)),jo=Error(i(542)),Hu={then:function(){}};function Vm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wo(){}function Km(e,a,r){switch(r=e[r],r===void 0?e.push(a):r!==a&&(a.then(wo,wo),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Xm(e),e;default:if(typeof a.status=="string")a.then(wo,wo);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=a,e.status="pending",e.then(function(c){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=c}},function(c){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Xm(e),e}throw Bi=a,$i}}var Bi=null;function Ym(){if(Bi===null)throw Error(i(459));var e=Bi;return Bi=null,e}function Xm(e){if(e===$i||e===jo)throw Error(i(483))}var _s=!1;function Fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qu(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(e,a,r){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ke&2)!==0){var d=c.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a,a=mo(e),Lm(e,null,r),a}return fo(e,c,a,r),mo(e)}function Hi(e,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var c=a.lanes;c&=e.pendingLanes,r|=c,a.lanes=r,Hf(e,r)}}function Gu(e,a){var r=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var d=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?d=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?d=f=a:f=f.next=a}else d=f=a;r={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:c.shared,callbacks:c.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=a:e.next=a,r.lastBaseUpdate=a}var Vu=!1;function Fi(){if(Vu){var e=pr;if(e!==null)throw e}}function Qi(e,a,r,c){Vu=!1;var d=e.updateQueue;_s=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,N=d.shared.pending;if(N!==null){d.shared.pending=null;var R=N,B=R.next;R.next=null,y===null?f=B:y.next=B,y=R;var J=e.alternate;J!==null&&(J=J.updateQueue,N=J.lastBaseUpdate,N!==y&&(N===null?J.firstBaseUpdate=B:N.next=B,J.lastBaseUpdate=R))}if(f!==null){var te=d.baseState;y=0,J=B=R=null,N=f;do{var F=N.lane&-536870913,G=F!==N.lane;if(G?($e&F)===F:(c&F)===F){F!==0&&F===gr&&(Vu=!0),J!==null&&(J=J.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ee=e,Ne=N;F=a;var Ze=r;switch(Ne.tag){case 1:if(Ee=Ne.payload,typeof Ee=="function"){te=Ee.call(Ze,te,F);break e}te=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ne.payload,F=typeof Ee=="function"?Ee.call(Ze,te,F):Ee,F==null)break e;te=x({},te,F);break e;case 2:_s=!0}}F=N.callback,F!==null&&(e.flags|=64,G&&(e.flags|=8192),G=d.callbacks,G===null?d.callbacks=[F]:G.push(F))}else G={lane:F,tag:N.tag,payload:N.payload,callback:N.callback,next:null},J===null?(B=J=G,R=te):J=J.next=G,y|=F;if(N=N.next,N===null){if(N=d.shared.pending,N===null)break;G=N,N=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);J===null&&(R=te),d.baseState=R,d.firstBaseUpdate=B,d.lastBaseUpdate=J,f===null&&(d.shared.lanes=0),Ds|=y,e.lanes=y,e.memoizedState=te}}function Im(e,a){if(typeof e!="function")throw Error(i(191,e));e.call(a)}function Jm(e,a){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Im(r[e],a)}var xr=V(null),No=V(0);function Zm(e,a){e=is,se(No,e),se(xr,a),is=e|a.baseLanes}function Ku(){se(No,is),se(xr,xr.current)}function Yu(){is=No.current,ae(xr),ae(No)}var Cs=0,Re=null,Ie=null,ht=null,_o=!1,vr=!1,wn=!1,Eo=0,Gi=0,yr=null,Fb=0;function ct(){throw Error(i(321))}function Xu(e,a){if(a===null)return!1;for(var r=0;r<a.length&&r<e.length;r++)if(!ra(e[r],a[r]))return!1;return!0}function Iu(e,a,r,c,d,f){return Cs=f,Re=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,M.H=e===null||e.memoizedState===null?L0:U0,wn=!1,f=r(c,d),wn=!1,vr&&(f=e0(a,r,c,d)),Wm(e),f}function Wm(e){M.H=Ro;var a=Ie!==null&&Ie.next!==null;if(Cs=0,ht=Ie=Re=null,_o=!1,Gi=0,yr=null,a)throw Error(i(300));e===null||yt||(e=e.dependencies,e!==null&&vo(e)&&(yt=!0))}function e0(e,a,r,c){Re=e;var d=0;do{if(vr&&(yr=null),Gi=0,vr=!1,25<=d)throw Error(i(301));if(d+=1,ht=Ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=Ib,f=a(r,c)}while(vr);return f}function Qb(){var e=M.H,a=e.useState()[0];return a=typeof a.then=="function"?Vi(a):a,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(Re.flags|=1024),a}function Ju(){var e=Eo!==0;return Eo=0,e}function Zu(e,a,r){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~r}function Wu(e){if(_o){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}_o=!1}Cs=0,ht=Ie=Re=null,vr=!1,Gi=Eo=0,yr=null}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Re.memoizedState=ht=e:ht=ht.next=e,ht}function ft(){if(Ie===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var a=ht===null?Re.memoizedState:ht.next;if(a!==null)ht=a,Ie=e;else{if(e===null)throw Re.alternate===null?Error(i(467)):Error(i(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},ht===null?Re.memoizedState=ht=e:ht=ht.next=e}return ht}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vi(e){var a=Gi;return Gi+=1,yr===null&&(yr=[]),e=Km(yr,e,a),a=Re,(ht===null?a.memoizedState:ht.next)===null&&(a=a.alternate,M.H=a===null||a.memoizedState===null?L0:U0),e}function So(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vi(e);if(e.$$typeof===E)return kt(e)}throw Error(i(438,String(e)))}function td(e){var a=null,r=Re.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var c=Re.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=ed(),Re.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(e),c=0;c<e;c++)r[c]=ue;return a.index++,r}function es(e,a){return typeof a=="function"?a(e):a}function Co(e){var a=ft();return ad(a,Ie,e)}function ad(e,a,r){var c=e.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var d=e.baseQueue,f=c.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}a.baseQueue=d=f,c.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{a=d.next;var N=y=null,R=null,B=a,J=!1;do{var te=B.lane&-536870913;if(te!==B.lane?($e&te)===te:(Cs&te)===te){var F=B.revertLane;if(F===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),te===gr&&(J=!0);else if((Cs&F)===F){B=B.next,F===gr&&(J=!0);continue}else te={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(N=R=te,y=f):R=R.next=te,Re.lanes|=F,Ds|=F;te=B.action,wn&&r(f,te),f=B.hasEagerState?B.eagerState:r(f,te)}else F={lane:te,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(N=R=F,y=f):R=R.next=F,Re.lanes|=te,Ds|=te;B=B.next}while(B!==null&&B!==a);if(R===null?y=f:R.next=N,!ra(f,e.memoizedState)&&(yt=!0,J&&(r=pr,r!==null)))throw r;e.memoizedState=f,e.baseState=y,e.baseQueue=R,c.lastRenderedState=f}return d===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function sd(e){var a=ft(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var c=r.dispatch,d=r.pending,f=a.memoizedState;if(d!==null){r.pending=null;var y=d=d.next;do f=e(f,y.action),y=y.next;while(y!==d);ra(f,a.memoizedState)||(yt=!0),a.memoizedState=f,a.baseQueue===null&&(a.baseState=f),r.lastRenderedState=f}return[f,c]}function t0(e,a,r){var c=Re,d=ft(),f=He;if(f){if(r===void 0)throw Error(i(407));r=r()}else r=a();var y=!ra((Ie||d).memoizedState,r);y&&(d.memoizedState=r,yt=!0),d=d.queue;var N=n0.bind(null,c,d,e);if(Ki(2048,8,N,[e]),d.getSnapshot!==a||y||ht!==null&&ht.memoizedState.tag&1){if(c.flags|=2048,br(9,To(),s0.bind(null,c,d,r,a),null),et===null)throw Error(i(349));f||(Cs&124)!==0||a0(c,a,r)}return r}function a0(e,a,r){e.flags|=16384,e={getSnapshot:a,value:r},a=Re.updateQueue,a===null?(a=ed(),Re.updateQueue=a,a.stores=[e]):(r=a.stores,r===null?a.stores=[e]:r.push(e))}function s0(e,a,r,c){a.value=r,a.getSnapshot=c,r0(a)&&i0(e)}function n0(e,a,r){return r(function(){r0(a)&&i0(e)})}function r0(e){var a=e.getSnapshot;e=e.value;try{var r=a();return!ra(e,r)}catch{return!0}}function i0(e){var a=dr(e,2);a!==null&&da(a,e,2)}function nd(e){var a=Qt();if(typeof e=="function"){var r=e;if(e=r(),wn){bs(!0);try{r()}finally{bs(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},a}function l0(e,a,r,c){return e.baseState=r,ad(e,Ie,typeof c=="function"?c:es)}function Gb(e,a,r,c,d){if(ko(e))throw Error(i(485));if(e=a.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};M.T!==null?r(!0):f.isTransition=!1,c(f),r=a.pending,r===null?(f.next=a.pending=f,o0(a,f)):(f.next=r.next,a.pending=r.next=f)}}function o0(e,a){var r=a.action,c=a.payload,d=e.state;if(a.isTransition){var f=M.T,y={};M.T=y;try{var N=r(d,c),R=M.S;R!==null&&R(y,N),c0(e,a,N)}catch(B){rd(e,a,B)}finally{M.T=f}}else try{f=r(d,c),c0(e,a,f)}catch(B){rd(e,a,B)}}function c0(e,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){u0(e,a,c)},function(c){return rd(e,a,c)}):u0(e,a,r)}function u0(e,a,r){a.status="fulfilled",a.value=r,d0(a),e.state=r,a=e.pending,a!==null&&(r=a.next,r===a?e.pending=null:(r=r.next,a.next=r,o0(e,r)))}function rd(e,a,r){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=r,d0(a),a=a.next;while(a!==c)}e.action=null}function d0(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function h0(e,a){return a}function f0(e,a){if(He){var r=et.formState;if(r!==null){e:{var c=Re;if(He){if(it){t:{for(var d=it,f=La;d.nodeType!==8;){if(!f){d=null;break t}if(d=Ea(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){it=Ea(d.nextSibling),c=d.data==="F!";break e}}vn(c)}c=!1}c&&(a=r[0])}}return r=Qt(),r.memoizedState=r.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h0,lastRenderedState:a},r.queue=c,r=O0.bind(null,Re,c),c.dispatch=r,c=nd(!1),f=ud.bind(null,Re,!1,c.queue),c=Qt(),d={state:a,dispatch:null,action:e,pending:null},c.queue=d,r=Gb.bind(null,Re,d,f,r),d.dispatch=r,c.memoizedState=e,[a,r,!1]}function m0(e){var a=ft();return g0(a,Ie,e)}function g0(e,a,r){if(a=ad(e,a,h0)[0],e=Co(es)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Vi(a)}catch(y){throw y===$i?jo:y}else c=a;a=ft();var d=a.queue,f=d.dispatch;return r!==a.memoizedState&&(Re.flags|=2048,br(9,To(),Vb.bind(null,d,r),null)),[c,f,e]}function Vb(e,a){e.action=a}function p0(e){var a=ft(),r=Ie;if(r!==null)return g0(a,r,e);ft(),a=a.memoizedState,r=ft();var c=r.queue.dispatch;return r.memoizedState=e,[a,c,!1]}function br(e,a,r,c){return e={tag:e,create:r,deps:c,inst:a,next:null},a=Re.updateQueue,a===null&&(a=ed(),Re.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=e.next=e:(c=r.next,r.next=e,e.next=c,a.lastEffect=e),e}function To(){return{destroy:void 0,resource:void 0}}function x0(){return ft().memoizedState}function Ao(e,a,r,c){var d=Qt();c=c===void 0?null:c,Re.flags|=e,d.memoizedState=br(1|a,To(),r,c)}function Ki(e,a,r,c){var d=ft();c=c===void 0?null:c;var f=d.memoizedState.inst;Ie!==null&&c!==null&&Xu(c,Ie.memoizedState.deps)?d.memoizedState=br(a,f,r,c):(Re.flags|=e,d.memoizedState=br(1|a,f,r,c))}function v0(e,a){Ao(8390656,8,e,a)}function y0(e,a){Ki(2048,8,e,a)}function b0(e,a){return Ki(4,2,e,a)}function j0(e,a){return Ki(4,4,e,a)}function w0(e,a){if(typeof a=="function"){e=e();var r=a(e);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function N0(e,a,r){r=r!=null?r.concat([e]):null,Ki(4,4,w0.bind(null,a,e),r)}function id(){}function _0(e,a){var r=ft();a=a===void 0?null:a;var c=r.memoizedState;return a!==null&&Xu(a,c[1])?c[0]:(r.memoizedState=[e,a],e)}function E0(e,a){var r=ft();a=a===void 0?null:a;var c=r.memoizedState;if(a!==null&&Xu(a,c[1]))return c[0];if(c=e(),wn){bs(!0);try{e()}finally{bs(!1)}}return r.memoizedState=[c,a],c}function ld(e,a,r){return r===void 0||(Cs&1073741824)!==0?e.memoizedState=a:(e.memoizedState=r,e=Tg(),Re.lanes|=e,Ds|=e,r)}function S0(e,a,r,c){return ra(r,a)?r:xr.current!==null?(e=ld(e,r,c),ra(e,a)||(yt=!0),e):(Cs&42)===0?(yt=!0,e.memoizedState=r):(e=Tg(),Re.lanes|=e,Ds|=e,a)}function C0(e,a,r,c,d){var f=X.p;X.p=f!==0&&8>f?f:8;var y=M.T,N={};M.T=N,ud(e,!1,a,r);try{var R=d(),B=M.S;if(B!==null&&B(N,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var J=Hb(R,c);Yi(e,a,J,ua(e))}else Yi(e,a,c,ua(e))}catch(te){Yi(e,a,{then:function(){},status:"rejected",reason:te},ua())}finally{X.p=f,M.T=y}}function Kb(){}function od(e,a,r,c){if(e.tag!==5)throw Error(i(476));var d=T0(e).queue;C0(e,d,a,ne,r===null?Kb:function(){return A0(e),r(c)})}function T0(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ne},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:r},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function A0(e){var a=T0(e).next.queue;Yi(e,a,{},ua())}function cd(){return kt(hl)}function k0(){return ft().memoizedState}function R0(){return ft().memoizedState}function Yb(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var r=ua();e=Es(r);var c=Ss(a,e,r);c!==null&&(da(c,a,r),Hi(c,a,r)),a={cache:qu()},e.payload=a;return}a=a.return}}function Xb(e,a,r){var c=ua();r={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ko(e)?M0(a,r):(r=Au(e,a,r,c),r!==null&&(da(r,e,c),D0(r,a,c)))}function O0(e,a,r){var c=ua();Yi(e,a,r,c)}function Yi(e,a,r,c){var d={lane:c,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ko(e))M0(a,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=a.lastRenderedReducer,f!==null))try{var y=a.lastRenderedState,N=f(y,r);if(d.hasEagerState=!0,d.eagerState=N,ra(N,y))return fo(e,a,d,0),et===null&&ho(),!1}catch{}finally{}if(r=Au(e,a,d,c),r!==null)return da(r,e,c),D0(r,a,c),!0}return!1}function ud(e,a,r,c){if(c={lane:2,revertLane:Hd(),action:c,hasEagerState:!1,eagerState:null,next:null},ko(e)){if(a)throw Error(i(479))}else a=Au(e,r,c,2),a!==null&&da(a,e,2)}function ko(e){var a=e.alternate;return e===Re||a!==null&&a===Re}function M0(e,a){vr=_o=!0;var r=e.pending;r===null?a.next=a:(a.next=r.next,r.next=a),e.pending=a}function D0(e,a,r){if((r&4194048)!==0){var c=a.lanes;c&=e.pendingLanes,r|=c,a.lanes=r,Hf(e,r)}}var Ro={readContext:kt,use:So,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},L0={readContext:kt,use:So,useCallback:function(e,a){return Qt().memoizedState=[e,a===void 0?null:a],e},useContext:kt,useEffect:v0,useImperativeHandle:function(e,a,r){r=r!=null?r.concat([e]):null,Ao(4194308,4,w0.bind(null,a,e),r)},useLayoutEffect:function(e,a){return Ao(4194308,4,e,a)},useInsertionEffect:function(e,a){Ao(4,2,e,a)},useMemo:function(e,a){var r=Qt();a=a===void 0?null:a;var c=e();if(wn){bs(!0);try{e()}finally{bs(!1)}}return r.memoizedState=[c,a],c},useReducer:function(e,a,r){var c=Qt();if(r!==void 0){var d=r(a);if(wn){bs(!0);try{r(a)}finally{bs(!1)}}}else d=a;return c.memoizedState=c.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},c.queue=e,e=e.dispatch=Xb.bind(null,Re,e),[c.memoizedState,e]},useRef:function(e){var a=Qt();return e={current:e},a.memoizedState=e},useState:function(e){e=nd(e);var a=e.queue,r=O0.bind(null,Re,a);return a.dispatch=r,[e.memoizedState,r]},useDebugValue:id,useDeferredValue:function(e,a){var r=Qt();return ld(r,e,a)},useTransition:function(){var e=nd(!1);return e=C0.bind(null,Re,e.queue,!0,!1),Qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,r){var c=Re,d=Qt();if(He){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),et===null)throw Error(i(349));($e&124)!==0||a0(c,a,r)}d.memoizedState=r;var f={value:r,getSnapshot:a};return d.queue=f,v0(n0.bind(null,c,f,e),[e]),c.flags|=2048,br(9,To(),s0.bind(null,c,f,r,a),null),r},useId:function(){var e=Qt(),a=et.identifierPrefix;if(He){var r=Ja,c=Ia;r=(c&~(1<<32-na(c)-1)).toString(32)+r,a=""+a+"R"+r,r=Eo++,0<r&&(a+="H"+r.toString(32)),a+=""}else r=Fb++,a=""+a+"r"+r.toString(32)+"";return e.memoizedState=a},useHostTransitionStatus:cd,useFormState:f0,useActionState:f0,useOptimistic:function(e){var a=Qt();a.memoizedState=a.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=ud.bind(null,Re,!0,r),r.dispatch=a,[e,a]},useMemoCache:td,useCacheRefresh:function(){return Qt().memoizedState=Yb.bind(null,Re)}},U0={readContext:kt,use:So,useCallback:_0,useContext:kt,useEffect:y0,useImperativeHandle:N0,useInsertionEffect:b0,useLayoutEffect:j0,useMemo:E0,useReducer:Co,useRef:x0,useState:function(){return Co(es)},useDebugValue:id,useDeferredValue:function(e,a){var r=ft();return S0(r,Ie.memoizedState,e,a)},useTransition:function(){var e=Co(es)[0],a=ft().memoizedState;return[typeof e=="boolean"?e:Vi(e),a]},useSyncExternalStore:t0,useId:k0,useHostTransitionStatus:cd,useFormState:m0,useActionState:m0,useOptimistic:function(e,a){var r=ft();return l0(r,Ie,e,a)},useMemoCache:td,useCacheRefresh:R0},Ib={readContext:kt,use:So,useCallback:_0,useContext:kt,useEffect:y0,useImperativeHandle:N0,useInsertionEffect:b0,useLayoutEffect:j0,useMemo:E0,useReducer:sd,useRef:x0,useState:function(){return sd(es)},useDebugValue:id,useDeferredValue:function(e,a){var r=ft();return Ie===null?ld(r,e,a):S0(r,Ie.memoizedState,e,a)},useTransition:function(){var e=sd(es)[0],a=ft().memoizedState;return[typeof e=="boolean"?e:Vi(e),a]},useSyncExternalStore:t0,useId:k0,useHostTransitionStatus:cd,useFormState:p0,useActionState:p0,useOptimistic:function(e,a){var r=ft();return Ie!==null?l0(r,Ie,e,a):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:td,useCacheRefresh:R0},jr=null,Xi=0;function Oo(e){var a=Xi;return Xi+=1,jr===null&&(jr=[]),Km(jr,e,a)}function Ii(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function Mo(e,a){throw a.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(a),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function P0(e){var a=e._init;return a(e._payload)}function z0(e){function a(z,P){if(e){var q=z.deletions;q===null?(z.deletions=[P],z.flags|=16):q.push(P)}}function r(z,P){if(!e)return null;for(;P!==null;)a(z,P),P=P.sibling;return null}function c(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function d(z,P){return z=Xa(z,P),z.index=0,z.sibling=null,z}function f(z,P,q){return z.index=q,e?(q=z.alternate,q!==null?(q=q.index,q<P?(z.flags|=67108866,P):q):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function y(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function N(z,P,q,W){return P===null||P.tag!==6?(P=Ru(q,z.mode,W),P.return=z,P):(P=d(P,q),P.return=z,P)}function R(z,P,q,W){var ge=q.type;return ge===w?J(z,P,q.props.children,W,q.key):P!==null&&(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&P0(ge)===P.type)?(P=d(P,q.props),Ii(P,q),P.return=z,P):(P=go(q.type,q.key,q.props,null,z.mode,W),Ii(P,q),P.return=z,P)}function B(z,P,q,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Ou(q,z.mode,W),P.return=z,P):(P=d(P,q.children||[]),P.return=z,P)}function J(z,P,q,W,ge){return P===null||P.tag!==7?(P=mn(q,z.mode,W,ge),P.return=z,P):(P=d(P,q),P.return=z,P)}function te(z,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ru(""+P,z.mode,q),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return q=go(P.type,P.key,P.props,null,z.mode,q),Ii(q,P),q.return=z,q;case _:return P=Ou(P,z.mode,q),P.return=z,P;case I:var W=P._init;return P=W(P._payload),te(z,P,q)}if(re(P)||pe(P))return P=mn(P,z.mode,q,null),P.return=z,P;if(typeof P.then=="function")return te(z,Oo(P),q);if(P.$$typeof===E)return te(z,yo(z,P),q);Mo(z,P)}return null}function F(z,P,q,W){var ge=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:N(z,P,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case v:return q.key===ge?R(z,P,q,W):null;case _:return q.key===ge?B(z,P,q,W):null;case I:return ge=q._init,q=ge(q._payload),F(z,P,q,W)}if(re(q)||pe(q))return ge!==null?null:J(z,P,q,W,null);if(typeof q.then=="function")return F(z,P,Oo(q),W);if(q.$$typeof===E)return F(z,P,yo(z,q),W);Mo(z,q)}return null}function G(z,P,q,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(q)||null,N(P,z,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return z=z.get(W.key===null?q:W.key)||null,R(P,z,W,ge);case _:return z=z.get(W.key===null?q:W.key)||null,B(P,z,W,ge);case I:var Me=W._init;return W=Me(W._payload),G(z,P,q,W,ge)}if(re(W)||pe(W))return z=z.get(q)||null,J(P,z,W,ge,null);if(typeof W.then=="function")return G(z,P,q,Oo(W),ge);if(W.$$typeof===E)return G(z,P,q,yo(P,W),ge);Mo(P,W)}return null}function Ee(z,P,q,W){for(var ge=null,Me=null,ye=P,_e=P=0,jt=null;ye!==null&&_e<q.length;_e++){ye.index>_e?(jt=ye,ye=null):jt=ye.sibling;var Be=F(z,ye,q[_e],W);if(Be===null){ye===null&&(ye=jt);break}e&&ye&&Be.alternate===null&&a(z,ye),P=f(Be,P,_e),Me===null?ge=Be:Me.sibling=Be,Me=Be,ye=jt}if(_e===q.length)return r(z,ye),He&&pn(z,_e),ge;if(ye===null){for(;_e<q.length;_e++)ye=te(z,q[_e],W),ye!==null&&(P=f(ye,P,_e),Me===null?ge=ye:Me.sibling=ye,Me=ye);return He&&pn(z,_e),ge}for(ye=c(ye);_e<q.length;_e++)jt=G(ye,z,_e,q[_e],W),jt!==null&&(e&&jt.alternate!==null&&ye.delete(jt.key===null?_e:jt.key),P=f(jt,P,_e),Me===null?ge=jt:Me.sibling=jt,Me=jt);return e&&ye.forEach(function(Fs){return a(z,Fs)}),He&&pn(z,_e),ge}function Ne(z,P,q,W){if(q==null)throw Error(i(151));for(var ge=null,Me=null,ye=P,_e=P=0,jt=null,Be=q.next();ye!==null&&!Be.done;_e++,Be=q.next()){ye.index>_e?(jt=ye,ye=null):jt=ye.sibling;var Fs=F(z,ye,Be.value,W);if(Fs===null){ye===null&&(ye=jt);break}e&&ye&&Fs.alternate===null&&a(z,ye),P=f(Fs,P,_e),Me===null?ge=Fs:Me.sibling=Fs,Me=Fs,ye=jt}if(Be.done)return r(z,ye),He&&pn(z,_e),ge;if(ye===null){for(;!Be.done;_e++,Be=q.next())Be=te(z,Be.value,W),Be!==null&&(P=f(Be,P,_e),Me===null?ge=Be:Me.sibling=Be,Me=Be);return He&&pn(z,_e),ge}for(ye=c(ye);!Be.done;_e++,Be=q.next())Be=G(ye,z,_e,Be.value,W),Be!==null&&(e&&Be.alternate!==null&&ye.delete(Be.key===null?_e:Be.key),P=f(Be,P,_e),Me===null?ge=Be:Me.sibling=Be,Me=Be);return e&&ye.forEach(function(J1){return a(z,J1)}),He&&pn(z,_e),ge}function Ze(z,P,q,W){if(typeof q=="object"&&q!==null&&q.type===w&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case v:e:{for(var ge=q.key;P!==null;){if(P.key===ge){if(ge=q.type,ge===w){if(P.tag===7){r(z,P.sibling),W=d(P,q.props.children),W.return=z,z=W;break e}}else if(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&P0(ge)===P.type){r(z,P.sibling),W=d(P,q.props),Ii(W,q),W.return=z,z=W;break e}r(z,P);break}else a(z,P);P=P.sibling}q.type===w?(W=mn(q.props.children,z.mode,W,q.key),W.return=z,z=W):(W=go(q.type,q.key,q.props,null,z.mode,W),Ii(W,q),W.return=z,z=W)}return y(z);case _:e:{for(ge=q.key;P!==null;){if(P.key===ge)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){r(z,P.sibling),W=d(P,q.children||[]),W.return=z,z=W;break e}else{r(z,P);break}else a(z,P);P=P.sibling}W=Ou(q,z.mode,W),W.return=z,z=W}return y(z);case I:return ge=q._init,q=ge(q._payload),Ze(z,P,q,W)}if(re(q))return Ee(z,P,q,W);if(pe(q)){if(ge=pe(q),typeof ge!="function")throw Error(i(150));return q=ge.call(q),Ne(z,P,q,W)}if(typeof q.then=="function")return Ze(z,P,Oo(q),W);if(q.$$typeof===E)return Ze(z,P,yo(z,q),W);Mo(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(r(z,P.sibling),W=d(P,q),W.return=z,z=W):(r(z,P),W=Ru(q,z.mode,W),W.return=z,z=W),y(z)):r(z,P)}return function(z,P,q,W){try{Xi=0;var ge=Ze(z,P,q,W);return jr=null,ge}catch(ye){if(ye===$i||ye===jo)throw ye;var Me=ia(29,ye,null,z.mode);return Me.lanes=W,Me.return=z,Me}finally{}}}var wr=z0(!0),q0=z0(!1),ya=V(null),Ua=null;function Ts(e){var a=e.alternate;se(pt,pt.current&1),se(ya,e),Ua===null&&(a===null||xr.current!==null||a.memoizedState!==null)&&(Ua=e)}function $0(e){if(e.tag===22){if(se(pt,pt.current),se(ya,e),Ua===null){var a=e.alternate;a!==null&&a.memoizedState!==null&&(Ua=e)}}else As()}function As(){se(pt,pt.current),se(ya,ya.current)}function ts(e){ae(ya),Ua===e&&(Ua=null),ae(pt)}var pt=V(0);function Do(e){for(var a=e;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||eh(r)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function dd(e,a,r,c){a=e.memoizedState,r=r(c,a),r=r==null?a:x({},a,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hd={enqueueSetState:function(e,a,r){e=e._reactInternals;var c=ua(),d=Es(c);d.payload=a,r!=null&&(d.callback=r),a=Ss(e,d,c),a!==null&&(da(a,e,c),Hi(a,e,c))},enqueueReplaceState:function(e,a,r){e=e._reactInternals;var c=ua(),d=Es(c);d.tag=1,d.payload=a,r!=null&&(d.callback=r),a=Ss(e,d,c),a!==null&&(da(a,e,c),Hi(a,e,c))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var r=ua(),c=Es(r);c.tag=2,a!=null&&(c.callback=a),a=Ss(e,c,r),a!==null&&(da(a,e,r),Hi(a,e,r))}};function B0(e,a,r,c,d,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,f,y):a.prototype&&a.prototype.isPureReactComponent?!Oi(r,c)||!Oi(d,f):!0}function H0(e,a,r,c){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,c),a.state!==e&&hd.enqueueReplaceState(a,a.state,null)}function Nn(e,a){var r=a;if("ref"in a){r={};for(var c in a)c!=="ref"&&(r[c]=a[c])}if(e=e.defaultProps){r===a&&(r=x({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}var Lo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function F0(e){Lo(e)}function Q0(e){console.error(e)}function G0(e){Lo(e)}function Uo(e,a){try{var r=e.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function V0(e,a,r){try{var c=e.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function fd(e,a,r){return r=Es(r),r.tag=3,r.payload={element:null},r.callback=function(){Uo(e,a)},r}function K0(e){return e=Es(e),e.tag=3,e}function Y0(e,a,r,c){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=c.value;e.payload=function(){return d(f)},e.callback=function(){V0(a,r,c)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){V0(a,r,c),typeof d!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function Jb(e,a,r,c,d){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=r.alternate,a!==null&&Pi(a,r,d,!0),r=ya.current,r!==null){switch(r.tag){case 13:return Ua===null?Pd():r.alternate===null&&lt===0&&(lt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,c===Hu?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([c]):a.add(c),qd(e,c,d)),!1;case 22:return r.flags|=65536,c===Hu?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([c]):r.add(c)),qd(e,c,d)),!1}throw Error(i(435,r.tag))}return qd(e,c,d),Pd(),!1}if(He)return a=ya.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,c!==Lu&&(e=Error(i(422),{cause:c}),Ui(ga(e,r)))):(c!==Lu&&(a=Error(i(423),{cause:c}),Ui(ga(a,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,c=ga(c,r),d=fd(e.stateNode,c,d),Gu(e,d),lt!==4&&(lt=2)),!1;var f=Error(i(520),{cause:c});if(f=ga(f,r),sl===null?sl=[f]:sl.push(f),lt!==4&&(lt=2),a===null)return!0;c=ga(c,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=fd(r.stateNode,c,e),Gu(r,e),!1;case 1:if(a=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ls===null||!Ls.has(f))))return r.flags|=65536,d&=-d,r.lanes|=d,d=K0(d),Y0(d,e,r,c),Gu(r,d),!1}r=r.return}while(r!==null);return!1}var X0=Error(i(461)),yt=!1;function St(e,a,r,c){a.child=e===null?q0(a,null,r,c):wr(a,e.child,r,c)}function I0(e,a,r,c,d){r=r.render;var f=a.ref;if("ref"in c){var y={};for(var N in c)N!=="ref"&&(y[N]=c[N])}else y=c;return bn(a),c=Iu(e,a,r,y,f,d),N=Ju(),e!==null&&!yt?(Zu(e,a,d),as(e,a,d)):(He&&N&&Mu(a),a.flags|=1,St(e,a,c,d),a.child)}function J0(e,a,r,c,d){if(e===null){var f=r.type;return typeof f=="function"&&!ku(f)&&f.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=f,Z0(e,a,f,c,d)):(e=go(r.type,null,c,a,a.mode,d),e.ref=a.ref,e.return=a,a.child=e)}if(f=e.child,!jd(e,d)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Oi,r(y,c)&&e.ref===a.ref)return as(e,a,d)}return a.flags|=1,e=Xa(f,c),e.ref=a.ref,e.return=a,a.child=e}function Z0(e,a,r,c,d){if(e!==null){var f=e.memoizedProps;if(Oi(f,c)&&e.ref===a.ref)if(yt=!1,a.pendingProps=c=f,jd(e,d))(e.flags&131072)!==0&&(yt=!0);else return a.lanes=e.lanes,as(e,a,d)}return md(e,a,r,c,d)}function W0(e,a,r){var c=a.pendingProps,d=c.children,f=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=f!==null?f.baseLanes|r:r,e!==null){for(d=a.child=e.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;a.childLanes=f&~c}else a.childLanes=0,a.child=null;return eg(e,a,c,r)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&bo(a,f!==null?f.cachePool:null),f!==null?Zm(a,f):Ku(),$0(a);else return a.lanes=a.childLanes=536870912,eg(e,a,f!==null?f.baseLanes|r:r,r)}else f!==null?(bo(a,f.cachePool),Zm(a,f),As(),a.memoizedState=null):(e!==null&&bo(a,null),Ku(),As());return St(e,a,d,r),a.child}function eg(e,a,r,c){var d=Bu();return d=d===null?null:{parent:gt._currentValue,pool:d},a.memoizedState={baseLanes:r,cachePool:d},e!==null&&bo(a,null),Ku(),$0(a),e!==null&&Pi(e,a,c,!0),null}function Po(e,a){var r=a.ref;if(r===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(e===null||e.ref!==r)&&(a.flags|=4194816)}}function md(e,a,r,c,d){return bn(a),r=Iu(e,a,r,c,void 0,d),c=Ju(),e!==null&&!yt?(Zu(e,a,d),as(e,a,d)):(He&&c&&Mu(a),a.flags|=1,St(e,a,r,d),a.child)}function tg(e,a,r,c,d,f){return bn(a),a.updateQueue=null,r=e0(a,c,r,d),Wm(e),c=Ju(),e!==null&&!yt?(Zu(e,a,f),as(e,a,f)):(He&&c&&Mu(a),a.flags|=1,St(e,a,r,f),a.child)}function ag(e,a,r,c,d){if(bn(a),a.stateNode===null){var f=hr,y=r.contextType;typeof y=="object"&&y!==null&&(f=kt(y)),f=new r(c,f),a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=hd,a.stateNode=f,f._reactInternals=a,f=a.stateNode,f.props=c,f.state=a.memoizedState,f.refs={},Fu(a),y=r.contextType,f.context=typeof y=="object"&&y!==null?kt(y):hr,f.state=a.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(dd(a,r,y,c),f.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&hd.enqueueReplaceState(f,f.state,null),Qi(a,c,f,d),Fi(),f.state=a.memoizedState),typeof f.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(e===null){f=a.stateNode;var N=a.memoizedProps,R=Nn(r,N);f.props=R;var B=f.context,J=r.contextType;y=hr,typeof J=="object"&&J!==null&&(y=kt(J));var te=r.getDerivedStateFromProps;J=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(N||B!==y)&&H0(a,f,c,y),_s=!1;var F=a.memoizedState;f.state=F,Qi(a,c,f,d),Fi(),B=a.memoizedState,N||F!==B||_s?(typeof te=="function"&&(dd(a,r,te,c),B=a.memoizedState),(R=_s||B0(a,r,R,c,F,B,y))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(a.flags|=4194308)):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=B),f.props=c,f.state=B,f.context=y,c=R):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{f=a.stateNode,Qu(e,a),y=a.memoizedProps,J=Nn(r,y),f.props=J,te=a.pendingProps,F=f.context,B=r.contextType,R=hr,typeof B=="object"&&B!==null&&(R=kt(B)),N=r.getDerivedStateFromProps,(B=typeof N=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==te||F!==R)&&H0(a,f,c,R),_s=!1,F=a.memoizedState,f.state=F,Qi(a,c,f,d),Fi();var G=a.memoizedState;y!==te||F!==G||_s||e!==null&&e.dependencies!==null&&vo(e.dependencies)?(typeof N=="function"&&(dd(a,r,N,c),G=a.memoizedState),(J=_s||B0(a,r,J,c,F,G,R)||e!==null&&e.dependencies!==null&&vo(e.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(c,G,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(c,G,R)),typeof f.componentDidUpdate=="function"&&(a.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=G),f.props=c,f.state=G,f.context=R,c=J):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(a.flags|=1024),c=!1)}return f=c,Po(e,a),c=(a.flags&128)!==0,f||c?(f=a.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:f.render(),a.flags|=1,e!==null&&c?(a.child=wr(a,e.child,null,d),a.child=wr(a,null,r,d)):St(e,a,r,d),a.memoizedState=f.state,e=a.child):e=as(e,a,d),e}function sg(e,a,r,c){return Li(),a.flags|=256,St(e,a,r,c),a.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(e){return{baseLanes:e,cachePool:Qm()}}function xd(e,a,r){return e=e!==null?e.childLanes&~r:0,a&&(e|=ba),e}function ng(e,a,r){var c=a.pendingProps,d=!1,f=(a.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),y&&(d=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,e===null){if(He){if(d?Ts(a):As(),He){var N=it,R;if(R=N){e:{for(R=N,N=La;R.nodeType!==8;){if(!N){N=null;break e}if(R=Ea(R.nextSibling),R===null){N=null;break e}}N=R}N!==null?(a.memoizedState={dehydrated:N,treeContext:gn!==null?{id:Ia,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},R=ia(18,null,null,0),R.stateNode=N,R.return=a,a.child=R,Lt=a,it=null,R=!0):R=!1}R||vn(a)}if(N=a.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return eh(N)?a.lanes=32:a.lanes=536870912,null;ts(a)}return N=c.children,c=c.fallback,d?(As(),d=a.mode,N=zo({mode:"hidden",children:N},d),c=mn(c,d,r,null),N.return=a,c.return=a,N.sibling=c,a.child=N,d=a.child,d.memoizedState=pd(r),d.childLanes=xd(e,y,r),a.memoizedState=gd,c):(Ts(a),vd(a,N))}if(R=e.memoizedState,R!==null&&(N=R.dehydrated,N!==null)){if(f)a.flags&256?(Ts(a),a.flags&=-257,a=yd(e,a,r)):a.memoizedState!==null?(As(),a.child=e.child,a.flags|=128,a=null):(As(),d=c.fallback,N=a.mode,c=zo({mode:"visible",children:c.children},N),d=mn(d,N,r,null),d.flags|=2,c.return=a,d.return=a,c.sibling=d,a.child=c,wr(a,e.child,null,r),c=a.child,c.memoizedState=pd(r),c.childLanes=xd(e,y,r),a.memoizedState=gd,a=d);else if(Ts(a),eh(N)){if(y=N.nextSibling&&N.nextSibling.dataset,y)var B=y.dgst;y=B,c=Error(i(419)),c.stack="",c.digest=y,Ui({value:c,source:null,stack:null}),a=yd(e,a,r)}else if(yt||Pi(e,a,r,!1),y=(r&e.childLanes)!==0,yt||y){if(y=et,y!==null&&(c=r&-r,c=(c&42)!==0?1:tu(c),c=(c&(y.suspendedLanes|r))!==0?0:c,c!==0&&c!==R.retryLane))throw R.retryLane=c,dr(e,c),da(y,e,c),X0;N.data==="$?"||Pd(),a=yd(e,a,r)}else N.data==="$?"?(a.flags|=192,a.child=e.child,a=null):(e=R.treeContext,it=Ea(N.nextSibling),Lt=a,He=!0,xn=null,La=!1,e!==null&&(xa[va++]=Ia,xa[va++]=Ja,xa[va++]=gn,Ia=e.id,Ja=e.overflow,gn=a),a=vd(a,c.children),a.flags|=4096);return a}return d?(As(),d=c.fallback,N=a.mode,R=e.child,B=R.sibling,c=Xa(R,{mode:"hidden",children:c.children}),c.subtreeFlags=R.subtreeFlags&65011712,B!==null?d=Xa(B,d):(d=mn(d,N,r,null),d.flags|=2),d.return=a,c.return=a,c.sibling=d,a.child=c,c=d,d=a.child,N=e.child.memoizedState,N===null?N=pd(r):(R=N.cachePool,R!==null?(B=gt._currentValue,R=R.parent!==B?{parent:B,pool:B}:R):R=Qm(),N={baseLanes:N.baseLanes|r,cachePool:R}),d.memoizedState=N,d.childLanes=xd(e,y,r),a.memoizedState=gd,c):(Ts(a),r=e.child,e=r.sibling,r=Xa(r,{mode:"visible",children:c.children}),r.return=a,r.sibling=null,e!==null&&(y=a.deletions,y===null?(a.deletions=[e],a.flags|=16):y.push(e)),a.child=r,a.memoizedState=null,r)}function vd(e,a){return a=zo({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function zo(e,a){return e=ia(22,e,null,a),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function yd(e,a,r){return wr(a,e.child,null,r),e=vd(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function rg(e,a,r){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a),Pu(e.return,a,r)}function bd(e,a,r,c,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:d}:(f.isBackwards=a,f.rendering=null,f.renderingStartTime=0,f.last=c,f.tail=r,f.tailMode=d)}function ig(e,a,r){var c=a.pendingProps,d=c.revealOrder,f=c.tail;if(St(e,a,c.children,r),c=pt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rg(e,r,a);else if(e.tag===19)rg(e,r,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(se(pt,c),d){case"forwards":for(r=a.child,d=null;r!==null;)e=r.alternate,e!==null&&Do(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=a.child,a.child=null):(d=r.sibling,r.sibling=null),bd(a,!1,d,r,f);break;case"backwards":for(r=null,d=a.child,a.child=null;d!==null;){if(e=d.alternate,e!==null&&Do(e)===null){a.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}bd(a,!0,r,null,f);break;case"together":bd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function as(e,a,r){if(e!==null&&(a.dependencies=e.dependencies),Ds|=a.lanes,(r&a.childLanes)===0)if(e!==null){if(Pi(e,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(i(153));if(a.child!==null){for(e=a.child,r=Xa(e,e.pendingProps),a.child=r,r.return=a;e.sibling!==null;)e=e.sibling,r=r.sibling=Xa(e,e.pendingProps),r.return=a;r.sibling=null}return a.child}function jd(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&vo(e)))}function Zb(e,a,r){switch(a.tag){case 3:ce(a,a.stateNode.containerInfo),Ns(a,gt,e.memoizedState.cache),Li();break;case 27:case 5:Z(a);break;case 4:ce(a,a.stateNode.containerInfo);break;case 10:Ns(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ts(a),a.flags|=128,null):(r&a.child.childLanes)!==0?ng(e,a,r):(Ts(a),e=as(e,a,r),e!==null?e.sibling:null);Ts(a);break;case 19:var d=(e.flags&128)!==0;if(c=(r&a.childLanes)!==0,c||(Pi(e,a,r,!1),c=(r&a.childLanes)!==0),d){if(c)return ig(e,a,r);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(pt,pt.current),c)break;return null;case 22:case 23:return a.lanes=0,W0(e,a,r);case 24:Ns(a,gt,e.memoizedState.cache)}return as(e,a,r)}function lg(e,a,r){if(e!==null)if(e.memoizedProps!==a.pendingProps)yt=!0;else{if(!jd(e,r)&&(a.flags&128)===0)return yt=!1,Zb(e,a,r);yt=(e.flags&131072)!==0}else yt=!1,He&&(a.flags&1048576)!==0&&Pm(a,xo,a.index);switch(a.lanes=0,a.tag){case 16:e:{e=a.pendingProps;var c=a.elementType,d=c._init;if(c=d(c._payload),a.type=c,typeof c=="function")ku(c)?(e=Nn(c,e),a.tag=1,a=ag(null,a,c,e,r)):(a.tag=0,a=md(null,a,c,e,r));else{if(c!=null){if(d=c.$$typeof,d===k){a.tag=11,a=I0(null,a,c,e,r);break e}else if(d===$){a.tag=14,a=J0(null,a,c,e,r);break e}}throw a=K(c)||c,Error(i(306,a,""))}}return a;case 0:return md(e,a,a.type,a.pendingProps,r);case 1:return c=a.type,d=Nn(c,a.pendingProps),ag(e,a,c,d,r);case 3:e:{if(ce(a,a.stateNode.containerInfo),e===null)throw Error(i(387));c=a.pendingProps;var f=a.memoizedState;d=f.element,Qu(e,a),Qi(a,c,null,r);var y=a.memoizedState;if(c=y.cache,Ns(a,gt,c),c!==f.cache&&zu(a,[gt],r,!0),Fi(),c=y.element,f.isDehydrated)if(f={element:c,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=sg(e,a,c,r);break e}else if(c!==d){d=ga(Error(i(424)),a),Ui(d),a=sg(e,a,c,r);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(it=Ea(e.firstChild),Lt=a,He=!0,xn=null,La=!0,r=q0(a,null,c,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Li(),c===d){a=as(e,a,r);break e}St(e,a,c,r)}a=a.child}return a;case 26:return Po(e,a),e===null?(r=dp(a.type,null,a.pendingProps,null))?a.memoizedState=r:He||(r=a.type,e=a.pendingProps,c=Zo(ve.current).createElement(r),c[At]=a,c[Ht]=e,Tt(c,r,e),vt(c),a.stateNode=c):a.memoizedState=dp(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return Z(a),e===null&&He&&(c=a.stateNode=op(a.type,a.pendingProps,ve.current),Lt=a,La=!0,d=it,zs(a.type)?(th=d,it=Ea(c.firstChild)):it=d),St(e,a,a.pendingProps.children,r),Po(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&He&&((d=c=it)&&(c=S1(c,a.type,a.pendingProps,La),c!==null?(a.stateNode=c,Lt=a,it=Ea(c.firstChild),La=!1,d=!0):d=!1),d||vn(a)),Z(a),d=a.type,f=a.pendingProps,y=e!==null?e.memoizedProps:null,c=f.children,Jd(d,f)?c=null:y!==null&&Jd(d,y)&&(a.flags|=32),a.memoizedState!==null&&(d=Iu(e,a,Qb,null,null,r),hl._currentValue=d),Po(e,a),St(e,a,c,r),a.child;case 6:return e===null&&He&&((e=r=it)&&(r=C1(r,a.pendingProps,La),r!==null?(a.stateNode=r,Lt=a,it=null,e=!0):e=!1),e||vn(a)),null;case 13:return ng(e,a,r);case 4:return ce(a,a.stateNode.containerInfo),c=a.pendingProps,e===null?a.child=wr(a,null,c,r):St(e,a,c,r),a.child;case 11:return I0(e,a,a.type,a.pendingProps,r);case 7:return St(e,a,a.pendingProps,r),a.child;case 8:return St(e,a,a.pendingProps.children,r),a.child;case 12:return St(e,a,a.pendingProps.children,r),a.child;case 10:return c=a.pendingProps,Ns(a,a.type,c.value),St(e,a,c.children,r),a.child;case 9:return d=a.type._context,c=a.pendingProps.children,bn(a),d=kt(d),c=c(d),a.flags|=1,St(e,a,c,r),a.child;case 14:return J0(e,a,a.type,a.pendingProps,r);case 15:return Z0(e,a,a.type,a.pendingProps,r);case 19:return ig(e,a,r);case 31:return c=a.pendingProps,r=a.mode,c={mode:c.mode,children:c.children},e===null?(r=zo(c,r),r.ref=a.ref,a.child=r,r.return=a,a=r):(r=Xa(e.child,c),r.ref=a.ref,a.child=r,r.return=a,a=r),a;case 22:return W0(e,a,r);case 24:return bn(a),c=kt(gt),e===null?(d=Bu(),d===null&&(d=et,f=qu(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=r),d=f),a.memoizedState={parent:c,cache:d},Fu(a),Ns(a,gt,d)):((e.lanes&r)!==0&&(Qu(e,a),Qi(a,null,null,r),Fi()),d=e.memoizedState,f=a.memoizedState,d.parent!==c?(d={parent:c,cache:c},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Ns(a,gt,c)):(c=f.cache,Ns(a,gt,c),c!==d.cache&&zu(a,[gt],r,!0))),St(e,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ss(e){e.flags|=4}function og(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pp(a)){if(a=ya.current,a!==null&&(($e&4194048)===$e?Ua!==null:($e&62914560)!==$e&&($e&536870912)===0||a!==Ua))throw Bi=Hu,Gm;e.flags|=8192}}function qo(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?$f():536870912,e.lanes|=a,Sr|=a)}function Ji(e,a){if(!He)switch(e.tailMode){case"hidden":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function nt(e){var a=e.alternate!==null&&e.alternate.child===e.child,r=0,c=0;if(a)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=c,e.childLanes=r,a}function Wb(e,a,r){var c=a.pendingProps;switch(Du(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(a),null;case 1:return nt(a),null;case 3:return r=a.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Wa(gt),he(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Di(a)?ss(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,$m())),nt(a),null;case 26:return r=a.memoizedState,e===null?(ss(a),r!==null?(nt(a),og(a,r)):(nt(a),a.flags&=-16777217)):r?r!==e.memoizedState?(ss(a),nt(a),og(a,r)):(nt(a),a.flags&=-16777217):(e.memoizedProps!==c&&ss(a),nt(a),a.flags&=-16777217),null;case 27:oe(a),r=ve.current;var d=a.type;if(e!==null&&a.stateNode!=null)e.memoizedProps!==c&&ss(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return nt(a),null}e=me.current,Di(a)?zm(a):(e=op(d,c,r),a.stateNode=e,ss(a))}return nt(a),null;case 5:if(oe(a),r=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==c&&ss(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return nt(a),null}if(e=me.current,Di(a))zm(a);else{switch(d=Zo(ve.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?d.createElement(r,{is:c.is}):d.createElement(r)}}e[At]=a,e[Ht]=c;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=e;e:switch(Tt(e,r,c),r){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ss(a)}}return nt(a),a.flags&=-16777217,null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==c&&ss(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(e=ve.current,Di(a)){if(e=a.stateNode,r=a.memoizedProps,c=null,d=Lt,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}e[At]=a,e=!!(e.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||tp(e.nodeValue,r)),e||vn(a)}else e=Zo(e).createTextNode(c),e[At]=a,a.stateNode=e}return nt(a),null;case 13:if(c=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Di(a),c!==null&&c.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[At]=a}else Li(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;nt(a),d=!1}else d=$m(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(ts(a),a):(ts(a),null)}if(ts(a),(a.flags&128)!==0)return a.lanes=r,a;if(r=c!==null,e=e!==null&&e.memoizedState!==null,r){c=a.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var f=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(f=c.memoizedState.cachePool.pool),f!==d&&(c.flags|=2048)}return r!==e&&r&&(a.child.flags|=8192),qo(a,a.updateQueue),nt(a),null;case 4:return he(),e===null&&Vd(a.stateNode.containerInfo),nt(a),null;case 10:return Wa(a.type),nt(a),null;case 19:if(ae(pt),d=a.memoizedState,d===null)return nt(a),null;if(c=(a.flags&128)!==0,f=d.rendering,f===null)if(c)Ji(d,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(f=Do(e),f!==null){for(a.flags|=128,Ji(d,!1),e=f.updateQueue,a.updateQueue=e,qo(a,e),a.subtreeFlags=0,e=r,r=a.child;r!==null;)Um(r,e),r=r.sibling;return se(pt,pt.current&1|2),a.child}e=e.sibling}d.tail!==null&&ha()>Ho&&(a.flags|=128,c=!0,Ji(d,!1),a.lanes=4194304)}else{if(!c)if(e=Do(f),e!==null){if(a.flags|=128,c=!0,e=e.updateQueue,a.updateQueue=e,qo(a,e),Ji(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!He)return nt(a),null}else 2*ha()-d.renderingStartTime>Ho&&r!==536870912&&(a.flags|=128,c=!0,Ji(d,!1),a.lanes=4194304);d.isBackwards?(f.sibling=a.child,a.child=f):(e=d.last,e!==null?e.sibling=f:a.child=f,d.last=f)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=ha(),a.sibling=null,e=pt.current,se(pt,c?e&1|2:e&1),a):(nt(a),null);case 22:case 23:return ts(a),Yu(),c=a.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(r&536870912)!==0&&(a.flags&128)===0&&(nt(a),a.subtreeFlags&6&&(a.flags|=8192)):nt(a),r=a.updateQueue,r!==null&&qo(a,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==r&&(a.flags|=2048),e!==null&&ae(jn),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),Wa(gt),nt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function e1(e,a){switch(Du(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return Wa(gt),he(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return oe(a),null;case 13:if(ts(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Li()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return ae(pt),null;case 4:return he(),null;case 10:return Wa(a.type),null;case 22:case 23:return ts(a),Yu(),e!==null&&ae(jn),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return Wa(gt),null;case 25:return null;default:return null}}function cg(e,a){switch(Du(a),a.tag){case 3:Wa(gt),he();break;case 26:case 27:case 5:oe(a);break;case 4:he();break;case 13:ts(a);break;case 19:ae(pt);break;case 10:Wa(a.type);break;case 22:case 23:ts(a),Yu(),e!==null&&ae(jn);break;case 24:Wa(gt)}}function Zi(e,a){try{var r=a.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&e)===e){c=void 0;var f=r.create,y=r.inst;c=f(),y.destroy=c}r=r.next}while(r!==d)}}catch(N){We(a,a.return,N)}}function ks(e,a,r){try{var c=a.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var f=d.next;c=f;do{if((c.tag&e)===e){var y=c.inst,N=y.destroy;if(N!==void 0){y.destroy=void 0,d=a;var R=r,B=N;try{B()}catch(J){We(d,R,J)}}}c=c.next}while(c!==f)}}catch(J){We(a,a.return,J)}}function ug(e){var a=e.updateQueue;if(a!==null){var r=e.stateNode;try{Jm(a,r)}catch(c){We(e,e.return,c)}}}function dg(e,a,r){r.props=Nn(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(c){We(e,a,c)}}function Wi(e,a){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(d){We(e,a,d)}}function Pa(e,a){var r=e.ref,c=e.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(d){We(e,a,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){We(e,a,d)}else r.current=null}function hg(e){var a=e.type,r=e.memoizedProps,c=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break e;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(d){We(e,e.return,d)}}function wd(e,a,r){try{var c=e.stateNode;j1(c,e.type,r,a),c[Ht]=a}catch(d){We(e,e.return,d)}}function fg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zs(e.type)||e.tag===4}function Nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _d(e,a,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(e),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=Jo));else if(c!==4&&(c===27&&zs(e.type)&&(r=e.stateNode,a=null),e=e.child,e!==null))for(_d(e,a,r),e=e.sibling;e!==null;)_d(e,a,r),e=e.sibling}function $o(e,a,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,a?r.insertBefore(e,a):r.appendChild(e);else if(c!==4&&(c===27&&zs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for($o(e,a,r),e=e.sibling;e!==null;)$o(e,a,r),e=e.sibling}function mg(e){var a=e.stateNode,r=e.memoizedProps;try{for(var c=e.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Tt(a,c,r),a[At]=e,a[Ht]=r}catch(f){We(e,e.return,f)}}var ns=!1,ut=!1,Ed=!1,gg=typeof WeakSet=="function"?WeakSet:Set,bt=null;function t1(e,a){if(e=e.containerInfo,Xd=nc,e=Sm(e),Nu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var d=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,N=-1,R=-1,B=0,J=0,te=e,F=null;t:for(;;){for(var G;te!==r||d!==0&&te.nodeType!==3||(N=y+d),te!==f||c!==0&&te.nodeType!==3||(R=y+c),te.nodeType===3&&(y+=te.nodeValue.length),(G=te.firstChild)!==null;)F=te,te=G;for(;;){if(te===e)break t;if(F===r&&++B===d&&(N=y),F===f&&++J===c&&(R=y),(G=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=G}r=N===-1||R===-1?null:{start:N,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Id={focusedElem:e,selectionRange:r},nc=!1,bt=a;bt!==null;)if(a=bt,e=a.child,(a.subtreeFlags&1024)!==0&&e!==null)e.return=a,bt=e;else for(;bt!==null;){switch(a=bt,f=a.alternate,e=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=a,d=f.memoizedProps,f=f.memoizedState,c=r.stateNode;try{var Ee=Nn(r.type,d,r.elementType===r.type);e=c.getSnapshotBeforeUpdate(Ee,f),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){We(r,r.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,r=e.nodeType,r===9)Wd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=a.sibling,e!==null){e.return=a.return,bt=e;break}bt=a.return}}function pg(e,a,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Rs(e,r),c&4&&Zi(5,r);break;case 1:if(Rs(e,r),c&4)if(e=r.stateNode,a===null)try{e.componentDidMount()}catch(y){We(r,r.return,y)}else{var d=Nn(r.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(d,a,e.__reactInternalSnapshotBeforeUpdate)}catch(y){We(r,r.return,y)}}c&64&&ug(r),c&512&&Wi(r,r.return);break;case 3:if(Rs(e,r),c&64&&(e=r.updateQueue,e!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{Jm(e,a)}catch(y){We(r,r.return,y)}}break;case 27:a===null&&c&4&&mg(r);case 26:case 5:Rs(e,r),a===null&&c&4&&hg(r),c&512&&Wi(r,r.return);break;case 12:Rs(e,r);break;case 13:Rs(e,r),c&4&&yg(e,r),c&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=u1.bind(null,r),T1(e,r))));break;case 22:if(c=r.memoizedState!==null||ns,!c){a=a!==null&&a.memoizedState!==null||ut,d=ns;var f=ut;ns=c,(ut=a)&&!f?Os(e,r,(r.subtreeFlags&8772)!==0):Rs(e,r),ns=d,ut=f}break;case 30:break;default:Rs(e,r)}}function xg(e){var a=e.alternate;a!==null&&(e.alternate=null,xg(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&nu(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,Gt=!1;function rs(e,a,r){for(r=r.child;r!==null;)vg(e,a,r),r=r.sibling}function vg(e,a,r){if(sa&&typeof sa.onCommitFiberUnmount=="function")try{sa.onCommitFiberUnmount(bi,r)}catch{}switch(r.tag){case 26:ut||Pa(r,a),rs(e,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ut||Pa(r,a);var c=at,d=Gt;zs(r.type)&&(at=r.stateNode,Gt=!1),rs(e,a,r),ol(r.stateNode),at=c,Gt=d;break;case 5:ut||Pa(r,a);case 6:if(c=at,d=Gt,at=null,rs(e,a,r),at=c,Gt=d,at!==null)if(Gt)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(r.stateNode)}catch(f){We(r,a,f)}else try{at.removeChild(r.stateNode)}catch(f){We(r,a,f)}break;case 18:at!==null&&(Gt?(e=at,ip(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),pl(e)):ip(at,r.stateNode));break;case 4:c=at,d=Gt,at=r.stateNode.containerInfo,Gt=!0,rs(e,a,r),at=c,Gt=d;break;case 0:case 11:case 14:case 15:ut||ks(2,r,a),ut||ks(4,r,a),rs(e,a,r);break;case 1:ut||(Pa(r,a),c=r.stateNode,typeof c.componentWillUnmount=="function"&&dg(r,a,c)),rs(e,a,r);break;case 21:rs(e,a,r);break;case 22:ut=(c=ut)||r.memoizedState!==null,rs(e,a,r),ut=c;break;default:rs(e,a,r)}}function yg(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pl(e)}catch(r){We(a,a.return,r)}}function a1(e){switch(e.tag){case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new gg),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new gg),a;default:throw Error(i(435,e.tag))}}function Sd(e,a){var r=a1(e);a.forEach(function(c){var d=d1.bind(null,e,c);r.has(c)||(r.add(c),c.then(d,d))})}function la(e,a){var r=a.deletions;if(r!==null)for(var c=0;c<r.length;c++){var d=r[c],f=e,y=a,N=y;e:for(;N!==null;){switch(N.tag){case 27:if(zs(N.type)){at=N.stateNode,Gt=!1;break e}break;case 5:at=N.stateNode,Gt=!1;break e;case 3:case 4:at=N.stateNode.containerInfo,Gt=!0;break e}N=N.return}if(at===null)throw Error(i(160));vg(f,y,d),at=null,Gt=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)bg(a,e),a=a.sibling}var _a=null;function bg(e,a){var r=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:la(a,e),oa(e),c&4&&(ks(3,e,e.return),Zi(3,e),ks(5,e,e.return));break;case 1:la(a,e),oa(e),c&512&&(ut||r===null||Pa(r,r.return)),c&64&&ns&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var d=_a;if(la(a,e),oa(e),c&512&&(ut||r===null||Pa(r,r.return)),c&4){var f=r!==null?r.memoizedState:null;if(c=e.memoizedState,r===null)if(c===null)if(e.stateNode===null){e:{c=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Ni]||f[At]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(c),d.head.insertBefore(f,d.querySelector("head > title"))),Tt(f,c,r),f[At]=e,vt(f),c=f;break e;case"link":var y=mp("link","href",d).get(c+(r.href||""));if(y){for(var N=0;N<y.length;N++)if(f=y[N],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(N,1);break t}}f=d.createElement(c),Tt(f,c,r),d.head.appendChild(f);break;case"meta":if(y=mp("meta","content",d).get(c+(r.content||""))){for(N=0;N<y.length;N++)if(f=y[N],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(N,1);break t}}f=d.createElement(c),Tt(f,c,r),d.head.appendChild(f);break;default:throw Error(i(468,c))}f[At]=e,vt(f),c=f}e.stateNode=c}else gp(d,e.type,e.stateNode);else e.stateNode=fp(d,c,e.memoizedProps);else f!==c?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,c===null?gp(d,e.type,e.stateNode):fp(d,c,e.memoizedProps)):c===null&&e.stateNode!==null&&wd(e,e.memoizedProps,r.memoizedProps)}break;case 27:la(a,e),oa(e),c&512&&(ut||r===null||Pa(r,r.return)),r!==null&&c&4&&wd(e,e.memoizedProps,r.memoizedProps);break;case 5:if(la(a,e),oa(e),c&512&&(ut||r===null||Pa(r,r.return)),e.flags&32){d=e.stateNode;try{nr(d,"")}catch(G){We(e,e.return,G)}}c&4&&e.stateNode!=null&&(d=e.memoizedProps,wd(e,d,r!==null?r.memoizedProps:d)),c&1024&&(Ed=!0);break;case 6:if(la(a,e),oa(e),c&4){if(e.stateNode===null)throw Error(i(162));c=e.memoizedProps,r=e.stateNode;try{r.nodeValue=c}catch(G){We(e,e.return,G)}}break;case 3:if(tc=null,d=_a,_a=Wo(a.containerInfo),la(a,e),_a=d,oa(e),c&4&&r!==null&&r.memoizedState.isDehydrated)try{pl(a.containerInfo)}catch(G){We(e,e.return,G)}Ed&&(Ed=!1,jg(e));break;case 4:c=_a,_a=Wo(e.stateNode.containerInfo),la(a,e),oa(e),_a=c;break;case 12:la(a,e),oa(e);break;case 13:la(a,e),oa(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Od=ha()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Sd(e,c)));break;case 22:d=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,B=ns,J=ut;if(ns=B||d,ut=J||R,la(a,e),ut=J,ns=B,oa(e),c&8192)e:for(a=e.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(r===null||R||ns||ut||_n(e)),r=null,a=e;;){if(a.tag===5||a.tag===26){if(r===null){R=r=a;try{if(f=R.stateNode,d)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{N=R.stateNode;var te=R.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;N.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){We(R,R.return,G)}}}else if(a.tag===6){if(r===null){R=a;try{R.stateNode.nodeValue=d?"":R.memoizedProps}catch(G){We(R,R.return,G)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=e.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,Sd(e,r))));break;case 19:la(a,e),oa(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Sd(e,c)));break;case 30:break;case 21:break;default:la(a,e),oa(e)}}function oa(e){var a=e.flags;if(a&2){try{for(var r,c=e.return;c!==null;){if(fg(c)){r=c;break}c=c.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var d=r.stateNode,f=Nd(e);$o(e,f,d);break;case 5:var y=r.stateNode;r.flags&32&&(nr(y,""),r.flags&=-33);var N=Nd(e);$o(e,N,y);break;case 3:case 4:var R=r.stateNode.containerInfo,B=Nd(e);_d(e,B,R);break;default:throw Error(i(161))}}catch(J){We(e,e.return,J)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function jg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;jg(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Rs(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)pg(e,a.alternate,a),a=a.sibling}function _n(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:ks(4,a,a.return),_n(a);break;case 1:Pa(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&dg(a,a.return,r),_n(a);break;case 27:ol(a.stateNode);case 26:case 5:Pa(a,a.return),_n(a);break;case 22:a.memoizedState===null&&_n(a);break;case 30:_n(a);break;default:_n(a)}e=e.sibling}}function Os(e,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,d=e,f=a,y=f.flags;switch(f.tag){case 0:case 11:case 15:Os(d,f,r),Zi(4,f);break;case 1:if(Os(d,f,r),c=f,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){We(c,c.return,B)}if(c=f,d=c.updateQueue,d!==null){var N=c.stateNode;try{var R=d.shared.hiddenCallbacks;if(R!==null)for(d.shared.hiddenCallbacks=null,d=0;d<R.length;d++)Im(R[d],N)}catch(B){We(c,c.return,B)}}r&&y&64&&ug(f),Wi(f,f.return);break;case 27:mg(f);case 26:case 5:Os(d,f,r),r&&c===null&&y&4&&hg(f),Wi(f,f.return);break;case 12:Os(d,f,r);break;case 13:Os(d,f,r),r&&y&4&&yg(d,f);break;case 22:f.memoizedState===null&&Os(d,f,r),Wi(f,f.return);break;case 30:break;default:Os(d,f,r)}a=a.sibling}}function Cd(e,a){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&zi(r))}function Td(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&zi(e))}function za(e,a,r,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)wg(e,a,r,c),a=a.sibling}function wg(e,a,r,c){var d=a.flags;switch(a.tag){case 0:case 11:case 15:za(e,a,r,c),d&2048&&Zi(9,a);break;case 1:za(e,a,r,c);break;case 3:za(e,a,r,c),d&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&zi(e)));break;case 12:if(d&2048){za(e,a,r,c),e=a.stateNode;try{var f=a.memoizedProps,y=f.id,N=f.onPostCommit;typeof N=="function"&&N(y,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){We(a,a.return,R)}}else za(e,a,r,c);break;case 13:za(e,a,r,c);break;case 23:break;case 22:f=a.stateNode,y=a.alternate,a.memoizedState!==null?f._visibility&2?za(e,a,r,c):el(e,a):f._visibility&2?za(e,a,r,c):(f._visibility|=2,Nr(e,a,r,c,(a.subtreeFlags&10256)!==0)),d&2048&&Cd(y,a);break;case 24:za(e,a,r,c),d&2048&&Td(a.alternate,a);break;default:za(e,a,r,c)}}function Nr(e,a,r,c,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var f=e,y=a,N=r,R=c,B=y.flags;switch(y.tag){case 0:case 11:case 15:Nr(f,y,N,R,d),Zi(8,y);break;case 23:break;case 22:var J=y.stateNode;y.memoizedState!==null?J._visibility&2?Nr(f,y,N,R,d):el(f,y):(J._visibility|=2,Nr(f,y,N,R,d)),d&&B&2048&&Cd(y.alternate,y);break;case 24:Nr(f,y,N,R,d),d&&B&2048&&Td(y.alternate,y);break;default:Nr(f,y,N,R,d)}a=a.sibling}}function el(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=e,c=a,d=c.flags;switch(c.tag){case 22:el(r,c),d&2048&&Cd(c.alternate,c);break;case 24:el(r,c),d&2048&&Td(c.alternate,c);break;default:el(r,c)}a=a.sibling}}var tl=8192;function _r(e){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)Ng(e),e=e.sibling}function Ng(e){switch(e.tag){case 26:_r(e),e.flags&tl&&e.memoizedState!==null&&B1(_a,e.memoizedState,e.memoizedProps);break;case 5:_r(e);break;case 3:case 4:var a=_a;_a=Wo(e.stateNode.containerInfo),_r(e),_a=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=tl,tl=16777216,_r(e),tl=a):_r(e));break;default:_r(e)}}function _g(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function al(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var c=a[r];bt=c,Sg(c,e)}_g(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Eg(e),e=e.sibling}function Eg(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&ks(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,Bo(e)):al(e);break;default:al(e)}}function Bo(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var c=a[r];bt=c,Sg(c,e)}_g(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:ks(8,a,a.return),Bo(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,Bo(a));break;default:Bo(a)}e=e.sibling}}function Sg(e,a){for(;bt!==null;){var r=bt;switch(r.tag){case 0:case 11:case 15:ks(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:zi(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,bt=c;else e:for(r=e;bt!==null;){c=bt;var d=c.sibling,f=c.return;if(xg(c),c===r){bt=null;break e}if(d!==null){d.return=f,bt=d;break e}bt=f}}}var s1={getCacheForType:function(e){var a=kt(gt),r=a.data.get(e);return r===void 0&&(r=e(),a.data.set(e,r)),r}},n1=typeof WeakMap=="function"?WeakMap:Map,Ke=0,et=null,De=null,$e=0,Ye=0,ca=null,Ms=!1,Er=!1,Ad=!1,is=0,lt=0,Ds=0,En=0,kd=0,ba=0,Sr=0,sl=null,Vt=null,Rd=!1,Od=0,Ho=1/0,Fo=null,Ls=null,Ct=0,Us=null,Cr=null,Tr=0,Md=0,Dd=null,Cg=null,nl=0,Ld=null;function ua(){if((Ke&2)!==0&&$e!==0)return $e&-$e;if(M.T!==null){var e=gr;return e!==0?e:Hd()}return Ff()}function Tg(){ba===0&&(ba=($e&536870912)===0||He?qf():536870912);var e=ya.current;return e!==null&&(e.flags|=32),ba}function da(e,a,r){(e===et&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(Ar(e,0),Ps(e,$e,ba,!1)),wi(e,r),((Ke&2)===0||e!==et)&&(e===et&&((Ke&2)===0&&(En|=r),lt===4&&Ps(e,$e,ba,!1)),qa(e))}function Ag(e,a,r){if((Ke&6)!==0)throw Error(i(327));var c=!r&&(a&124)===0&&(a&e.expiredLanes)===0||ji(e,a),d=c?l1(e,a):zd(e,a,!0),f=c;do{if(d===0){Er&&!c&&Ps(e,a,0,!1);break}else{if(r=e.current.alternate,f&&!r1(r)){d=zd(e,a,!1),f=!1;continue}if(d===2){if(f=a,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;e:{var N=e;d=sl;var R=N.current.memoizedState.isDehydrated;if(R&&(Ar(N,y).flags|=256),y=zd(N,y,!1),y!==2){if(Ad&&!R){N.errorRecoveryDisabledLanes|=f,En|=f,d=4;break e}f=Vt,Vt=d,f!==null&&(Vt===null?Vt=f:Vt.push.apply(Vt,f))}d=y}if(f=!1,d!==2)continue}}if(d===1){Ar(e,0),Ps(e,a,0,!0);break}e:{switch(c=e,f=d,f){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Ps(c,a,ba,!Ms);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=Od+300-ha(),10<d)){if(Ps(c,a,ba,!Ms),Wl(c,0,!0)!==0)break e;c.timeoutHandle=np(kg.bind(null,c,r,Vt,Fo,Rd,a,ba,En,Sr,Ms,f,2,-0,0),d);break e}kg(c,r,Vt,Fo,Rd,a,ba,En,Sr,Ms,f,0,-0,0)}}break}while(!0);qa(e)}function kg(e,a,r,c,d,f,y,N,R,B,J,te,F,G){if(e.timeoutHandle=-1,te=a.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(dl={stylesheets:null,count:0,unsuspend:$1},Ng(a),te=H1(),te!==null)){e.cancelPendingCommit=te(Pg.bind(null,e,a,f,r,c,d,y,N,R,J,1,F,G)),Ps(e,f,y,!B);return}Pg(e,a,f,r,c,d,y,N,R)}function r1(e){for(var a=e;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var d=r[c],f=d.getSnapshot;d=d.value;try{if(!ra(f(),d))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ps(e,a,r,c){a&=~kd,a&=~En,e.suspendedLanes|=a,e.pingedLanes&=~a,c&&(e.warmLanes|=a),c=e.expirationTimes;for(var d=a;0<d;){var f=31-na(d),y=1<<f;c[f]=-1,d&=~y}r!==0&&Bf(e,r,a)}function Qo(){return(Ke&6)===0?(rl(0),!1):!0}function Ud(){if(De!==null){if(Ye===0)var e=De.return;else e=De,Za=yn=null,Wu(e),jr=null,Xi=0,e=De;for(;e!==null;)cg(e.alternate,e),e=e.return;De=null}}function Ar(e,a){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,N1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ud(),et=e,De=r=Xa(e.current,null),$e=a,Ye=0,ca=null,Ms=!1,Er=ji(e,a),Ad=!1,Sr=ba=kd=En=Ds=lt=0,Vt=sl=null,Rd=!1,(a&8)!==0&&(a|=a&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=a;0<c;){var d=31-na(c),f=1<<d;a|=e[d],c&=~f}return is=a,ho(),r}function Rg(e,a){Re=null,M.H=Ro,a===$i||a===jo?(a=Ym(),Ye=3):a===Gm?(a=Ym(),Ye=4):Ye=a===X0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ca=a,De===null&&(lt=1,Uo(e,ga(a,e.current)))}function Og(){var e=M.H;return M.H=Ro,e===null?Ro:e}function Mg(){var e=M.A;return M.A=s1,e}function Pd(){lt=4,Ms||($e&4194048)!==$e&&ya.current!==null||(Er=!0),(Ds&134217727)===0&&(En&134217727)===0||et===null||Ps(et,$e,ba,!1)}function zd(e,a,r){var c=Ke;Ke|=2;var d=Og(),f=Mg();(et!==e||$e!==a)&&(Fo=null,Ar(e,a)),a=!1;var y=lt;e:do try{if(Ye!==0&&De!==null){var N=De,R=ca;switch(Ye){case 8:Ud(),y=6;break e;case 3:case 2:case 9:case 6:ya.current===null&&(a=!0);var B=Ye;if(Ye=0,ca=null,kr(e,N,R,B),r&&Er){y=0;break e}break;default:B=Ye,Ye=0,ca=null,kr(e,N,R,B)}}i1(),y=lt;break}catch(J){Rg(e,J)}while(!0);return a&&e.shellSuspendCounter++,Za=yn=null,Ke=c,M.H=d,M.A=f,De===null&&(et=null,$e=0,ho()),y}function i1(){for(;De!==null;)Dg(De)}function l1(e,a){var r=Ke;Ke|=2;var c=Og(),d=Mg();et!==e||$e!==a?(Fo=null,Ho=ha()+500,Ar(e,a)):Er=ji(e,a);e:do try{if(Ye!==0&&De!==null){a=De;var f=ca;t:switch(Ye){case 1:Ye=0,ca=null,kr(e,a,f,1);break;case 2:case 9:if(Vm(f)){Ye=0,ca=null,Lg(a);break}a=function(){Ye!==2&&Ye!==9||et!==e||(Ye=7),qa(e)},f.then(a,a);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Vm(f)?(Ye=0,ca=null,Lg(a)):(Ye=0,ca=null,kr(e,a,f,7));break;case 5:var y=null;switch(De.tag){case 26:y=De.memoizedState;case 5:case 27:var N=De;if(!y||pp(y)){Ye=0,ca=null;var R=N.sibling;if(R!==null)De=R;else{var B=N.return;B!==null?(De=B,Go(B)):De=null}break t}}Ye=0,ca=null,kr(e,a,f,5);break;case 6:Ye=0,ca=null,kr(e,a,f,6);break;case 8:Ud(),lt=6;break e;default:throw Error(i(462))}}o1();break}catch(J){Rg(e,J)}while(!0);return Za=yn=null,M.H=c,M.A=d,Ke=r,De!==null?0:(et=null,$e=0,ho(),lt)}function o1(){for(;De!==null&&!Ve();)Dg(De)}function Dg(e){var a=lg(e.alternate,e,is);e.memoizedProps=e.pendingProps,a===null?Go(e):De=a}function Lg(e){var a=e,r=a.alternate;switch(a.tag){case 15:case 0:a=tg(r,a,a.pendingProps,a.type,void 0,$e);break;case 11:a=tg(r,a,a.pendingProps,a.type.render,a.ref,$e);break;case 5:Wu(a);default:cg(r,a),a=De=Um(a,is),a=lg(r,a,is)}e.memoizedProps=e.pendingProps,a===null?Go(e):De=a}function kr(e,a,r,c){Za=yn=null,Wu(a),jr=null,Xi=0;var d=a.return;try{if(Jb(e,d,a,r,$e)){lt=1,Uo(e,ga(r,e.current)),De=null;return}}catch(f){if(d!==null)throw De=d,f;lt=1,Uo(e,ga(r,e.current)),De=null;return}a.flags&32768?(He||c===1?e=!0:Er||($e&536870912)!==0?e=!1:(Ms=e=!0,(c===2||c===9||c===3||c===6)&&(c=ya.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ug(a,e)):Go(a)}function Go(e){var a=e;do{if((a.flags&32768)!==0){Ug(a,Ms);return}e=a.return;var r=Wb(a.alternate,a,is);if(r!==null){De=r;return}if(a=a.sibling,a!==null){De=a;return}De=a=e}while(a!==null);lt===0&&(lt=5)}function Ug(e,a){do{var r=e1(e.alternate,e);if(r!==null){r.flags&=32767,De=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(e=e.sibling,e!==null)){De=e;return}De=e=r}while(e!==null);lt=6,De=null}function Pg(e,a,r,c,d,f,y,N,R){e.cancelPendingCommit=null;do Vo();while(Ct!==0);if((Ke&6)!==0)throw Error(i(327));if(a!==null){if(a===e.current)throw Error(i(177));if(f=a.lanes|a.childLanes,f|=Tu,$y(e,r,f,y,N,R),e===et&&(De=et=null,$e=0),Cr=a,Us=e,Tr=r,Md=f,Dd=d,Cg=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,h1(qe,function(){return Hg(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=M.T,M.T=null,d=X.p,X.p=2,y=Ke,Ke|=4;try{t1(e,a,r)}finally{Ke=y,X.p=d,M.T=c}}Ct=1,zg(),qg(),$g()}}function zg(){if(Ct===1){Ct=0;var e=Us,a=Cr,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var c=X.p;X.p=2;var d=Ke;Ke|=4;try{bg(a,e);var f=Id,y=Sm(e.containerInfo),N=f.focusedElem,R=f.selectionRange;if(y!==N&&N&&N.ownerDocument&&Em(N.ownerDocument.documentElement,N)){if(R!==null&&Nu(N)){var B=R.start,J=R.end;if(J===void 0&&(J=B),"selectionStart"in N)N.selectionStart=B,N.selectionEnd=Math.min(J,N.value.length);else{var te=N.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var G=F.getSelection(),Ee=N.textContent.length,Ne=Math.min(R.start,Ee),Ze=R.end===void 0?Ne:Math.min(R.end,Ee);!G.extend&&Ne>Ze&&(y=Ze,Ze=Ne,Ne=y);var z=_m(N,Ne),P=_m(N,Ze);if(z&&P&&(G.rangeCount!==1||G.anchorNode!==z.node||G.anchorOffset!==z.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var q=te.createRange();q.setStart(z.node,z.offset),G.removeAllRanges(),Ne>Ze?(G.addRange(q),G.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),G.addRange(q))}}}}for(te=[],G=N;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<te.length;N++){var W=te[N];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}nc=!!Xd,Id=Xd=null}finally{Ke=d,X.p=c,M.T=r}}e.current=a,Ct=2}}function qg(){if(Ct===2){Ct=0;var e=Us,a=Cr,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var c=X.p;X.p=2;var d=Ke;Ke|=4;try{pg(e,a.alternate,a)}finally{Ke=d,X.p=c,M.T=r}}Ct=3}}function $g(){if(Ct===4||Ct===3){Ct=0,ys();var e=Us,a=Cr,r=Tr,c=Cg;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ct=5:(Ct=0,Cr=Us=null,Bg(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Ls=null),au(r),a=a.stateNode,sa&&typeof sa.onCommitFiberRoot=="function")try{sa.onCommitFiberRoot(bi,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=M.T,d=X.p,X.p=2,M.T=null;try{for(var f=e.onRecoverableError,y=0;y<c.length;y++){var N=c[y];f(N.value,{componentStack:N.stack})}}finally{M.T=a,X.p=d}}(Tr&3)!==0&&Vo(),qa(e),d=e.pendingLanes,(r&4194090)!==0&&(d&42)!==0?e===Ld?nl++:(nl=0,Ld=e):nl=0,rl(0)}}function Bg(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,zi(a)))}function Vo(e){return zg(),qg(),$g(),Hg()}function Hg(){if(Ct!==5)return!1;var e=Us,a=Md;Md=0;var r=au(Tr),c=M.T,d=X.p;try{X.p=32>r?32:r,M.T=null,r=Dd,Dd=null;var f=Us,y=Tr;if(Ct=0,Cr=Us=null,Tr=0,(Ke&6)!==0)throw Error(i(331));var N=Ke;if(Ke|=4,Eg(f.current),wg(f,f.current,y,r),Ke=N,rl(0,!1),sa&&typeof sa.onPostCommitFiberRoot=="function")try{sa.onPostCommitFiberRoot(bi,f)}catch{}return!0}finally{X.p=d,M.T=c,Bg(e,a)}}function Fg(e,a,r){a=ga(r,a),a=fd(e.stateNode,a,2),e=Ss(e,a,2),e!==null&&(wi(e,2),qa(e))}function We(e,a,r){if(e.tag===3)Fg(e,e,r);else for(;a!==null;){if(a.tag===3){Fg(a,e,r);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ls===null||!Ls.has(c))){e=ga(r,e),r=K0(2),c=Ss(a,r,2),c!==null&&(Y0(r,c,a,e),wi(c,2),qa(c));break}}a=a.return}}function qd(e,a,r){var c=e.pingCache;if(c===null){c=e.pingCache=new n1;var d=new Set;c.set(a,d)}else d=c.get(a),d===void 0&&(d=new Set,c.set(a,d));d.has(r)||(Ad=!0,d.add(r),e=c1.bind(null,e,a,r),a.then(e,e))}function c1(e,a,r){var c=e.pingCache;c!==null&&c.delete(a),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,et===e&&($e&r)===r&&(lt===4||lt===3&&($e&62914560)===$e&&300>ha()-Od?(Ke&2)===0&&Ar(e,0):kd|=r,Sr===$e&&(Sr=0)),qa(e)}function Qg(e,a){a===0&&(a=$f()),e=dr(e,a),e!==null&&(wi(e,a),qa(e))}function u1(e){var a=e.memoizedState,r=0;a!==null&&(r=a.retryLane),Qg(e,r)}function d1(e,a){var r=0;switch(e.tag){case 13:var c=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),Qg(e,r)}function h1(e,a){return Pe(e,a)}var Ko=null,Rr=null,$d=!1,Yo=!1,Bd=!1,Sn=0;function qa(e){e!==Rr&&e.next===null&&(Rr===null?Ko=Rr=e:Rr=Rr.next=e),Yo=!0,$d||($d=!0,m1())}function rl(e,a){if(!Bd&&Yo){Bd=!0;do for(var r=!1,c=Ko;c!==null;){if(e!==0){var d=c.pendingLanes;if(d===0)var f=0;else{var y=c.suspendedLanes,N=c.pingedLanes;f=(1<<31-na(42|e)+1)-1,f&=d&~(y&~N),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Yg(c,f))}else f=$e,f=Wl(c,c===et?f:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(f&3)===0||ji(c,f)||(r=!0,Yg(c,f));c=c.next}while(r);Bd=!1}}function f1(){Gg()}function Gg(){Yo=$d=!1;var e=0;Sn!==0&&(w1()&&(e=Sn),Sn=0);for(var a=ha(),r=null,c=Ko;c!==null;){var d=c.next,f=Vg(c,a);f===0?(c.next=null,r===null?Ko=d:r.next=d,d===null&&(Rr=r)):(r=c,(e!==0||(f&3)!==0)&&(Yo=!0)),c=d}rl(e)}function Vg(e,a){for(var r=e.suspendedLanes,c=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-na(f),N=1<<y,R=d[y];R===-1?((N&r)===0||(N&c)!==0)&&(d[y]=qy(N,a)):R<=a&&(e.expiredLanes|=N),f&=~N}if(a=et,r=$e,r=Wl(e,e===a?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,r===0||e===a&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Ge(c),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ji(e,r)){if(a=r&-r,a===e.callbackPriority)return a;switch(c!==null&&Ge(c),au(r)){case 2:case 8:r=le;break;case 32:r=qe;break;case 268435456:r=aa;break;default:r=qe}return c=Kg.bind(null,e),r=Pe(r,c),e.callbackPriority=a,e.callbackNode=r,a}return c!==null&&c!==null&&Ge(c),e.callbackPriority=2,e.callbackNode=null,2}function Kg(e,a){if(Ct!==0&&Ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Vo()&&e.callbackNode!==r)return null;var c=$e;return c=Wl(e,e===et?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Ag(e,c,a),Vg(e,ha()),e.callbackNode!=null&&e.callbackNode===r?Kg.bind(null,e):null)}function Yg(e,a){if(Vo())return null;Ag(e,a,!0)}function m1(){_1(function(){(Ke&6)!==0?Pe(yi,f1):Gg()})}function Hd(){return Sn===0&&(Sn=qf()),Sn}function Xg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:no(""+e)}function Ig(e,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,e.id&&r.setAttribute("form",e.id),a.parentNode.insertBefore(r,a),e=new FormData(e),r.parentNode.removeChild(r),e}function g1(e,a,r,c,d){if(a==="submit"&&r&&r.stateNode===d){var f=Xg((d[Ht]||null).action),y=c.submitter;y&&(a=(a=y[Ht]||null)?Xg(a.formAction):y.getAttribute("formAction"),a!==null&&(f=a,y=null));var N=new oo("action","action",null,c,d);e.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Sn!==0){var R=y?Ig(d,y):new FormData(d);od(r,{pending:!0,data:R,method:d.method,action:f},null,R)}}else typeof f=="function"&&(N.preventDefault(),R=y?Ig(d,y):new FormData(d),od(r,{pending:!0,data:R,method:d.method,action:f},f,R))},currentTarget:d}]})}}for(var Fd=0;Fd<Cu.length;Fd++){var Qd=Cu[Fd],p1=Qd.toLowerCase(),x1=Qd[0].toUpperCase()+Qd.slice(1);Na(p1,"on"+x1)}Na(Am,"onAnimationEnd"),Na(km,"onAnimationIteration"),Na(Rm,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(Db,"onTransitionRun"),Na(Lb,"onTransitionStart"),Na(Ub,"onTransitionCancel"),Na(Om,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Jg(e,a){a=(a&4)!==0;for(var r=0;r<e.length;r++){var c=e[r],d=c.event;c=c.listeners;e:{var f=void 0;if(a)for(var y=c.length-1;0<=y;y--){var N=c[y],R=N.instance,B=N.currentTarget;if(N=N.listener,R!==f&&d.isPropagationStopped())break e;f=N,d.currentTarget=B;try{f(d)}catch(J){Lo(J)}d.currentTarget=null,f=R}else for(y=0;y<c.length;y++){if(N=c[y],R=N.instance,B=N.currentTarget,N=N.listener,R!==f&&d.isPropagationStopped())break e;f=N,d.currentTarget=B;try{f(d)}catch(J){Lo(J)}d.currentTarget=null,f=R}}}}function Le(e,a){var r=a[su];r===void 0&&(r=a[su]=new Set);var c=e+"__bubble";r.has(c)||(Zg(a,e,2,!1),r.add(c))}function Gd(e,a,r){var c=0;a&&(c|=4),Zg(r,e,c,a)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[Xo]){e[Xo]=!0,Gf.forEach(function(r){r!=="selectionchange"&&(v1.has(r)||Gd(r,!1,e),Gd(r,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[Xo]||(a[Xo]=!0,Gd("selectionchange",!1,a))}}function Zg(e,a,r,c){switch(wp(a)){case 2:var d=G1;break;case 8:d=V1;break;default:d=ih}r=d.bind(null,a,r,e),d=void 0,!mu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),c?d!==void 0?e.addEventListener(a,r,{capture:!0,passive:d}):e.addEventListener(a,r,!0):d!==void 0?e.addEventListener(a,r,{passive:d}):e.addEventListener(a,r,!1)}function Kd(e,a,r,c,d){var f=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var N=c.stateNode.containerInfo;if(N===d)break;if(y===4)for(y=c.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;N!==null;){if(y=Zn(N),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){c=f=y;continue e}N=N.parentNode}}c=c.return}rm(function(){var B=f,J=hu(r),te=[];e:{var F=Mm.get(e);if(F!==void 0){var G=oo,Ee=e;switch(e){case"keypress":if(io(r)===0)break e;case"keydown":case"keyup":G=hb;break;case"focusin":Ee="focus",G=vu;break;case"focusout":Ee="blur",G=vu;break;case"beforeblur":case"afterblur":G=vu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=eb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=gb;break;case Am:case km:case Rm:G=sb;break;case Om:G=xb;break;case"scroll":case"scrollend":G=Zy;break;case"wheel":G=yb;break;case"copy":case"cut":case"paste":G=rb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=um;break;case"toggle":case"beforetoggle":G=jb}var Ne=(a&4)!==0,Ze=!Ne&&(e==="scroll"||e==="scrollend"),z=Ne?F!==null?F+"Capture":null:F;Ne=[];for(var P=B,q;P!==null;){var W=P;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||z===null||(W=Ei(P,z),W!=null&&Ne.push(ll(P,W,q))),Ze)break;P=P.return}0<Ne.length&&(F=new G(F,Ee,null,r,J),te.push({event:F,listeners:Ne}))}}if((a&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",F&&r!==du&&(Ee=r.relatedTarget||r.fromElement)&&(Zn(Ee)||Ee[Jn]))break e;if((G||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Ee=r.relatedTarget||r.toElement,G=B,Ee=Ee?Zn(Ee):null,Ee!==null&&(Ze=u(Ee),Ne=Ee.tag,Ee!==Ze||Ne!==5&&Ne!==27&&Ne!==6)&&(Ee=null)):(G=null,Ee=B),G!==Ee)){if(Ne=om,W="onMouseLeave",z="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=um,W="onPointerLeave",z="onPointerEnter",P="pointer"),Ze=G==null?F:_i(G),q=Ee==null?F:_i(Ee),F=new Ne(W,P+"leave",G,r,J),F.target=Ze,F.relatedTarget=q,W=null,Zn(J)===B&&(Ne=new Ne(z,P+"enter",Ee,r,J),Ne.target=q,Ne.relatedTarget=Ze,W=Ne),Ze=W,G&&Ee)t:{for(Ne=G,z=Ee,P=0,q=Ne;q;q=Or(q))P++;for(q=0,W=z;W;W=Or(W))q++;for(;0<P-q;)Ne=Or(Ne),P--;for(;0<q-P;)z=Or(z),q--;for(;P--;){if(Ne===z||z!==null&&Ne===z.alternate)break t;Ne=Or(Ne),z=Or(z)}Ne=null}else Ne=null;G!==null&&Wg(te,F,G,Ne,!1),Ee!==null&&Ze!==null&&Wg(te,Ze,Ee,Ne,!0)}}e:{if(F=B?_i(B):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var ge=vm;else if(pm(F))if(ym)ge=Rb;else{ge=Ab;var Me=Tb}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&uu(B.elementType)&&(ge=vm):ge=kb;if(ge&&(ge=ge(e,B))){xm(te,ge,r,J);break e}Me&&Me(e,F,B),e==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&cu(F,"number",F.value)}switch(Me=B?_i(B):window,e){case"focusin":(pm(Me)||Me.contentEditable==="true")&&(or=Me,_u=B,Mi=null);break;case"focusout":Mi=_u=or=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,Cm(te,r,J);break;case"selectionchange":if(Mb)break;case"keydown":case"keyup":Cm(te,r,J)}var ye;if(bu)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else lr?mm(e,r)&&(_e="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_e="onCompositionStart");_e&&(dm&&r.locale!=="ko"&&(lr||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&lr&&(ye=im()):(ws=J,gu="value"in ws?ws.value:ws.textContent,lr=!0)),Me=Io(B,_e),0<Me.length&&(_e=new cm(_e,e,null,r,J),te.push({event:_e,listeners:Me}),ye?_e.data=ye:(ye=gm(r),ye!==null&&(_e.data=ye)))),(ye=Nb?_b(e,r):Eb(e,r))&&(_e=Io(B,"onBeforeInput"),0<_e.length&&(Me=new cm("onBeforeInput","beforeinput",null,r,J),te.push({event:Me,listeners:_e}),Me.data=ye)),g1(te,e,B,r,J)}Jg(te,a)})}function ll(e,a,r){return{instance:e,listener:a,currentTarget:r}}function Io(e,a){for(var r=a+"Capture",c=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Ei(e,r),d!=null&&c.unshift(ll(e,d,f)),d=Ei(e,a),d!=null&&c.push(ll(e,d,f))),e.tag===3)return c;e=e.return}return[]}function Or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wg(e,a,r,c,d){for(var f=a._reactName,y=[];r!==null&&r!==c;){var N=r,R=N.alternate,B=N.stateNode;if(N=N.tag,R!==null&&R===c)break;N!==5&&N!==26&&N!==27||B===null||(R=B,d?(B=Ei(r,f),B!=null&&y.unshift(ll(r,B,R))):d||(B=Ei(r,f),B!=null&&y.push(ll(r,B,R)))),r=r.return}y.length!==0&&e.push({event:a,listeners:y})}var y1=/\r\n?/g,b1=/\u0000|\uFFFD/g;function ep(e){return(typeof e=="string"?e:""+e).replace(y1,`
`).replace(b1,"")}function tp(e,a){return a=ep(a),ep(e)===a}function Jo(){}function Je(e,a,r,c,d,f){switch(r){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||nr(e,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&nr(e,""+c);break;case"className":to(e,"class",c);break;case"tabIndex":to(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":to(e,r,c);break;case"style":sm(e,c,f);break;case"data":if(a!=="object"){to(e,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||r!=="href")){e.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=no(""+c),e.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(a!=="input"&&Je(e,a,"name",d.name,d,null),Je(e,a,"formEncType",d.formEncType,d,null),Je(e,a,"formMethod",d.formMethod,d,null),Je(e,a,"formTarget",d.formTarget,d,null)):(Je(e,a,"encType",d.encType,d,null),Je(e,a,"method",d.method,d,null),Je(e,a,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=no(""+c),e.setAttribute(r,c);break;case"onClick":c!=null&&(e.onclick=Jo);break;case"onScroll":c!=null&&Le("scroll",e);break;case"onScrollEnd":c!=null&&Le("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(r=c.__html,r!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}r=no(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""+c):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":c===!0?e.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,c):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(r,c):e.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(r):e.setAttribute(r,c);break;case"popover":Le("beforetoggle",e),Le("toggle",e),eo(e,"popover",c);break;case"xlinkActuate":Ka(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ka(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ka(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ka(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ka(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ka(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ka(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ka(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ka(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":eo(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Iy.get(r)||r,eo(e,r,c))}}function Yd(e,a,r,c,d,f){switch(r){case"style":sm(e,c,f);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(r=c.__html,r!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=r}}break;case"children":typeof c=="string"?nr(e,c):(typeof c=="number"||typeof c=="bigint")&&nr(e,""+c);break;case"onScroll":c!=null&&Le("scroll",e);break;case"onScrollEnd":c!=null&&Le("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Jo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),a=r.slice(2,d?r.length-7:void 0),f=e[Ht]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(a,f,d),typeof c=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(a,c,d);break e}r in e?e[r]=c:c===!0?e.setAttribute(r,""):eo(e,r,c)}}}function Tt(e,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",e),Le("load",e);var c=!1,d=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Je(e,a,f,y,r,null)}}d&&Je(e,a,"srcSet",r.srcSet,r,null),c&&Je(e,a,"src",r.src,r,null);return;case"input":Le("invalid",e);var N=f=y=d=null,R=null,B=null;for(c in r)if(r.hasOwnProperty(c)){var J=r[c];if(J!=null)switch(c){case"name":d=J;break;case"type":y=J;break;case"checked":R=J;break;case"defaultChecked":B=J;break;case"value":f=J;break;case"defaultValue":N=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:Je(e,a,c,J,r,null)}}Wf(e,f,N,R,B,y,d,!1),ao(e);return;case"select":Le("invalid",e),c=y=f=null;for(d in r)if(r.hasOwnProperty(d)&&(N=r[d],N!=null))switch(d){case"value":f=N;break;case"defaultValue":y=N;break;case"multiple":c=N;default:Je(e,a,d,N,r,null)}a=f,r=y,e.multiple=!!c,a!=null?sr(e,!!c,a,!1):r!=null&&sr(e,!!c,r,!0);return;case"textarea":Le("invalid",e),f=d=c=null;for(y in r)if(r.hasOwnProperty(y)&&(N=r[y],N!=null))switch(y){case"value":c=N;break;case"defaultValue":d=N;break;case"children":f=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:Je(e,a,y,N,r,null)}tm(e,c,d,f),ao(e);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(c=r[R],c!=null))switch(R){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Je(e,a,R,c,r,null)}return;case"dialog":Le("beforetoggle",e),Le("toggle",e),Le("cancel",e),Le("close",e);break;case"iframe":case"object":Le("load",e);break;case"video":case"audio":for(c=0;c<il.length;c++)Le(il[c],e);break;case"image":Le("error",e),Le("load",e);break;case"details":Le("toggle",e);break;case"embed":case"source":case"link":Le("error",e),Le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(c=r[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Je(e,a,B,c,r,null)}return;default:if(uu(a)){for(J in r)r.hasOwnProperty(J)&&(c=r[J],c!==void 0&&Yd(e,a,J,c,r,void 0));return}}for(N in r)r.hasOwnProperty(N)&&(c=r[N],c!=null&&Je(e,a,N,c,r,null))}function j1(e,a,r,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,y=null,N=null,R=null,B=null,J=null;for(G in r){var te=r[G];if(r.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":R=te;default:c.hasOwnProperty(G)||Je(e,a,G,null,c,te)}}for(var F in c){var G=c[F];if(te=r[F],c.hasOwnProperty(F)&&(G!=null||te!=null))switch(F){case"type":f=G;break;case"name":d=G;break;case"checked":B=G;break;case"defaultChecked":J=G;break;case"value":y=G;break;case"defaultValue":N=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:G!==te&&Je(e,a,F,G,c,te)}}ou(e,y,N,R,B,J,f,d);return;case"select":G=y=N=F=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":G=R;default:c.hasOwnProperty(f)||Je(e,a,f,null,c,R)}for(d in c)if(f=c[d],R=r[d],c.hasOwnProperty(d)&&(f!=null||R!=null))switch(d){case"value":F=f;break;case"defaultValue":N=f;break;case"multiple":y=f;default:f!==R&&Je(e,a,d,f,c,R)}a=N,r=y,c=G,F!=null?sr(e,!!r,F,!1):!!c!=!!r&&(a!=null?sr(e,!!r,a,!0):sr(e,!!r,r?[]:"",!1));return;case"textarea":G=F=null;for(N in r)if(d=r[N],r.hasOwnProperty(N)&&d!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Je(e,a,N,null,c,d)}for(y in c)if(d=c[y],f=r[y],c.hasOwnProperty(y)&&(d!=null||f!=null))switch(y){case"value":F=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==f&&Je(e,a,y,d,c,f)}em(e,F,G);return;case"option":for(var Ee in r)if(F=r[Ee],r.hasOwnProperty(Ee)&&F!=null&&!c.hasOwnProperty(Ee))switch(Ee){case"selected":e.selected=!1;break;default:Je(e,a,Ee,null,c,F)}for(R in c)if(F=c[R],G=r[R],c.hasOwnProperty(R)&&F!==G&&(F!=null||G!=null))switch(R){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(e,a,R,F,c,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in r)F=r[Ne],r.hasOwnProperty(Ne)&&F!=null&&!c.hasOwnProperty(Ne)&&Je(e,a,Ne,null,c,F);for(B in c)if(F=c[B],G=r[B],c.hasOwnProperty(B)&&F!==G&&(F!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,a));break;default:Je(e,a,B,F,c,G)}return;default:if(uu(a)){for(var Ze in r)F=r[Ze],r.hasOwnProperty(Ze)&&F!==void 0&&!c.hasOwnProperty(Ze)&&Yd(e,a,Ze,void 0,c,F);for(J in c)F=c[J],G=r[J],!c.hasOwnProperty(J)||F===G||F===void 0&&G===void 0||Yd(e,a,J,F,c,G);return}}for(var z in r)F=r[z],r.hasOwnProperty(z)&&F!=null&&!c.hasOwnProperty(z)&&Je(e,a,z,null,c,F);for(te in c)F=c[te],G=r[te],!c.hasOwnProperty(te)||F===G||F==null&&G==null||Je(e,a,te,F,c,G)}var Xd=null,Id=null;function Zo(e){return e.nodeType===9?e:e.ownerDocument}function ap(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sp(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function Jd(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Zd=null;function w1(){var e=window.event;return e&&e.type==="popstate"?e===Zd?!1:(Zd=e,!0):(Zd=null,!1)}var np=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(e){return rp.resolve(null).then(e).catch(E1)}:np;function E1(e){setTimeout(function(){throw e})}function zs(e){return e==="head"}function ip(e,a){var r=a,c=0,d=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<c&&8>c){r=c;var y=e.ownerDocument;if(r&1&&ol(y.documentElement),r&2&&ol(y.body),r&4)for(r=y.head,ol(r),y=r.firstChild;y;){var N=y.nextSibling,R=y.nodeName;y[Ni]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=N}}if(d===0){e.removeChild(f),pl(a);return}d--}else r==="$"||r==="$?"||r==="$!"?d++:c=r.charCodeAt(0)-48;else c=0;r=f}while(r);pl(a)}function Wd(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Wd(r),nu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function S1(e,a,r,c){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ni])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ea(e.nextSibling),e===null)break}return null}function C1(e,a,r){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ea(e.nextSibling),e===null))return null;return e}function eh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function T1(e,a){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")a();else{var c=function(){a(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Ea(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return e}var th=null;function lp(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(a===0)return e;a--}else r==="/$"&&a++}e=e.previousSibling}return null}function op(e,a,r){switch(a=Zo(r),e){case"html":if(e=a.documentElement,!e)throw Error(i(452));return e;case"head":if(e=a.head,!e)throw Error(i(453));return e;case"body":if(e=a.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function ol(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);nu(e)}var ja=new Map,cp=new Set;function Wo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ls=X.d;X.d={f:A1,r:k1,D:R1,C:O1,L:M1,m:D1,X:U1,S:L1,M:P1};function A1(){var e=ls.f(),a=Qo();return e||a}function k1(e){var a=Wn(e);a!==null&&a.tag===5&&a.type==="form"?A0(a):ls.r(e)}var Mr=typeof document>"u"?null:document;function up(e,a,r){var c=Mr;if(c&&typeof a=="string"&&a){var d=ma(a);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),cp.has(d)||(cp.add(d),e={rel:e,crossOrigin:r,href:a},c.querySelector(d)===null&&(a=c.createElement("link"),Tt(a,"link",e),vt(a),c.head.appendChild(a)))}}function R1(e){ls.D(e),up("dns-prefetch",e,null)}function O1(e,a){ls.C(e,a),up("preconnect",e,a)}function M1(e,a,r){ls.L(e,a,r);var c=Mr;if(c&&e&&a){var d='link[rel="preload"][as="'+ma(a)+'"]';a==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+ma(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+ma(r.imageSizes)+'"]')):d+='[href="'+ma(e)+'"]';var f=d;switch(a){case"style":f=Dr(e);break;case"script":f=Lr(e)}ja.has(f)||(e=x({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:e,as:a},r),ja.set(f,e),c.querySelector(d)!==null||a==="style"&&c.querySelector(cl(f))||a==="script"&&c.querySelector(ul(f))||(a=c.createElement("link"),Tt(a,"link",e),vt(a),c.head.appendChild(a)))}}function D1(e,a){ls.m(e,a);var r=Mr;if(r&&e){var c=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+ma(c)+'"][href="'+ma(e)+'"]',f=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Lr(e)}if(!ja.has(f)&&(e=x({rel:"modulepreload",href:e},a),ja.set(f,e),r.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ul(f)))return}c=r.createElement("link"),Tt(c,"link",e),vt(c),r.head.appendChild(c)}}}function L1(e,a,r){ls.S(e,a,r);var c=Mr;if(c&&e){var d=er(c).hoistableStyles,f=Dr(e);a=a||"default";var y=d.get(f);if(!y){var N={loading:0,preload:null};if(y=c.querySelector(cl(f)))N.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":a},r),(r=ja.get(f))&&ah(e,r);var R=y=c.createElement("link");vt(R),Tt(R,"link",e),R._p=new Promise(function(B,J){R.onload=B,R.onerror=J}),R.addEventListener("load",function(){N.loading|=1}),R.addEventListener("error",function(){N.loading|=2}),N.loading|=4,ec(y,a,c)}y={type:"stylesheet",instance:y,count:1,state:N},d.set(f,y)}}}function U1(e,a){ls.X(e,a);var r=Mr;if(r&&e){var c=er(r).hoistableScripts,d=Lr(e),f=c.get(d);f||(f=r.querySelector(ul(d)),f||(e=x({src:e,async:!0},a),(a=ja.get(d))&&sh(e,a),f=r.createElement("script"),vt(f),Tt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},c.set(d,f))}}function P1(e,a){ls.M(e,a);var r=Mr;if(r&&e){var c=er(r).hoistableScripts,d=Lr(e),f=c.get(d);f||(f=r.querySelector(ul(d)),f||(e=x({src:e,async:!0,type:"module"},a),(a=ja.get(d))&&sh(e,a),f=r.createElement("script"),vt(f),Tt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},c.set(d,f))}}function dp(e,a,r,c){var d=(d=ve.current)?Wo(d):null;if(!d)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=Dr(r.href),r=er(d).hoistableStyles,c=r.get(a),c||(c={type:"style",instance:null,count:0,state:null},r.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Dr(r.href);var f=er(d).hoistableStyles,y=f.get(e);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=d.querySelector(cl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),ja.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ja.set(e,r),f||z1(d,e,r,y.state))),a&&c===null)throw Error(i(528,""));return y}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Lr(r),r=er(d).hoistableScripts,c=r.get(a),c||(c={type:"script",instance:null,count:0,state:null},r.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Dr(e){return'href="'+ma(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function hp(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function z1(e,a,r,c){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=e.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Tt(a,"link",r),vt(a),e.head.appendChild(a))}function Lr(e){return'[src="'+ma(e)+'"]'}function ul(e){return"script[async]"+e}function fp(e,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var c=e.querySelector('style[data-href~="'+ma(r.href)+'"]');if(c)return a.instance=c,vt(c),c;var d=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),vt(c),Tt(c,"style",d),ec(c,r.precedence,e),a.instance=c;case"stylesheet":d=Dr(r.href);var f=e.querySelector(cl(d));if(f)return a.state.loading|=4,a.instance=f,vt(f),f;c=hp(r),(d=ja.get(d))&&ah(c,d),f=(e.ownerDocument||e).createElement("link"),vt(f);var y=f;return y._p=new Promise(function(N,R){y.onload=N,y.onerror=R}),Tt(f,"link",c),a.state.loading|=4,ec(f,r.precedence,e),a.instance=f;case"script":return f=Lr(r.src),(d=e.querySelector(ul(f)))?(a.instance=d,vt(d),d):(c=r,(d=ja.get(f))&&(c=x({},r),sh(c,d)),e=e.ownerDocument||e,d=e.createElement("script"),vt(d),Tt(d,"link",c),e.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,ec(c,r.precedence,e));return a.instance}function ec(e,a,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,f=d,y=0;y<c.length;y++){var N=c[y];if(N.dataset.precedence===a)f=N;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(e,a.firstChild))}function ah(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function sh(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var tc=null;function mp(e,a,r){if(tc===null){var c=new Map,d=tc=new Map;d.set(r,c)}else d=tc,c=d.get(r),c||(c=new Map,d.set(r,c));if(c.has(e))return c;for(c.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var f=r[d];if(!(f[Ni]||f[At]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(a)||"";y=e+y;var N=c.get(y);N?N.push(f):c.set(y,[f])}}return c}function gp(e,a,r){e=e.ownerDocument||e,e.head.insertBefore(r,a==="title"?e.querySelector("head > title"):null)}function q1(e,a,r){if(r===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function pp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var dl=null;function $1(){}function B1(e,a,r){if(dl===null)throw Error(i(475));var c=dl;if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Dr(r.href),f=e.querySelector(cl(d));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=ac.bind(c),e.then(c,c)),a.state.loading|=4,a.instance=f,vt(f);return}f=e.ownerDocument||e,r=hp(r),(d=ja.get(d))&&ah(r,d),f=f.createElement("link"),vt(f);var y=f;y._p=new Promise(function(N,R){y.onload=N,y.onerror=R}),Tt(f,"link",r),a.instance=f}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=ac.bind(c),e.addEventListener("load",a),e.addEventListener("error",a))}}function H1(){if(dl===null)throw Error(i(475));var e=dl;return e.stylesheets&&e.count===0&&nh(e,e.stylesheets),0<e.count?function(a){var r=setTimeout(function(){if(e.stylesheets&&nh(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sc=null;function nh(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sc=new Map,a.forEach(F1,e),sc=null,ac.call(e))}function F1(e,a){if(!(a.state.loading&4)){var r=sc.get(e);if(r)var c=r.get(null);else{r=new Map,sc.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var y=d[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),c=y)}c&&r.set(null,c)}d=a.instance,y=d.getAttribute("data-precedence"),f=r.get(y)||c,f===c&&r.set(null,d),r.set(y,d),this.count++,c=ac.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),a.state.loading|=4}}var hl={$$typeof:E,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Q1(e,a,r,c,d,f,y,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.hiddenUpdates=eu(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function xp(e,a,r,c,d,f,y,N,R,B,J,te){return e=new Q1(e,a,r,y,N,R,B,te),a=1,f===!0&&(a|=24),f=ia(3,null,null,a),e.current=f,f.stateNode=e,a=qu(),a.refCount++,e.pooledCache=a,a.refCount++,f.memoizedState={element:c,isDehydrated:r,cache:a},Fu(f),e}function vp(e){return e?(e=hr,e):hr}function yp(e,a,r,c,d,f){d=vp(d),c.context===null?c.context=d:c.pendingContext=d,c=Es(a),c.payload={element:r},f=f===void 0?null:f,f!==null&&(c.callback=f),r=Ss(e,c,a),r!==null&&(da(r,e,a),Hi(r,e,a))}function bp(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<a?r:a}}function rh(e,a){bp(e,a),(e=e.alternate)&&bp(e,a)}function jp(e){if(e.tag===13){var a=dr(e,67108864);a!==null&&da(a,e,67108864),rh(e,67108864)}}var nc=!0;function G1(e,a,r,c){var d=M.T;M.T=null;var f=X.p;try{X.p=2,ih(e,a,r,c)}finally{X.p=f,M.T=d}}function V1(e,a,r,c){var d=M.T;M.T=null;var f=X.p;try{X.p=8,ih(e,a,r,c)}finally{X.p=f,M.T=d}}function ih(e,a,r,c){if(nc){var d=lh(c);if(d===null)Kd(e,a,c,rc,r),Np(e,c);else if(Y1(d,e,a,r,c))c.stopPropagation();else if(Np(e,c),a&4&&-1<K1.indexOf(e)){for(;d!==null;){var f=Wn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=cn(f.pendingLanes);if(y!==0){var N=f;for(N.pendingLanes|=2,N.entangledLanes|=2;y;){var R=1<<31-na(y);N.entanglements[1]|=R,y&=~R}qa(f),(Ke&6)===0&&(Ho=ha()+500,rl(0))}}break;case 13:N=dr(f,2),N!==null&&da(N,f,2),Qo(),rh(f,2)}if(f=lh(c),f===null&&Kd(e,a,c,rc,r),f===d)break;d=f}d!==null&&c.stopPropagation()}else Kd(e,a,c,null,r)}}function lh(e){return e=hu(e),oh(e)}var rc=null;function oh(e){if(rc=null,e=Zn(e),e!==null){var a=u(e);if(a===null)e=null;else{var r=a.tag;if(r===13){if(e=h(a),e!==null)return e;e=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return rc=e,null}function wp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Il()){case yi:return 2;case le:return 8;case qe:case Et:return 32;case aa:return 268435456;default:return 32}default:return 32}}var ch=!1,qs=null,$s=null,Bs=null,fl=new Map,ml=new Map,Hs=[],K1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Np(e,a){switch(e){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":fl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(a.pointerId)}}function gl(e,a,r,c,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:a,domEventName:r,eventSystemFlags:c,nativeEvent:f,targetContainers:[d]},a!==null&&(a=Wn(a),a!==null&&jp(a)),e):(e.eventSystemFlags|=c,a=e.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),e)}function Y1(e,a,r,c,d){switch(a){case"focusin":return qs=gl(qs,e,a,r,c,d),!0;case"dragenter":return $s=gl($s,e,a,r,c,d),!0;case"mouseover":return Bs=gl(Bs,e,a,r,c,d),!0;case"pointerover":var f=d.pointerId;return fl.set(f,gl(fl.get(f)||null,e,a,r,c,d)),!0;case"gotpointercapture":return f=d.pointerId,ml.set(f,gl(ml.get(f)||null,e,a,r,c,d)),!0}return!1}function _p(e){var a=Zn(e.target);if(a!==null){var r=u(a);if(r!==null){if(a=r.tag,a===13){if(a=h(r),a!==null){e.blockedOn=a,By(e.priority,function(){if(r.tag===13){var c=ua();c=tu(c);var d=dr(r,c);d!==null&&da(d,r,c),rh(r,c)}});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ic(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var r=lh(e.nativeEvent);if(r===null){r=e.nativeEvent;var c=new r.constructor(r.type,r);du=c,r.target.dispatchEvent(c),du=null}else return a=Wn(r),a!==null&&jp(a),e.blockedOn=r,!1;a.shift()}return!0}function Ep(e,a,r){ic(e)&&r.delete(a)}function X1(){ch=!1,qs!==null&&ic(qs)&&(qs=null),$s!==null&&ic($s)&&($s=null),Bs!==null&&ic(Bs)&&(Bs=null),fl.forEach(Ep),ml.forEach(Ep)}function lc(e,a){e.blockedOn===a&&(e.blockedOn=null,ch||(ch=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,X1)))}var oc=null;function Sp(e){oc!==e&&(oc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){oc===e&&(oc=null);for(var a=0;a<e.length;a+=3){var r=e[a],c=e[a+1],d=e[a+2];if(typeof c!="function"){if(oh(c||r)===null)continue;break}var f=Wn(r);f!==null&&(e.splice(a,3),a-=3,od(f,{pending:!0,data:d,method:r.method,action:c},c,d))}}))}function pl(e){function a(R){return lc(R,e)}qs!==null&&lc(qs,e),$s!==null&&lc($s,e),Bs!==null&&lc(Bs,e),fl.forEach(a),ml.forEach(a);for(var r=0;r<Hs.length;r++){var c=Hs[r];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Hs.length&&(r=Hs[0],r.blockedOn===null);)_p(r),r.blockedOn===null&&Hs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var d=r[c],f=r[c+1],y=d[Ht]||null;if(typeof f=="function")y||Sp(r);else if(y){var N=null;if(f&&f.hasAttribute("formAction")){if(d=f,y=f[Ht]||null)N=y.formAction;else if(oh(d)!==null)continue}else N=y.action;typeof N=="function"?r[c+1]=N:(r.splice(c,3),c-=3),Sp(r)}}}function uh(e){this._internalRoot=e}cc.prototype.render=uh.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,c=ua();yp(r,c,e,a,null,null)},cc.prototype.unmount=uh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;yp(e.current,2,null,e,null,null),Qo(),a[Jn]=null}};function cc(e){this._internalRoot=e}cc.prototype.unstable_scheduleHydration=function(e){if(e){var a=Ff();e={blockedOn:null,target:e,priority:a};for(var r=0;r<Hs.length&&a!==0&&a<Hs[r].priority;r++);Hs.splice(r,0,e),r===0&&_p(e)}};var Cp=t.version;if(Cp!=="19.1.0")throw Error(i(527,Cp,"19.1.0"));X.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(a),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var I1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{bi=uc.inject(I1),sa=uc}catch{}}return vl.createRoot=function(e,a){if(!o(e))throw Error(i(299));var r=!1,c="",d=F0,f=Q0,y=G0,N=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks)),a=xp(e,1,!1,null,null,r,c,d,f,y,N,null),e[Jn]=a.current,Vd(e),new uh(a)},vl.hydrateRoot=function(e,a,r){if(!o(e))throw Error(i(299));var c=!1,d="",f=F0,y=Q0,N=G0,R=null,B=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(B=r.formState)),a=xp(e,1,!0,a,r??null,c,d,f,y,N,R,B),a.context=vp(null),r=a.current,c=ua(),c=tu(c),d=Es(c),d.callback=null,Ss(r,d,c),r=c,a.current.lanes=r,wi(a,r),qa(a),e[Jn]=a.current,Vd(e),new cc(a)},vl.version="19.1.0",vl}var zp;function lj(){if(zp)return mh.exports;zp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),mh.exports=ij(),mh.exports}var oj=lj();const cj=pf(oj);var yl={},qp;function uj(){if(qp)return yl;qp=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.parse=h,yl.serialize=m;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function h(v,_){const w=new u,S=v.length;if(S<2)return w;const j=(_==null?void 0:_.decode)||x;let A=0;do{const O=v.indexOf("=",A);if(O===-1)break;const E=v.indexOf(";",A),k=E===-1?S:E;if(O>k){A=v.lastIndexOf(";",O-1)+1;continue}const T=p(v,A,O),L=g(v,O,T),$=v.slice(T,L);if(w[$]===void 0){let I=p(v,O+1,k),Q=g(v,k,I);const ue=j(v.slice(I,Q));w[$]=ue}A=k+1}while(A<S);return w}function p(v,_,w){do{const S=v.charCodeAt(_);if(S!==32&&S!==9)return _}while(++_<w);return w}function g(v,_,w){for(;_>w;){const S=v.charCodeAt(--_);if(S!==32&&S!==9)return _+1}return w}function m(v,_,w){const S=(w==null?void 0:w.encode)||encodeURIComponent;if(!s.test(v))throw new TypeError(`argument name is invalid: ${v}`);const j=S(_);if(!t.test(j))throw new TypeError(`argument val is invalid: ${_}`);let A=v+"="+j;if(!w)return A;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);A+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);A+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);A+="; Path="+w.path}if(w.expires){if(!b(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);A+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(A+="; HttpOnly"),w.secure&&(A+="; Secure"),w.partitioned&&(A+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return A}function x(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function b(v){return o.call(v)==="[object Date]"}return yl}uj();var $p="popstate";function dj(s={}){function t(i,o){let{pathname:u,search:h,hash:p}=i.location;return Mh("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Ol(o)}return fj(t,n,null,s)}function st(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Ra(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hj(){return Math.random().toString(36).substring(2,10)}function Bp(s,t){return{usr:s.state,key:s.key,idx:t}}function Mh(s,t,n=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?di(t):t,state:n,key:t&&t.key||i||hj()}}function Ol({pathname:s="/",search:t="",hash:n=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function di(s){let t={};if(s){let n=s.indexOf("#");n>=0&&(t.hash=s.substring(n),s=s.substring(0,n));let i=s.indexOf("?");i>=0&&(t.search=s.substring(i),s=s.substring(0,i)),s&&(t.pathname=s)}return t}function fj(s,t,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,h=o.history,p="POP",g=null,m=x();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function x(){return(h.state||{idx:null}).idx}function b(){p="POP";let j=x(),A=j==null?null:j-m;m=j,g&&g({action:p,location:S.location,delta:A})}function v(j,A){p="PUSH";let O=Mh(S.location,j,A);m=x()+1;let E=Bp(O,m),k=S.createHref(O);try{h.pushState(E,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(k)}u&&g&&g({action:p,location:S.location,delta:1})}function _(j,A){p="REPLACE";let O=Mh(S.location,j,A);m=x();let E=Bp(O,m),k=S.createHref(O);h.replaceState(E,"",k),u&&g&&g({action:p,location:S.location,delta:0})}function w(j){return mj(j)}let S={get action(){return p},get location(){return s(o,h)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener($p,b),g=j,()=>{o.removeEventListener($p,b),g=null}},createHref(j){return t(o,j)},createURL:w,encodeLocation(j){let A=w(j);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:_,go(j){return h.go(j)}};return S}function mj(s,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Ol(s);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function tv(s,t,n="/"){return gj(s,t,n,!1)}function gj(s,t,n,i){let o=typeof t=="string"?di(t):t,u=xs(o.pathname||"/",n);if(u==null)return null;let h=av(s);pj(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let m=Cj(u);p=Ej(h[g],m,i)}return p}function av(s,t=[],n=[],i=""){let o=(u,h,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(st(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let m=ms([i,g.relativePath]),x=n.concat(g);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),av(u.children,t,x,m)),!(u.path==null&&!u.index)&&t.push({path:m,score:Nj(m,u.index),routesMeta:x})};return s.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,h);else for(let g of sv(u.path))o(u,h,g)}),t}function sv(s){let t=s.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let h=sv(i.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function pj(s){s.sort((t,n)=>t.score!==n.score?n.score-t.score:_j(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var xj=/^:[\w-]+$/,vj=3,yj=2,bj=1,jj=10,wj=-2,Hp=s=>s==="*";function Nj(s,t){let n=s.split("/"),i=n.length;return n.some(Hp)&&(i+=wj),t&&(i+=yj),n.filter(o=>!Hp(o)).reduce((o,u)=>o+(xj.test(u)?vj:u===""?bj:jj),i)}function _j(s,t){return s.length===t.length&&s.slice(0,-1).every((i,o)=>i===t[o])?s[s.length-1]-t[t.length-1]:0}function Ej(s,t,n=!1){let{routesMeta:i}=s,o={},u="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],m=p===i.length-1,x=u==="/"?t:t.slice(u.length)||"/",b=Cc({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},x),v=g.route;if(!b&&m&&n&&!i[i.length-1].route.index&&(b=Cc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:ms([u,b.pathname]),pathnameBase:Rj(ms([u,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(u=ms([u,b.pathnameBase]))}return h}function Cc(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=Sj(s.path,s.caseSensitive,s.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((m,{paramName:x,isOptional:b},v)=>{if(x==="*"){let w=p[v]||"";h=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const _=p[v];return b&&!_?m[x]=void 0:m[x]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:h,pattern:s}}function Sj(s,t=!1,n=!0){Ra(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function Cj(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ra(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function xs(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}function Tj(s,t="/"){let{pathname:n,search:i="",hash:o=""}=typeof s=="string"?di(s):s;return{pathname:n?n.startsWith("/")?n:Aj(n,t):t,search:Oj(i),hash:Mj(o)}}function Aj(s,t){let n=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function vh(s,t,n,i){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kj(s){return s.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vf(s){let t=kj(s);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function yf(s,t,n,i=!1){let o;typeof s=="string"?o=di(s):(o={...s},st(!o.pathname||!o.pathname.includes("?"),vh("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),vh("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),vh("#","search","hash",o)));let u=s===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let b=t.length-1;if(!i&&h.startsWith("..")){let v=h.split("/");for(;v[0]==="..";)v.shift(),b-=1;o.pathname=v.join("/")}p=b>=0?t[b]:"/"}let g=Tj(o,p),m=h&&h!=="/"&&h.endsWith("/"),x=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||x)&&(g.pathname+="/"),g}var ms=s=>s.join("/").replace(/\/\/+/g,"/"),Rj=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Oj=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Mj=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Dj(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var nv=["POST","PUT","PATCH","DELETE"];new Set(nv);var Lj=["GET",...nv];new Set(Lj);var hi=D.createContext(null);hi.displayName="DataRouter";var Bc=D.createContext(null);Bc.displayName="DataRouterState";var rv=D.createContext({isTransitioning:!1});rv.displayName="ViewTransition";var Uj=D.createContext(new Map);Uj.displayName="Fetchers";var Pj=D.createContext(null);Pj.displayName="Await";var Oa=D.createContext(null);Oa.displayName="Navigation";var Bl=D.createContext(null);Bl.displayName="Location";var Ma=D.createContext({outlet:null,matches:[],isDataRoute:!1});Ma.displayName="Route";var bf=D.createContext(null);bf.displayName="RouteError";function zj(s,{relative:t}={}){st(fi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=D.useContext(Oa),{hash:o,pathname:u,search:h}=Hl(s,{relative:t}),p=u;return n!=="/"&&(p=u==="/"?n:ms([n,u])),i.createHref({pathname:p,search:h,hash:o})}function fi(){return D.useContext(Bl)!=null}function vs(){return st(fi(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Bl).location}var iv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lv(s){D.useContext(Oa).static||D.useLayoutEffect(s)}function mi(){let{isDataRoute:s}=D.useContext(Ma);return s?Wj():qj()}function qj(){st(fi(),"useNavigate() may be used only in the context of a <Router> component.");let s=D.useContext(hi),{basename:t,navigator:n}=D.useContext(Oa),{matches:i}=D.useContext(Ma),{pathname:o}=vs(),u=JSON.stringify(vf(i)),h=D.useRef(!1);return lv(()=>{h.current=!0}),D.useCallback((g,m={})=>{if(Ra(h.current,iv),!h.current)return;if(typeof g=="number"){n.go(g);return}let x=yf(g,JSON.parse(u),o,m.relative==="path");s==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:ms([t,x.pathname])),(m.replace?n.replace:n.push)(x,m.state,m)},[t,n,u,o,s])}var $j=D.createContext(null);function Bj(s){let t=D.useContext(Ma).outlet;return t&&D.createElement($j.Provider,{value:s},t)}function Hl(s,{relative:t}={}){let{matches:n}=D.useContext(Ma),{pathname:i}=vs(),o=JSON.stringify(vf(n));return D.useMemo(()=>yf(s,JSON.parse(o),i,t==="path"),[s,o,i,t])}function Hj(s,t){return ov(s,t)}function ov(s,t,n,i){var A;st(fi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(Oa),{matches:u}=D.useContext(Ma),h=u[u.length-1],p=h?h.params:{},g=h?h.pathname:"/",m=h?h.pathnameBase:"/",x=h&&h.route;{let O=x&&x.path||"";cv(g,!x||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=vs(),v;if(t){let O=typeof t=="string"?di(t):t;st(m==="/"||((A=O.pathname)==null?void 0:A.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${O.pathname}" was given in the \`location\` prop.`),v=O}else v=b;let _=v.pathname||"/",w=_;if(m!=="/"){let O=m.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=tv(s,{pathname:w});Ra(x||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ra(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Kj(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},p,O.params),pathname:ms([m,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:ms([m,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,n,i);return t&&j?D.createElement(Bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},j):j}function Fj(){let s=Zj(),t=Dj(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:o},n):null,h)}var Qj=D.createElement(Fj,null),Gj=class extends D.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?D.createElement(Ma.Provider,{value:this.props.routeContext},D.createElement(bf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vj({routeContext:s,match:t,children:n}){let i=D.useContext(hi);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Ma.Provider,{value:s},n)}function Kj(s,t=[],n=null,i=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let o=s,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,p=-1;if(n)for(let g=0;g<o.length;g++){let m=o[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=g),m.route.id){let{loaderData:x,errors:b}=n,v=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||v){h=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((g,m,x)=>{let b,v=!1,_=null,w=null;n&&(b=u&&m.route.id?u[m.route.id]:void 0,_=m.route.errorElement||Qj,h&&(p<0&&x===0?(cv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):p===x&&(v=!0,w=m.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,x+1)),j=()=>{let A;return b?A=_:v?A=w:m.route.Component?A=D.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=g,D.createElement(Vj,{match:m,routeContext:{outlet:g,matches:S,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?D.createElement(Gj,{location:n.location,revalidation:n.revalidation,component:_,error:b,children:j(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):j()},null)}function jf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yj(s){let t=D.useContext(hi);return st(t,jf(s)),t}function Xj(s){let t=D.useContext(Bc);return st(t,jf(s)),t}function Ij(s){let t=D.useContext(Ma);return st(t,jf(s)),t}function wf(s){let t=Ij(s),n=t.matches[t.matches.length-1];return st(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function Jj(){return wf("useRouteId")}function Zj(){var i;let s=D.useContext(bf),t=Xj("useRouteError"),n=wf("useRouteError");return s!==void 0?s:(i=t.errors)==null?void 0:i[n]}function Wj(){let{router:s}=Yj("useNavigate"),t=wf("useNavigate"),n=D.useRef(!1);return lv(()=>{n.current=!0}),D.useCallback(async(o,u={})=>{Ra(n.current,iv),n.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:t,...u}))},[s,t])}var Fp={};function cv(s,t,n){!t&&!Fp[s]&&(Fp[s]=!0,Ra(!1,n))}D.memo(ew);function ew({routes:s,future:t,state:n}){return ov(s,void 0,n,t)}function Hc({to:s,replace:t,state:n,relative:i}){st(fi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(Oa);Ra(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=D.useContext(Ma),{pathname:h}=vs(),p=mi(),g=yf(s,vf(u),h,i==="path"),m=JSON.stringify(g);return D.useEffect(()=>{p(JSON.parse(m),{replace:t,state:n,relative:i})},[p,m,i,t,n]),null}function tw(s){return Bj(s.context)}function Yt(s){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aw({basename:s="/",children:t=null,location:n,navigationType:i="POP",navigator:o,static:u=!1}){st(!fi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=di(n));let{pathname:g="/",search:m="",hash:x="",state:b=null,key:v="default"}=n,_=D.useMemo(()=>{let w=xs(g,h);return w==null?null:{location:{pathname:w,search:m,hash:x,state:b,key:v},navigationType:i}},[h,g,m,x,b,v,i]);return Ra(_!=null,`<Router basename="${h}"> is not able to match the URL "${g}${m}${x}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:D.createElement(Oa.Provider,{value:p},D.createElement(Bl.Provider,{children:t,value:_}))}function sw({children:s,location:t}){return Hj(Dh(s),t)}function Dh(s,t=[]){let n=[];return D.Children.forEach(s,(i,o)=>{if(!D.isValidElement(i))return;let u=[...t,o];if(i.type===D.Fragment){n.push.apply(n,Dh(i.props.children,u));return}st(i.type===Yt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Dh(i.props.children,u)),n.push(h)}),n}var jc="get",wc="application/x-www-form-urlencoded";function Fc(s){return s!=null&&typeof s.tagName=="string"}function nw(s){return Fc(s)&&s.tagName.toLowerCase()==="button"}function rw(s){return Fc(s)&&s.tagName.toLowerCase()==="form"}function iw(s){return Fc(s)&&s.tagName.toLowerCase()==="input"}function lw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function ow(s,t){return s.button===0&&(!t||t==="_self")&&!lw(s)}var hc=null;function cw(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yh(s){return s!=null&&!uw.has(s)?(Ra(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wc}"`),null):s}function dw(s,t){let n,i,o,u,h;if(rw(s)){let p=s.getAttribute("action");i=p?xs(p,t):null,n=s.getAttribute("method")||jc,o=yh(s.getAttribute("enctype"))||wc,u=new FormData(s)}else if(nw(s)||iw(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(i=g?xs(g,t):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||jc,o=yh(s.getAttribute("formenctype"))||yh(p.getAttribute("enctype"))||wc,u=new FormData(p,s),!cw()){let{name:m,type:x,value:b}=s;if(x==="image"){let v=m?`${m}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else m&&u.append(m,b)}}else{if(Fc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jc,i=null,o=wc,h=s}return u&&o==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Nf(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function hw(s,t){if(s.id in t)return t[s.id];try{let n=await import(s.module);return t[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function mw(s,t,n){let i=await Promise.all(s.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await hw(u,n);return h.links?h.links():[]}return[]}));return vw(i.flat(1).filter(fw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Qp(s,t,n,i,o,u){let h=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,p=(g,m)=>{var x;return n[m].pathname!==g.pathname||((x=n[m].route.path)==null?void 0:x.endsWith("*"))&&n[m].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,m)=>h(g,m)||p(g,m)):u==="data"?t.filter((g,m)=>{var b;let x=i.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function gw(s,t,{includeHydrateFallback:n}={}){return pw(s.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function pw(s){return[...new Set(s)]}function xw(s){let t={},n=Object.keys(s).sort();for(let i of n)t[i]=s[i];return t}function vw(s,t){let n=new Set;return new Set(t),s.reduce((i,o)=>{let u=JSON.stringify(xw(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yw=new Set([100,101,204,205]);function bw(s,t){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname="_root.data":t&&xs(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function uv(){let s=D.useContext(hi);return Nf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function jw(){let s=D.useContext(Bc);return Nf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var _f=D.createContext(void 0);_f.displayName="FrameworkContext";function dv(){let s=D.useContext(_f);return Nf(s,"You must render this element inside a <HydratedRouter> element"),s}function ww(s,t){let n=D.useContext(_f),[i,o]=D.useState(!1),[u,h]=D.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:x,onTouchStart:b}=t,v=D.useRef(null);D.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let S=A=>{A.forEach(O=>{h(O.isIntersecting)})},j=new IntersectionObserver(S,{threshold:.5});return v.current&&j.observe(v.current),()=>{j.disconnect()}}},[s]),D.useEffect(()=>{if(i){let S=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(S)}}},[i]);let _=()=>{o(!0)},w=()=>{o(!1),h(!1)};return n?s!=="intent"?[u,v,{}]:[u,v,{onFocus:bl(p,_),onBlur:bl(g,w),onMouseEnter:bl(m,_),onMouseLeave:bl(x,w),onTouchStart:bl(b,_)}]:[!1,v,{}]}function bl(s,t){return n=>{s&&s(n),n.defaultPrevented||t(n)}}function Nw({page:s,...t}){let{router:n}=uv(),i=D.useMemo(()=>tv(n.routes,s,n.basename),[n.routes,s,n.basename]);return i?D.createElement(Ew,{page:s,matches:i,...t}):null}function _w(s){let{manifest:t,routeModules:n}=dv(),[i,o]=D.useState([]);return D.useEffect(()=>{let u=!1;return mw(s,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[s,t,n]),i}function Ew({page:s,matches:t,...n}){let i=vs(),{manifest:o,routeModules:u}=dv(),{basename:h}=uv(),{loaderData:p,matches:g}=jw(),m=D.useMemo(()=>Qp(s,t,g,o,i,"data"),[s,t,g,o,i]),x=D.useMemo(()=>Qp(s,t,g,o,i,"assets"),[s,t,g,o,i]),b=D.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let w=new Set,S=!1;if(t.forEach(A=>{var E;let O=o.routes[A.route.id];!O||!O.hasLoader||(!m.some(k=>k.route.id===A.route.id)&&A.route.id in p&&((E=u[A.route.id])!=null&&E.shouldRevalidate)||O.hasClientLoader?S=!0:w.add(A.route.id))}),w.size===0)return[];let j=bw(s,h);return S&&w.size>0&&j.searchParams.set("_routes",t.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[j.pathname+j.search]},[h,p,i,o,m,t,s,u]),v=D.useMemo(()=>gw(x,o),[x,o]),_=_w(x);return D.createElement(D.Fragment,null,b.map(w=>D.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>D.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),_.map(({key:w,link:S})=>D.createElement("link",{key:w,...S})))}function Sw(...s){return t=>{s.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var hv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hv&&(window.__reactRouterVersion="7.6.2")}catch{}function Cw({basename:s,children:t,window:n}){let i=D.useRef();i.current==null&&(i.current=dj({window:n,v5Compat:!0}));let o=i.current,[u,h]=D.useState({action:o.action,location:o.location}),p=D.useCallback(g=>{D.startTransition(()=>h(g))},[h]);return D.useLayoutEffect(()=>o.listen(p),[o,p]),D.createElement(aw,{basename:s,children:t,location:u.location,navigationType:u.action,navigator:o})}var fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ci=D.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:m,preventScrollReset:x,viewTransition:b,...v},_){let{basename:w}=D.useContext(Oa),S=typeof m=="string"&&fv.test(m),j,A=!1;if(typeof m=="string"&&S&&(j=m,hv))try{let Q=new URL(window.location.href),ue=m.startsWith("//")?new URL(Q.protocol+m):new URL(m),xe=xs(ue.pathname,w);ue.origin===Q.origin&&xe!=null?m=xe+ue.search+ue.hash:A=!0}catch{Ra(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=zj(m,{relative:o}),[E,k,T]=ww(i,v),L=Rw(m,{replace:h,state:p,target:g,preventScrollReset:x,relative:o,viewTransition:b});function $(Q){t&&t(Q),Q.defaultPrevented||L(Q)}let I=D.createElement("a",{...v,...T,href:j||O,onClick:A||u?t:$,ref:Sw(_,k),target:g,"data-discover":!S&&n==="render"?"true":void 0});return E&&!S?D.createElement(D.Fragment,null,I,D.createElement(Nw,{page:O})):I});ci.displayName="Link";var Tw=D.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...m},x){let b=Hl(h,{relative:m.relative}),v=vs(),_=D.useContext(Bc),{navigator:w,basename:S}=D.useContext(Oa),j=_!=null&&Uw(b)&&p===!0,A=w.encodeLocation?w.encodeLocation(b).pathname:b.pathname,O=v.pathname,E=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(O=O.toLowerCase(),E=E?E.toLowerCase():null,A=A.toLowerCase()),E&&S&&(E=xs(E,S)||E);const k=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let T=O===A||!o&&O.startsWith(A)&&O.charAt(k)==="/",L=E!=null&&(E===A||!o&&E.startsWith(A)&&E.charAt(A.length)==="/"),$={isActive:T,isPending:L,isTransitioning:j},I=T?t:void 0,Q;typeof i=="function"?Q=i($):Q=[i,T?"active":null,L?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let ue=typeof u=="function"?u($):u;return D.createElement(ci,{...m,"aria-current":I,className:Q,ref:x,style:ue,to:h,viewTransition:p},typeof g=="function"?g($):g)});Tw.displayName="NavLink";var Aw=D.forwardRef(({discover:s="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:u,method:h=jc,action:p,onSubmit:g,relative:m,preventScrollReset:x,viewTransition:b,...v},_)=>{let w=Dw(),S=Lw(p,{relative:m}),j=h.toLowerCase()==="get"?"get":"post",A=typeof p=="string"&&fv.test(p),O=E=>{if(g&&g(E),E.defaultPrevented)return;E.preventDefault();let k=E.nativeEvent.submitter,T=(k==null?void 0:k.getAttribute("formmethod"))||h;w(k||E.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:o,state:u,relative:m,preventScrollReset:x,viewTransition:b})};return D.createElement("form",{ref:_,method:j,action:S,onSubmit:i?g:O,...v,"data-discover":!A&&s==="render"?"true":void 0})});Aw.displayName="Form";function kw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mv(s){let t=D.useContext(hi);return st(t,kw(s)),t}function Rw(s,{target:t,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=mi(),g=vs(),m=Hl(s,{relative:u});return D.useCallback(x=>{if(ow(x,t)){x.preventDefault();let b=n!==void 0?n:Ol(g)===Ol(m);p(s,{replace:b,state:i,preventScrollReset:o,relative:u,viewTransition:h})}},[g,p,m,n,i,t,s,o,u,h])}var Ow=0,Mw=()=>`__${String(++Ow)}__`;function Dw(){let{router:s}=mv("useSubmit"),{basename:t}=D.useContext(Oa),n=Jj();return D.useCallback(async(i,o={})=>{let{action:u,method:h,encType:p,formData:g,body:m}=dw(i,t);if(o.navigate===!1){let x=o.fetcherKey||Mw();await s.fetch(x,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,t,n])}function Lw(s,{relative:t}={}){let{basename:n}=D.useContext(Oa),i=D.useContext(Ma);st(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Hl(s||".",{relative:t})},h=vs();if(s==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let x=p.toString();u.search=x?`?${x}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ms([n,u.pathname])),Ol(u)}function Uw(s,t={}){let n=D.useContext(rv);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mv("useViewTransitionState"),o=Hl(s,{relative:t.relative});if(!n.isTransitioning)return!1;let u=xs(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=xs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Cc(o.pathname,h)!=null||Cc(o.pathname,u)!=null}[...yw];var gi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fn=typeof window>"u"||"Deno"in globalThis;function qt(){}function Pw(s,t){return typeof s=="function"?s(t):s}function Lh(s){return typeof s=="number"&&s>=0&&s!==1/0}function gv(s,t){return Math.max(s+(t||0)-Date.now(),0)}function rn(s,t){return typeof s=="function"?s(t):s}function ka(s,t){return typeof s=="function"?s(t):s}function Gp(s,t){const{type:n="all",exact:i,fetchStatus:o,predicate:u,queryKey:h,stale:p}=s;if(h){if(i){if(t.queryHash!==Ef(h,t.options))return!1}else if(!Ml(t.queryKey,h))return!1}if(n!=="all"){const g=t.isActive();if(n==="active"&&!g||n==="inactive"&&g)return!1}return!(typeof p=="boolean"&&t.isStale()!==p||o&&o!==t.state.fetchStatus||u&&!u(t))}function Vp(s,t){const{exact:n,status:i,predicate:o,mutationKey:u}=s;if(u){if(!t.options.mutationKey)return!1;if(n){if(Qn(t.options.mutationKey)!==Qn(u))return!1}else if(!Ml(t.options.mutationKey,u))return!1}return!(i&&t.state.status!==i||o&&!o(t))}function Ef(s,t){return((t==null?void 0:t.queryKeyHashFn)||Qn)(s)}function Qn(s){return JSON.stringify(s,(t,n)=>Uh(n)?Object.keys(n).sort().reduce((i,o)=>(i[o]=n[o],i),{}):n)}function Ml(s,t){return s===t?!0:typeof s!=typeof t?!1:s&&t&&typeof s=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ml(s[n],t[n])):!1}function pv(s,t){if(s===t)return s;const n=Kp(s)&&Kp(t);if(n||Uh(s)&&Uh(t)){const i=n?s:Object.keys(s),o=i.length,u=n?t:Object.keys(t),h=u.length,p=n?[]:{},g=new Set(i);let m=0;for(let x=0;x<h;x++){const b=n?x:u[x];(!n&&g.has(b)||n)&&s[b]===void 0&&t[b]===void 0?(p[b]=void 0,m++):(p[b]=pv(s[b],t[b]),p[b]===s[b]&&s[b]!==void 0&&m++)}return o===h&&m===o?s:p}return t}function Tc(s,t){if(!t||Object.keys(s).length!==Object.keys(t).length)return!1;for(const n in s)if(s[n]!==t[n])return!1;return!0}function Kp(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Uh(s){if(!Yp(s))return!1;const t=s.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Yp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function Yp(s){return Object.prototype.toString.call(s)==="[object Object]"}function zw(s){return new Promise(t=>{setTimeout(t,s)})}function Ph(s,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(s,t):n.structuralSharing!==!1?pv(s,t):t}function qw(s,t,n=0){const i=[...s,t];return n&&i.length>n?i.slice(1):i}function $w(s,t,n=0){const i=[t,...s];return n&&i.length>n?i.slice(0,-1):i}var Sf=Symbol();function xv(s,t){return!s.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!s.queryFn||s.queryFn===Sf?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function vv(s,t){return typeof s=="function"?s(...t):!!s}var Dn,Xs,Ir,Gx,Bw=(Gx=class extends gi{constructor(){super();we(this,Dn);we(this,Xs);we(this,Ir);de(this,Ir,t=>{if(!Fn&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Xs)||this.setEventListener(U(this,Ir))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Xs))==null||t.call(this),de(this,Xs,void 0))}setEventListener(t){var n;de(this,Ir,t),(n=U(this,Xs))==null||n.call(this),de(this,Xs,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){U(this,Dn)!==t&&(de(this,Dn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof U(this,Dn)=="boolean"?U(this,Dn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Dn=new WeakMap,Xs=new WeakMap,Ir=new WeakMap,Gx),Cf=new Bw,Jr,Is,Zr,Vx,Hw=(Vx=class extends gi{constructor(){super();we(this,Jr,!0);we(this,Is);we(this,Zr);de(this,Zr,t=>{if(!Fn&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){U(this,Is)||this.setEventListener(U(this,Zr))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Is))==null||t.call(this),de(this,Is,void 0))}setEventListener(t){var n;de(this,Zr,t),(n=U(this,Is))==null||n.call(this),de(this,Is,t(this.setOnline.bind(this)))}setOnline(t){U(this,Jr)!==t&&(de(this,Jr,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return U(this,Jr)}},Jr=new WeakMap,Is=new WeakMap,Zr=new WeakMap,Vx),Ac=new Hw;function zh(){let s,t;const n=new Promise((o,u)=>{s=o,t=u});n.status="pending",n.catch(()=>{});function i(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{i({status:"fulfilled",value:o}),s(o)},n.reject=o=>{i({status:"rejected",reason:o}),t(o)},n}function Fw(s){return Math.min(1e3*2**s,3e4)}function yv(s){return(s??"online")==="online"?Ac.isOnline():!0}var bv=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function bh(s){return s instanceof bv}function jv(s){let t=!1,n=0,i=!1,o;const u=zh(),h=S=>{var j;i||(v(new bv(S)),(j=s.abort)==null||j.call(s))},p=()=>{t=!0},g=()=>{t=!1},m=()=>Cf.isFocused()&&(s.networkMode==="always"||Ac.isOnline())&&s.canRun(),x=()=>yv(s.networkMode)&&s.canRun(),b=S=>{var j;i||(i=!0,(j=s.onSuccess)==null||j.call(s,S),o==null||o(),u.resolve(S))},v=S=>{var j;i||(i=!0,(j=s.onError)==null||j.call(s,S),o==null||o(),u.reject(S))},_=()=>new Promise(S=>{var j;o=A=>{(i||m())&&S(A)},(j=s.onPause)==null||j.call(s)}).then(()=>{var S;o=void 0,i||(S=s.onContinue)==null||S.call(s)}),w=()=>{if(i)return;let S;const j=n===0?s.initialPromise:void 0;try{S=j??s.fn()}catch(A){S=Promise.reject(A)}Promise.resolve(S).then(b).catch(A=>{var L;if(i)return;const O=s.retry??(Fn?0:3),E=s.retryDelay??Fw,k=typeof E=="function"?E(n,A):E,T=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,A);if(t||!T){v(A);return}n++,(L=s.onFail)==null||L.call(s,n,A),zw(k).then(()=>m()?void 0:_()).then(()=>{t?v(A):w()})})};return{promise:u,cancel:h,continue:()=>(o==null||o(),u),cancelRetry:p,continueRetry:g,canStart:x,start:()=>(x()?w():_().then(w),u)}}var Qw=s=>setTimeout(s,0);function Gw(){let s=[],t=0,n=p=>{p()},i=p=>{p()},o=Qw;const u=p=>{t?s.push(p):o(()=>{n(p)})},h=()=>{const p=s;s=[],p.length&&o(()=>{i(()=>{p.forEach(g=>{n(g)})})})};return{batch:p=>{let g;t++;try{g=p()}finally{t--,t||h()}return g},batchCalls:p=>(...g)=>{u(()=>{p(...g)})},schedule:u,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{i=p},setScheduler:p=>{o=p}}}var xt=Gw(),Ln,Kx,wv=(Kx=class{constructor(){we(this,Ln)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lh(this.gcTime)&&de(this,Ln,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Fn?1/0:5*60*1e3))}clearGcTimeout(){U(this,Ln)&&(clearTimeout(U(this,Ln)),de(this,Ln,void 0))}},Ln=new WeakMap,Kx),Wr,ei,wa,Un,Ot,Pl,Pn,Ca,os,Yx,Vw=(Yx=class extends wv{constructor(t){super();we(this,Ca);we(this,Wr);we(this,ei);we(this,wa);we(this,Un);we(this,Ot);we(this,Pl);we(this,Pn);de(this,Pn,!1),de(this,Pl,t.defaultOptions),this.setOptions(t.options),this.observers=[],de(this,Un,t.client),de(this,wa,U(this,Un).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,de(this,Wr,Kw(this.options)),this.state=t.state??U(this,Wr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,Ot))==null?void 0:t.promise}setOptions(t){this.options={...U(this,Pl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,wa).remove(this)}setData(t,n){const i=Ph(this.state.data,t,this.options);return Ae(this,Ca,os).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){Ae(this,Ca,os).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,o;const n=(i=U(this,Ot))==null?void 0:i.promise;return(o=U(this,Ot))==null||o.cancel(t),n?n.then(qt).catch(qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Wr))}isActive(){return this.observers.some(t=>ka(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>rn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!gv(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,Ot))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,Ot))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,wa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(U(this,Ot)&&(U(this,Pn)?U(this,Ot).cancel({revert:!0}):U(this,Ot).cancelRetry()),this.scheduleGc()),U(this,wa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ae(this,Ca,os).call(this,{type:"invalidate"})}fetch(t,n){var m,x,b;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,Ot))return U(this,Ot).continueRetry(),U(this,Ot).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(_=>_.options.queryFn);v&&this.setOptions(v.options)}const i=new AbortController,o=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(de(this,Pn,!0),i.signal)})},u=()=>{const v=xv(this.options,n),w=(()=>{const S={client:U(this,Un),queryKey:this.queryKey,meta:this.meta};return o(S),S})();return de(this,Pn,!1),this.options.persister?this.options.persister(v,w,this):v(w)},p=(()=>{const v={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:U(this,Un),state:this.state,fetchFn:u};return o(v),v})();(m=this.options.behavior)==null||m.onFetch(p,this),de(this,ei,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=p.fetchOptions)==null?void 0:x.meta))&&Ae(this,Ca,os).call(this,{type:"fetch",meta:(b=p.fetchOptions)==null?void 0:b.meta});const g=v=>{var _,w,S,j;bh(v)&&v.silent||Ae(this,Ca,os).call(this,{type:"error",error:v}),bh(v)||((w=(_=U(this,wa).config).onError)==null||w.call(_,v,this),(j=(S=U(this,wa).config).onSettled)==null||j.call(S,this.state.data,v,this)),this.scheduleGc()};return de(this,Ot,jv({initialPromise:n==null?void 0:n.initialPromise,fn:p.fetchFn,abort:i.abort.bind(i),onSuccess:v=>{var _,w,S,j;if(v===void 0){g(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(A){g(A);return}(w=(_=U(this,wa).config).onSuccess)==null||w.call(_,v,this),(j=(S=U(this,wa).config).onSettled)==null||j.call(S,v,this.state.error,this),this.scheduleGc()},onError:g,onFail:(v,_)=>{Ae(this,Ca,os).call(this,{type:"failed",failureCount:v,error:_})},onPause:()=>{Ae(this,Ca,os).call(this,{type:"pause"})},onContinue:()=>{Ae(this,Ca,os).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0})),U(this,Ot).start()}},Wr=new WeakMap,ei=new WeakMap,wa=new WeakMap,Un=new WeakMap,Ot=new WeakMap,Pl=new WeakMap,Pn=new WeakMap,Ca=new WeakSet,os=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Nv(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return bh(o)&&o.revert&&U(this,ei)?{...U(this,ei),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),xt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,wa).notify({query:this,type:"updated",action:t})})},Yx);function Nv(s,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yv(t.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Kw(s){const t=typeof s.initialData=="function"?s.initialData():s.initialData,n=t!==void 0,i=n?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ba,Xx,Yw=(Xx=class extends gi{constructor(t={}){super();we(this,Ba);this.config=t,de(this,Ba,new Map)}build(t,n,i){const o=n.queryKey,u=n.queryHash??Ef(o,n);let h=this.get(u);return h||(h=new Vw({client:t,queryKey:o,queryHash:u,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(o)}),this.add(h)),h}add(t){U(this,Ba).has(t.queryHash)||(U(this,Ba).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=U(this,Ba).get(t.queryHash);n&&(t.destroy(),n===t&&U(this,Ba).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,Ba).get(t)}getAll(){return[...U(this,Ba).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>Gp(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>Gp(t,i)):n}notify(t){xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ba=new WeakMap,Xx),Ha,Pt,zn,Fa,Gs,Ix,Xw=(Ix=class extends wv{constructor(t){super();we(this,Fa);we(this,Ha);we(this,Pt);we(this,zn);this.mutationId=t.mutationId,de(this,Pt,t.mutationCache),de(this,Ha,[]),this.state=t.state||_v(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,Ha).includes(t)||(U(this,Ha).push(t),this.clearGcTimeout(),U(this,Pt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){de(this,Ha,U(this,Ha).filter(n=>n!==t)),this.scheduleGc(),U(this,Pt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,Ha).length||(this.state.status==="pending"?this.scheduleGc():U(this,Pt).remove(this))}continue(){var t;return((t=U(this,zn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var u,h,p,g,m,x,b,v,_,w,S,j,A,O,E,k,T,L,$,I;const n=()=>{Ae(this,Fa,Gs).call(this,{type:"continue"})};de(this,zn,jv({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(Q,ue)=>{Ae(this,Fa,Gs).call(this,{type:"failed",failureCount:Q,error:ue})},onPause:()=>{Ae(this,Fa,Gs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Pt).canRun(this)}));const i=this.state.status==="pending",o=!U(this,zn).canStart();try{if(i)n();else{Ae(this,Fa,Gs).call(this,{type:"pending",variables:t,isPaused:o}),await((h=(u=U(this,Pt).config).onMutate)==null?void 0:h.call(u,t,this));const ue=await((g=(p=this.options).onMutate)==null?void 0:g.call(p,t));ue!==this.state.context&&Ae(this,Fa,Gs).call(this,{type:"pending",context:ue,variables:t,isPaused:o})}const Q=await U(this,zn).start();return await((x=(m=U(this,Pt).config).onSuccess)==null?void 0:x.call(m,Q,t,this.state.context,this)),await((v=(b=this.options).onSuccess)==null?void 0:v.call(b,Q,t,this.state.context)),await((w=(_=U(this,Pt).config).onSettled)==null?void 0:w.call(_,Q,null,this.state.variables,this.state.context,this)),await((j=(S=this.options).onSettled)==null?void 0:j.call(S,Q,null,t,this.state.context)),Ae(this,Fa,Gs).call(this,{type:"success",data:Q}),Q}catch(Q){try{throw await((O=(A=U(this,Pt).config).onError)==null?void 0:O.call(A,Q,t,this.state.context,this)),await((k=(E=this.options).onError)==null?void 0:k.call(E,Q,t,this.state.context)),await((L=(T=U(this,Pt).config).onSettled)==null?void 0:L.call(T,void 0,Q,this.state.variables,this.state.context,this)),await((I=($=this.options).onSettled)==null?void 0:I.call($,void 0,Q,t,this.state.context)),Q}finally{Ae(this,Fa,Gs).call(this,{type:"error",error:Q})}}finally{U(this,Pt).runNext(this)}}},Ha=new WeakMap,Pt=new WeakMap,zn=new WeakMap,Fa=new WeakSet,Gs=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),xt.batch(()=>{U(this,Ha).forEach(i=>{i.onMutationUpdate(t)}),U(this,Pt).notify({mutation:this,type:"updated",action:t})})},Ix);function _v(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hs,Ta,zl,Jx,Iw=(Jx=class extends gi{constructor(t={}){super();we(this,hs);we(this,Ta);we(this,zl);this.config=t,de(this,hs,new Set),de(this,Ta,new Map),de(this,zl,0)}build(t,n,i){const o=new Xw({mutationCache:this,mutationId:++dc(this,zl)._,options:t.defaultMutationOptions(n),state:i});return this.add(o),o}add(t){U(this,hs).add(t);const n=fc(t);if(typeof n=="string"){const i=U(this,Ta).get(n);i?i.push(t):U(this,Ta).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(U(this,hs).delete(t)){const n=fc(t);if(typeof n=="string"){const i=U(this,Ta).get(n);if(i)if(i.length>1){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}else i[0]===t&&U(this,Ta).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=fc(t);if(typeof n=="string"){const i=U(this,Ta).get(n),o=i==null?void 0:i.find(u=>u.state.status==="pending");return!o||o===t}else return!0}runNext(t){var i;const n=fc(t);if(typeof n=="string"){const o=(i=U(this,Ta).get(n))==null?void 0:i.find(u=>u!==t&&u.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xt.batch(()=>{U(this,hs).forEach(t=>{this.notify({type:"removed",mutation:t})}),U(this,hs).clear(),U(this,Ta).clear()})}getAll(){return Array.from(U(this,hs))}find(t){const n={exact:!0,...t};return this.getAll().find(i=>Vp(n,i))}findAll(t={}){return this.getAll().filter(n=>Vp(t,n))}notify(t){xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return xt.batch(()=>Promise.all(t.map(n=>n.continue().catch(qt))))}},hs=new WeakMap,Ta=new WeakMap,zl=new WeakMap,Jx);function fc(s){var t;return(t=s.options.scope)==null?void 0:t.id}function Xp(s){return{onFetch:(t,n)=>{var x,b,v,_,w;const i=t.options,o=(v=(b=(x=t.fetchOptions)==null?void 0:x.meta)==null?void 0:b.fetchMore)==null?void 0:v.direction,u=((_=t.state.data)==null?void 0:_.pages)||[],h=((w=t.state.data)==null?void 0:w.pageParams)||[];let p={pages:[],pageParams:[]},g=0;const m=async()=>{let S=!1;const j=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(t.signal.aborted?S=!0:t.signal.addEventListener("abort",()=>{S=!0}),t.signal)})},A=xv(t.options,t.fetchOptions),O=async(E,k,T)=>{if(S)return Promise.reject();if(k==null&&E.pages.length)return Promise.resolve(E);const $=(()=>{const xe={client:t.client,queryKey:t.queryKey,pageParam:k,direction:T?"backward":"forward",meta:t.options.meta};return j(xe),xe})(),I=await A($),{maxPages:Q}=t.options,ue=T?$w:qw;return{pages:ue(E.pages,I,Q),pageParams:ue(E.pageParams,k,Q)}};if(o&&u.length){const E=o==="backward",k=E?Jw:Ip,T={pages:u,pageParams:h},L=k(i,T);p=await O(T,L,E)}else{const E=s??u.length;do{const k=g===0?h[0]??i.initialPageParam:Ip(i,p);if(g>0&&k==null)break;p=await O(p,k),g++}while(g<E)}return p};t.options.persister?t.fetchFn=()=>{var S,j;return(j=(S=t.options).persister)==null?void 0:j.call(S,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=m}}}function Ip(s,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?s.getNextPageParam(t[i],t,n[i],n):void 0}function Jw(s,{pages:t,pageParams:n}){var i;return t.length>0?(i=s.getPreviousPageParam)==null?void 0:i.call(s,t[0],t,n[0],n):void 0}var ot,Js,Zs,ti,ai,Ws,si,ni,Zx,Zw=(Zx=class{constructor(s={}){we(this,ot);we(this,Js);we(this,Zs);we(this,ti);we(this,ai);we(this,Ws);we(this,si);we(this,ni);de(this,ot,s.queryCache||new Yw),de(this,Js,s.mutationCache||new Iw),de(this,Zs,s.defaultOptions||{}),de(this,ti,new Map),de(this,ai,new Map),de(this,Ws,0)}mount(){dc(this,Ws)._++,U(this,Ws)===1&&(de(this,si,Cf.subscribe(async s=>{s&&(await this.resumePausedMutations(),U(this,ot).onFocus())})),de(this,ni,Ac.subscribe(async s=>{s&&(await this.resumePausedMutations(),U(this,ot).onOnline())})))}unmount(){var s,t;dc(this,Ws)._--,U(this,Ws)===0&&((s=U(this,si))==null||s.call(this),de(this,si,void 0),(t=U(this,ni))==null||t.call(this),de(this,ni,void 0))}isFetching(s){return U(this,ot).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return U(this,Js).findAll({...s,status:"pending"}).length}getQueryData(s){var n;const t=this.defaultQueryOptions({queryKey:s});return(n=U(this,ot).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(s){const t=this.defaultQueryOptions(s),n=U(this,ot).build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(s):(s.revalidateIfStale&&n.isStaleByTime(rn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(s){return U(this,ot).findAll(s).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(s,t,n){const i=this.defaultQueryOptions({queryKey:s}),o=U(this,ot).get(i.queryHash),u=o==null?void 0:o.state.data,h=Pw(t,u);if(h!==void 0)return U(this,ot).build(this,i).setData(h,{...n,manual:!0})}setQueriesData(s,t,n){return xt.batch(()=>U(this,ot).findAll(s).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(s){var n;const t=this.defaultQueryOptions({queryKey:s});return(n=U(this,ot).get(t.queryHash))==null?void 0:n.state}removeQueries(s){const t=U(this,ot);xt.batch(()=>{t.findAll(s).forEach(n=>{t.remove(n)})})}resetQueries(s,t){const n=U(this,ot);return xt.batch(()=>(n.findAll(s).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...s},t)))}cancelQueries(s,t={}){const n={revert:!0,...t},i=xt.batch(()=>U(this,ot).findAll(s).map(o=>o.cancel(n)));return Promise.all(i).then(qt).catch(qt)}invalidateQueries(s,t={}){return xt.batch(()=>(U(this,ot).findAll(s).forEach(n=>{n.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},t)))}refetchQueries(s,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=xt.batch(()=>U(this,ot).findAll(s).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,n);return n.throwOnError||(u=u.catch(qt)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(qt)}fetchQuery(s){const t=this.defaultQueryOptions(s);t.retry===void 0&&(t.retry=!1);const n=U(this,ot).build(this,t);return n.isStaleByTime(rn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(qt).catch(qt)}fetchInfiniteQuery(s){return s.behavior=Xp(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(qt).catch(qt)}ensureInfiniteQueryData(s){return s.behavior=Xp(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Ac.isOnline()?U(this,Js).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,ot)}getMutationCache(){return U(this,Js)}getDefaultOptions(){return U(this,Zs)}setDefaultOptions(s){de(this,Zs,s)}setQueryDefaults(s,t){U(this,ti).set(Qn(s),{queryKey:s,defaultOptions:t})}getQueryDefaults(s){const t=[...U(this,ti).values()],n={};return t.forEach(i=>{Ml(s,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(s,t){U(this,ai).set(Qn(s),{mutationKey:s,defaultOptions:t})}getMutationDefaults(s){const t=[...U(this,ai).values()],n={};return t.forEach(i=>{Ml(s,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(s){if(s._defaulted)return s;const t={...U(this,Zs).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return t.queryHash||(t.queryHash=Ef(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Sf&&(t.enabled=!1),t}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...U(this,Zs).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){U(this,ot).clear(),U(this,Js).clear()}},ot=new WeakMap,Js=new WeakMap,Zs=new WeakMap,ti=new WeakMap,ai=new WeakMap,Ws=new WeakMap,si=new WeakMap,ni=new WeakMap,Zx),Xt,ze,ql,zt,qn,ri,en,tn,$l,ii,li,$n,Bn,an,oi,Qe,Sl,qh,$h,Bh,Hh,Fh,Qh,Gh,Ev,Wx,Ww=(Wx=class extends gi{constructor(t,n){super();we(this,Qe);we(this,Xt);we(this,ze);we(this,ql);we(this,zt);we(this,qn);we(this,ri);we(this,en);we(this,tn);we(this,$l);we(this,ii);we(this,li);we(this,$n);we(this,Bn);we(this,an);we(this,oi,new Set);this.options=n,de(this,Xt,t),de(this,tn,null),de(this,en,zh()),this.options.experimental_prefetchInRender||U(this,en).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,ze).addObserver(this),Jp(U(this,ze),this.options)?Ae(this,Qe,Sl).call(this):this.updateResult(),Ae(this,Qe,Hh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vh(U(this,ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vh(U(this,ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ae(this,Qe,Fh).call(this),Ae(this,Qe,Qh).call(this),U(this,ze).removeObserver(this)}setOptions(t){const n=this.options,i=U(this,ze);if(this.options=U(this,Xt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ka(this.options.enabled,U(this,ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ae(this,Qe,Gh).call(this),U(this,ze).setOptions(this.options),n._defaulted&&!Tc(this.options,n)&&U(this,Xt).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,ze),observer:this});const o=this.hasListeners();o&&Zp(U(this,ze),i,this.options,n)&&Ae(this,Qe,Sl).call(this),this.updateResult(),o&&(U(this,ze)!==i||ka(this.options.enabled,U(this,ze))!==ka(n.enabled,U(this,ze))||rn(this.options.staleTime,U(this,ze))!==rn(n.staleTime,U(this,ze)))&&Ae(this,Qe,qh).call(this);const u=Ae(this,Qe,$h).call(this);o&&(U(this,ze)!==i||ka(this.options.enabled,U(this,ze))!==ka(n.enabled,U(this,ze))||u!==U(this,an))&&Ae(this,Qe,Bh).call(this,u)}getOptimisticResult(t){const n=U(this,Xt).getQueryCache().build(U(this,Xt),t),i=this.createResult(n,t);return t2(this,i)&&(de(this,zt,i),de(this,ri,this.options),de(this,qn,U(this,ze).state)),i}getCurrentResult(){return U(this,zt)}trackResult(t,n){return new Proxy(t,{get:(i,o)=>(this.trackProp(o),n==null||n(o),Reflect.get(i,o))})}trackProp(t){U(this,oi).add(t)}getCurrentQuery(){return U(this,ze)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=U(this,Xt).defaultQueryOptions(t),i=U(this,Xt).getQueryCache().build(U(this,Xt),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(t){return Ae(this,Qe,Sl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,zt)))}createResult(t,n){var Q;const i=U(this,ze),o=this.options,u=U(this,zt),h=U(this,qn),p=U(this,ri),m=t!==i?t.state:U(this,ql),{state:x}=t;let b={...x},v=!1,_;if(n._optimisticResults){const ue=this.hasListeners(),xe=!ue&&Jp(t,n),pe=ue&&Zp(t,i,n,o);(xe||pe)&&(b={...b,...Nv(x.data,t.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:j}=b;_=b.data;let A=!1;if(n.placeholderData!==void 0&&_===void 0&&j==="pending"){let ue;u!=null&&u.isPlaceholderData&&n.placeholderData===(p==null?void 0:p.placeholderData)?(ue=u.data,A=!0):ue=typeof n.placeholderData=="function"?n.placeholderData((Q=U(this,li))==null?void 0:Q.state.data,U(this,li)):n.placeholderData,ue!==void 0&&(j="success",_=Ph(u==null?void 0:u.data,ue,n),v=!0)}if(n.select&&_!==void 0&&!A)if(u&&_===(h==null?void 0:h.data)&&n.select===U(this,$l))_=U(this,ii);else try{de(this,$l,n.select),_=n.select(_),_=Ph(u==null?void 0:u.data,_,n),de(this,ii,_),de(this,tn,null)}catch(ue){de(this,tn,ue)}U(this,tn)&&(w=U(this,tn),_=U(this,ii),S=Date.now(),j="error");const O=b.fetchStatus==="fetching",E=j==="pending",k=j==="error",T=E&&O,L=_!==void 0,I={status:j,fetchStatus:b.fetchStatus,isPending:E,isSuccess:j==="success",isError:k,isInitialLoading:T,isLoading:T,data:_,dataUpdatedAt:b.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>m.dataUpdateCount||b.errorUpdateCount>m.errorUpdateCount,isFetching:O,isRefetching:O&&!E,isLoadingError:k&&!L,isPaused:b.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:k&&L,isStale:Tf(t,n),refetch:this.refetch,promise:U(this,en)};if(this.options.experimental_prefetchInRender){const ue=ke=>{I.status==="error"?ke.reject(I.error):I.data!==void 0&&ke.resolve(I.data)},xe=()=>{const ke=de(this,en,I.promise=zh());ue(ke)},pe=U(this,en);switch(pe.status){case"pending":t.queryHash===i.queryHash&&ue(pe);break;case"fulfilled":(I.status==="error"||I.data!==pe.value)&&xe();break;case"rejected":(I.status!=="error"||I.error!==pe.reason)&&xe();break}}return I}updateResult(){const t=U(this,zt),n=this.createResult(U(this,ze),this.options);if(de(this,qn,U(this,ze).state),de(this,ri,this.options),U(this,qn).data!==void 0&&de(this,li,U(this,ze)),Tc(n,t))return;de(this,zt,n);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!U(this,oi).size)return!0;const h=new Set(u??U(this,oi));return this.options.throwOnError&&h.add("error"),Object.keys(U(this,zt)).some(p=>{const g=p;return U(this,zt)[g]!==t[g]&&h.has(g)})};Ae(this,Qe,Ev).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ae(this,Qe,Hh).call(this)}},Xt=new WeakMap,ze=new WeakMap,ql=new WeakMap,zt=new WeakMap,qn=new WeakMap,ri=new WeakMap,en=new WeakMap,tn=new WeakMap,$l=new WeakMap,ii=new WeakMap,li=new WeakMap,$n=new WeakMap,Bn=new WeakMap,an=new WeakMap,oi=new WeakMap,Qe=new WeakSet,Sl=function(t){Ae(this,Qe,Gh).call(this);let n=U(this,ze).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(qt)),n},qh=function(){Ae(this,Qe,Fh).call(this);const t=rn(this.options.staleTime,U(this,ze));if(Fn||U(this,zt).isStale||!Lh(t))return;const i=gv(U(this,zt).dataUpdatedAt,t)+1;de(this,$n,setTimeout(()=>{U(this,zt).isStale||this.updateResult()},i))},$h=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,ze)):this.options.refetchInterval)??!1},Bh=function(t){Ae(this,Qe,Qh).call(this),de(this,an,t),!(Fn||ka(this.options.enabled,U(this,ze))===!1||!Lh(U(this,an))||U(this,an)===0)&&de(this,Bn,setInterval(()=>{(this.options.refetchIntervalInBackground||Cf.isFocused())&&Ae(this,Qe,Sl).call(this)},U(this,an)))},Hh=function(){Ae(this,Qe,qh).call(this),Ae(this,Qe,Bh).call(this,Ae(this,Qe,$h).call(this))},Fh=function(){U(this,$n)&&(clearTimeout(U(this,$n)),de(this,$n,void 0))},Qh=function(){U(this,Bn)&&(clearInterval(U(this,Bn)),de(this,Bn,void 0))},Gh=function(){const t=U(this,Xt).getQueryCache().build(U(this,Xt),this.options);if(t===U(this,ze))return;const n=U(this,ze);de(this,ze,t),de(this,ql,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Ev=function(t){xt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(U(this,zt))}),U(this,Xt).getQueryCache().notify({query:U(this,ze),type:"observerResultsUpdated"})})},Wx);function e2(s,t){return ka(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function Jp(s,t){return e2(s,t)||s.state.data!==void 0&&Vh(s,t,t.refetchOnMount)}function Vh(s,t,n){if(ka(t.enabled,s)!==!1&&rn(t.staleTime,s)!=="static"){const i=typeof n=="function"?n(s):n;return i==="always"||i!==!1&&Tf(s,t)}return!1}function Zp(s,t,n,i){return(s!==t||ka(i.enabled,s)===!1)&&(!n.suspense||s.state.status!=="error")&&Tf(s,n)}function Tf(s,t){return ka(t.enabled,s)!==!1&&s.isStaleByTime(rn(t.staleTime,s))}function t2(s,t){return!Tc(s.getCurrentResult(),t)}var sn,nn,It,fs,ps,Nc,Kh,ev,a2=(ev=class extends gi{constructor(n,i){super();we(this,ps);we(this,sn);we(this,nn);we(this,It);we(this,fs);de(this,sn,n),this.setOptions(i),this.bindMethods(),Ae(this,ps,Nc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const i=this.options;this.options=U(this,sn).defaultMutationOptions(n),Tc(this.options,i)||U(this,sn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,It),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&Qn(i.mutationKey)!==Qn(this.options.mutationKey)?this.reset():((o=U(this,It))==null?void 0:o.state.status)==="pending"&&U(this,It).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=U(this,It))==null||n.removeObserver(this)}onMutationUpdate(n){Ae(this,ps,Nc).call(this),Ae(this,ps,Kh).call(this,n)}getCurrentResult(){return U(this,nn)}reset(){var n;(n=U(this,It))==null||n.removeObserver(this),de(this,It,void 0),Ae(this,ps,Nc).call(this),Ae(this,ps,Kh).call(this)}mutate(n,i){var o;return de(this,fs,i),(o=U(this,It))==null||o.removeObserver(this),de(this,It,U(this,sn).getMutationCache().build(U(this,sn),this.options)),U(this,It).addObserver(this),U(this,It).execute(n)}},sn=new WeakMap,nn=new WeakMap,It=new WeakMap,fs=new WeakMap,ps=new WeakSet,Nc=function(){var i;const n=((i=U(this,It))==null?void 0:i.state)??_v();de(this,nn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Kh=function(n){xt.batch(()=>{var i,o,u,h,p,g,m,x;if(U(this,fs)&&this.hasListeners()){const b=U(this,nn).variables,v=U(this,nn).context;(n==null?void 0:n.type)==="success"?((o=(i=U(this,fs)).onSuccess)==null||o.call(i,n.data,b,v),(h=(u=U(this,fs)).onSettled)==null||h.call(u,n.data,null,b,v)):(n==null?void 0:n.type)==="error"&&((g=(p=U(this,fs)).onError)==null||g.call(p,n.error,b,v),(x=(m=U(this,fs)).onSettled)==null||x.call(m,void 0,n.error,b,v))}this.listeners.forEach(b=>{b(U(this,nn))})})},ev),Sv=D.createContext(void 0),_t=s=>{const t=D.useContext(Sv);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},s2=({client:s,children:t})=>(D.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),l.jsx(Sv.Provider,{value:s,children:t})),Cv=D.createContext(!1),n2=()=>D.useContext(Cv);Cv.Provider;function r2(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var i2=D.createContext(r2()),l2=()=>D.useContext(i2),o2=(s,t)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(t.isReset()||(s.retryOnMount=!1))},c2=s=>{D.useEffect(()=>{s.clearReset()},[s])},u2=({result:s,errorResetBoundary:t,throwOnError:n,query:i,suspense:o})=>s.isError&&!t.isReset()&&!s.isFetching&&i&&(o&&s.data===void 0||vv(n,[s.error,i])),d2=s=>{if(s.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),n=s.staleTime;s.staleTime=typeof n=="function"?(...i)=>t(n(...i)):t(n),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},h2=(s,t)=>s.isLoading&&s.isFetching&&!t,f2=(s,t)=>(s==null?void 0:s.suspense)&&t.isPending,Wp=(s,t,n)=>t.fetchOptimistic(s).catch(()=>{n.clearReset()});function m2(s,t,n){var b,v,_,w,S;const i=n2(),o=l2(),u=_t(),h=u.defaultQueryOptions(s);(v=(b=u.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||v.call(b,h),h._optimisticResults=i?"isRestoring":"optimistic",d2(h),o2(h,o),c2(o);const p=!u.getQueryCache().get(h.queryHash),[g]=D.useState(()=>new t(u,h)),m=g.getOptimisticResult(h),x=!i&&s.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(j=>{const A=x?g.subscribe(xt.batchCalls(j)):qt;return g.updateResult(),A},[g,x]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),D.useEffect(()=>{g.setOptions(h)},[h,g]),f2(h,m))throw Wp(h,g,o);if(u2({result:m,errorResetBoundary:o,throwOnError:h.throwOnError,query:u.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw m.error;if((w=(_=u.getDefaultOptions().queries)==null?void 0:_._experimental_afterQuery)==null||w.call(_,h,m),h.experimental_prefetchInRender&&!Fn&&h2(m,i)){const j=p?Wp(h,g,o):(S=u.getQueryCache().get(h.queryHash))==null?void 0:S.promise;j==null||j.catch(qt).finally(()=>{g.updateResult()})}return h.notifyOnChangeProps?m:g.trackResult(m)}function Fl(s,t){return m2(s,Ww)}function ta(s,t){const n=_t(),[i]=D.useState(()=>new a2(n,s));D.useEffect(()=>{i.setOptions(s)},[i,s]);const o=D.useSyncExternalStore(D.useCallback(h=>i.subscribe(xt.batchCalls(h)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=D.useCallback((h,p)=>{i.mutate(h,p).catch(qt)},[i]);if(o.error&&vv(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}const g2="modulepreload",p2=function(s){return"/"+s},ex={},Gn=function(t,n,i){let o=Promise.resolve();if(n&&n.length>0){let h=function(m){return Promise.all(m.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));o=h(n.map(m=>{if(m=p2(m),m in ex)return;ex[m]=!0;const x=m.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const v=document.createElement("link");if(v.rel=x?"stylesheet":g2,x||(v.as="script"),v.crossOrigin="",v.href=m,g&&v.setAttribute("nonce",g),document.head.appendChild(v),x)return new Promise((_,w)=>{v.addEventListener("load",_),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return o.then(h=>{for(const p of h||[])p.status==="rejected"&&u(p.reason);return t().catch(u)})},x2=new Zw({defaultOptions:{queries:{staleTime:5*60*1e3,cacheTime:10*60*1e3,refetchOnWindowFocus:!1,retry:3,retryDelay:s=>Math.min(1e3*2**s,3e4),refetchOnReconnect:!1},mutations:{retry:1,timeout:3e4}}}),v2=({children:s})=>l.jsxs(s2,{client:x2,children:[s,!1]}),y2=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...n)=>Gn(async()=>{const{default:i}=await Promise.resolve().then(()=>pi);return{default:i}},[]).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class Af extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class b2 extends Af{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class j2 extends Af{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class w2 extends Af{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yh;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Yh||(Yh={}));var N2=function(s,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(b){h(b)}}function g(x){try{m(i.throw(x))}catch(b){h(b)}}function m(x){x.done?u(x.value):o(x.value).then(p,g)}m((i=i.apply(s,t||[])).next())})};class _2{constructor(t,{headers:n={},customFetch:i,region:o=Yh.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=y2(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var i;return N2(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:h}=n;let p={},{region:g}=n;g||(g=this.region),g&&g!=="any"&&(p["x-region"]=g);let m;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=h):typeof h=="string"?(p["Content-Type"]="text/plain",m=h):typeof FormData<"u"&&h instanceof FormData?m=h:(p["Content-Type"]="application/json",m=JSON.stringify(h)));const x=yield this.fetch(`${this.url}/${t}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:m}).catch(w=>{throw new b2(w)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new j2(x);if(!x.ok)throw new w2(x);let v=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield x.json():v==="application/octet-stream"?_=yield x.blob():v==="text/event-stream"?_=x:v==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null}}catch(o){return{data:null,error:o}}})}}var wt={},Ur={},Pr={},zr={},qr={},$r={},E2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ui=E2();const S2=ui.fetch,Tv=ui.fetch.bind(ui),Av=ui.Headers,C2=ui.Request,T2=ui.Response,pi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Av,Request:C2,Response:T2,default:Tv,fetch:S2},Symbol.toStringTag,{value:"Module"})),A2=Z1(pi);var mc={},tx;function kv(){if(tx)return mc;tx=1,Object.defineProperty(mc,"__esModule",{value:!0});class s extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return mc.default=s,mc}var ax;function Rv(){if(ax)return $r;ax=1;var s=$r&&$r.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty($r,"__esModule",{value:!0});const t=s(A2),n=s(kv());class i{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,h){return this.headers=Object.assign({},this.headers),this.headers[u]=h,this}then(u,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var x,b,v;let _=null,w=null,S=null,j=m.status,A=m.statusText;if(m.ok){if(this.method!=="HEAD"){const T=await m.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=T:w=JSON.parse(T))}const E=(x=this.headers.Prefer)===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),k=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");E&&k&&k.length>1&&(S=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(_={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,S=null,j=406,A="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const E=await m.text();try{_=JSON.parse(E),Array.isArray(_)&&m.status===404&&(w=[],_=null,j=200,A="OK")}catch{m.status===404&&E===""?(j=204,A="No Content"):_={message:E}}if(_&&this.isMaybeSingle&&(!((v=_==null?void 0:_.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,j=200,A="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:w,count:S,status:j,statusText:A}});return this.shouldThrowOnError||(g=g.catch(m=>{var x,b,v;return{error:{message:`${(x=m==null?void 0:m.name)!==null&&x!==void 0?x:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(b=m==null?void 0:m.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(v=m==null?void 0:m.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),g.then(u,h)}returns(){return this}overrideTypes(){return this}}return $r.default=i,$r}var sx;function Ov(){if(sx)return qr;sx=1;var s=qr&&qr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(qr,"__esModule",{value:!0});const t=s(Rv());class n extends t.default{select(o){let u=!1;const h=(o??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",h),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:u=!0,nullsFirst:h,foreignTable:p,referencedTable:g=p}={}){const m=g?`${g}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${o}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:h=u}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this}range(o,u,{foreignTable:h,referencedTable:p=h}={}){const g=typeof p>"u"?"offset":`${p}.offset`,m=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(m,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:u=!1,settings:h=!1,buffers:p=!1,wal:g=!1,format:m="text"}={}){var x;const b=[o?"analyze":null,u?"verbose":null,h?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),v=(x=this.headers.Accept)!==null&&x!==void 0?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${v}"; options=${b};`,m==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return qr.default=n,qr}var nx;function kf(){if(nx)return zr;nx=1;var s=zr&&zr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(zr,"__esModule",{value:!0});const t=s(Ov());class n extends t.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const h=Array.from(new Set(u)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:h,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const m=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${g}fts${m}.${u}`),this}match(o){return Object.entries(o).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(o,u,h){return this.url.searchParams.append(o,`not.${u}.${h}`),this}or(o,{foreignTable:u,referencedTable:h=u}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${o})`),this}filter(o,u,h){return this.url.searchParams.append(o,`${u}.${h}`),this}}return zr.default=n,zr}var rx;function Mv(){if(rx)return Pr;rx=1;var s=Pr&&Pr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Pr,"__esModule",{value:!0});const t=s(kf());class n{constructor(o,{headers:u={},schema:h,fetch:p}){this.url=o,this.headers=u,this.schema=h,this.fetch=p}select(o,{head:u=!1,count:h}={}){const p=u?"HEAD":"GET";let g=!1;const m=(o??"*").split("").map(x=>/\s/.test(x)&&!g?"":(x==='"'&&(g=!g),x)).join("");return this.url.searchParams.set("select",m),h&&(this.headers.Prefer=`count=${h}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:u,defaultToNull:h=!0}={}){const p="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),u&&g.push(`count=${u}`),h||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(o)){const m=o.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(m.length>0){const x=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:u,ignoreDuplicates:h=!1,count:p,defaultToNull:g=!0}={}){const m="POST",x=[`resolution=${h?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&x.push(this.headers.Prefer),p&&x.push(`count=${p}`),g||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(o)){const b=o.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(b.length>0){const v=[...new Set(b)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:u}={}){const h="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),this.headers.Prefer=p.join(","),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const u="DELETE",h=[];return o&&h.push(`count=${o}`),this.headers.Prefer&&h.unshift(this.headers.Prefer),this.headers.Prefer=h.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Pr.default=n,Pr}var jl={},wl={},ix;function k2(){return ix||(ix=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.version=void 0,wl.version="0.0.0-automated"),wl}var lx;function R2(){if(lx)return jl;lx=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.DEFAULT_HEADERS=void 0;const s=k2();return jl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},jl}var ox;function O2(){if(ox)return Ur;ox=1;var s=Ur&&Ur.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ur,"__esModule",{value:!0});const t=s(Mv()),n=s(kf()),i=R2();class o{constructor(h,{headers:p={},schema:g,fetch:m}={}){this.url=h,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),p),this.schemaName=g,this.fetch=m}from(h){const p=new URL(`${this.url}/${h}`);return new t.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new o(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,p={},{head:g=!1,get:m=!1,count:x}={}){let b;const v=new URL(`${this.url}/rpc/${h}`);let _;g||m?(b=g?"HEAD":"GET",Object.entries(p).filter(([S,j])=>j!==void 0).map(([S,j])=>[S,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([S,j])=>{v.searchParams.append(S,j)})):(b="POST",_=p);const w=Object.assign({},this.headers);return x&&(w.Prefer=`count=${x}`),new n.default({method:b,url:v,headers:w,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return Ur.default=o,Ur}var cx;function M2(){if(cx)return wt;cx=1;var s=wt&&wt.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(wt,"__esModule",{value:!0}),wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const t=s(O2());wt.PostgrestClient=t.default;const n=s(Mv());wt.PostgrestQueryBuilder=n.default;const i=s(kf());wt.PostgrestFilterBuilder=i.default;const o=s(Ov());wt.PostgrestTransformBuilder=o.default;const u=s(Rv());wt.PostgrestBuilder=u.default;const h=s(kv());return wt.PostgrestError=h.default,wt.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:h.default},wt}var D2=M2();const L2=pf(D2),{PostgrestClient:U2,PostgrestQueryBuilder:DT,PostgrestFilterBuilder:LT,PostgrestTransformBuilder:UT,PostgrestBuilder:PT,PostgrestError:zT}=L2;let Xh;typeof window>"u"?Xh=require("ws"):Xh=window.WebSocket;const P2="2.11.10",z2={"X-Client-Info":`realtime-js/${P2}`},q2="1.0.0",Dv=1e4,$2=1e3;var Kr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Kr||(Kr={}));var Ut;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ut||(Ut={}));var Aa;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Aa||(Aa={}));var Ih;(function(s){s.websocket="websocket"})(Ih||(Ih={}));var kn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(kn||(kn={}));class B2{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const o=n.getUint8(1),u=n.getUint8(2);let h=this.HEADER_LENGTH+2;const p=i.decode(t.slice(h,h+o));h=h+o;const g=i.decode(t.slice(h,h+u));h=h+u;const m=JSON.parse(i.decode(t.slice(h,t.byteLength)));return{ref:null,topic:p,event:g,payload:m}}}class Lv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(tt||(tt={}));const ux=(s,t,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((u,h)=>(u[h]=H2(h,s,t,o),u),{})},H2=(s,t,n,i)=>{const o=t.find(p=>p.name===s),u=o==null?void 0:o.type,h=n[s];return u&&!i.includes(u)?Uv(u,h):Jh(h)},Uv=(s,t)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return V2(t,n)}switch(s){case tt.bool:return F2(t);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return Q2(t);case tt.json:case tt.jsonb:return G2(t);case tt.timestamp:return K2(t);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return Jh(t);default:return Jh(t)}},Jh=s=>s,F2=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Q2=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},G2=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},V2=(s,t)=>{if(typeof s!="string")return s;const n=s.length-1,i=s[n];if(s[0]==="{"&&i==="}"){let u;const h=s.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(p=>Uv(t,p))}return s},K2=s=>typeof s=="string"?s.replace(" ","T"):s,Pv=s=>{let t=s;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class jh{constructor(t,n,i={},o=Dv){this.channel=t,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dx;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(dx||(dx={}));class Tl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:u,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tl.syncState(this.state,o,u,h),this.pendingDiffs.forEach(g=>{this.state=Tl.syncDiff(this.state,g,u,h)}),this.pendingDiffs=[],p()}),this.channel._on(i.diff,{},o=>{const{onJoin:u,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Tl.syncDiff(this.state,o,u,h),p())}),this.onJoin((o,u,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:h})}),this.onLeave((o,u,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,o){const u=this.cloneDeep(t),h=this.transformState(n),p={},g={};return this.map(u,(m,x)=>{h[m]||(g[m]=x)}),this.map(h,(m,x)=>{const b=u[m];if(b){const v=x.map(j=>j.presence_ref),_=b.map(j=>j.presence_ref),w=x.filter(j=>_.indexOf(j.presence_ref)<0),S=b.filter(j=>v.indexOf(j.presence_ref)<0);w.length>0&&(p[m]=w),S.length>0&&(g[m]=S)}else p[m]=x}),this.syncDiff(u,{joins:p,leaves:g},i,o)}static syncDiff(t,n,i,o){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(u,(p,g)=>{var m;const x=(m=t[p])!==null&&m!==void 0?m:[];if(t[p]=this.cloneDeep(g),x.length>0){const b=t[p].map(_=>_.presence_ref),v=x.filter(_=>b.indexOf(_.presence_ref)<0);t[p].unshift(...v)}i(p,x,g)}),this.map(h,(p,g)=>{let m=t[p];if(!m)return;const x=g.map(b=>b.presence_ref);m=m.filter(b=>x.indexOf(b.presence_ref)<0),t[p]=m,o(p,m,g),m.length===0&&delete t[p]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const o=t[i];return"metas"in o?n[i]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[i]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hx;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(hx||(hx={}));var fx;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(fx||(fx={}));var ds;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class Rf{constructor(t,n={config:{}},i){this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jh(this,Aa.join,this.params,this.timeout),this.rejoinTimer=new Lv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Aa.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Tl(this),this.broadcastEndpointURL=Pv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:h,private:p}}=this.params;this._onError(x=>t==null?void 0:t(ds.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(ds.CLOSED));const g={},m={broadcast:u,presence:h,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&o!==void 0?o:[],private:p};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var b;if(this.socket.setAuth(),x===void 0){t==null||t(ds.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,w=[];for(let S=0;S<_;S++){const j=v[S],{filter:{event:A,schema:O,table:E,filter:k}}=j,T=x&&x[S];if(T&&T.event===A&&T.schema===O&&T.table===E&&T.filter===k)w.push(Object.assign(Object.assign({},j),{id:T.id}));else{this.unsubscribe(),this.state=Ut.errored,t==null||t(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ds.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ut.errored,t==null||t(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this._on(t,n,i)}async send(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){const{event:u,payload:h}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,p,g;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Aa.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(i=>{const o=new jh(this,Aa.leave,{},t);o.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,i){const o=new AbortController,u=setTimeout(()=>o.abort(),i),h=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(u),h}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new jh(this,t,n,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var o,u;const h=t.toLocaleLowerCase(),{close:p,error:g,leave:m,join:x}=Aa;if(i&&[p,g,m,x].indexOf(h)>=0&&i!==this._joinRef())return;let v=this._onMessage(h,n,i);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var w,S,j;return((w=_.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(S=_.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===h}).map(_=>_.callback(v,i)):(u=this.bindings[h])===null||u===void 0||u.filter(_=>{var w,S,j,A,O,E;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in _){const k=_.id,T=(w=_.filter)===null||w===void 0?void 0:w.event;return k&&((S=n.ids)===null||S===void 0?void 0:S.includes(k))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const k=(O=(A=_==null?void 0:_.filter)===null||A===void 0?void 0:A.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return k==="*"||k===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===h}).map(_=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:S,table:j,commit_timestamp:A,type:O,errors:E}=w;v=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:A,eventType:O,new:{},old:{},errors:E}),this._getPayloadRecords(w))}_.callback(v,i)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const o=t.toLocaleLowerCase(),u={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&Rf.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Aa.close,{},t)}_onError(t){this._on(Aa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ux(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ux(t.columns,t.old_record)),n}}const mx=()=>{},Y2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X2{constructor(t,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=z2,this.params={},this.timeout=Dv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mx,this.ref=0,this.logger=mx,this.conn=null,this.sendBuffer=[],this.serializer=new B2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let h;return u?h=u:typeof fetch>"u"?h=(...p)=>Gn(async()=>{const{default:g}=await Promise.resolve().then(()=>pi);return{default:g}},void 0).then(({default:g})=>g(...p)):h=fetch,(...p)=>h(...p)},this.endPoint=`${t}/${Ih.websocket}`,this.httpEndpoint=Pv(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(u,h)=>h(JSON.stringify(u)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Lv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Xh),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new I2(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:q2}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(i=>i._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Kr.connecting:return kn.Connecting;case Kr.open:return kn.Open;case Kr.closing:return kn.Closing;default:return kn.Closed}}isConnected(){return this.connectionState()===kn.Open}channel(t,n={config:{}}){const i=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===i);if(o)return o;{const u=new Rf(`realtime:${t}`,n,this);return this.channels.push(u),u}}push(t){const{topic:n,event:i,payload:o,ref:u}=t,h=()=>{this.encode(t,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${n} ${i} (${u})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),i.joinedOnce&&i._isJoined()&&i._push(Aa.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close($2,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:i,event:o,payload:u,ref:h}=n;i==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${i} ${o} ${h&&"("+h+")"||""}`,u),Array.from(this.channels).filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,u,h)),this.stateChangeCallbacks.message.forEach(p=>p(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Aa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${i}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([Y2],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class I2{constructor(t,n,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Kr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=i.close}}class Of extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Nt(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class J2 extends Of{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zh extends Of{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Z2=function(s,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(b){h(b)}}function g(x){try{m(i.throw(x))}catch(b){h(b)}}function m(x){x.done?u(x.value):o(x.value).then(p,g)}m((i=i.apply(s,t||[])).next())})};const zv=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...n)=>Gn(async()=>{const{default:i}=await Promise.resolve().then(()=>pi);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},W2=()=>Z2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gn(()=>Promise.resolve().then(()=>pi),void 0)).Response:Response}),Wh=s=>{if(Array.isArray(s))return s.map(n=>Wh(n));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=Wh(i)}),t};var Kn=function(s,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(b){h(b)}}function g(x){try{m(i.throw(x))}catch(b){h(b)}}function m(x){x.done?u(x.value):o(x.value).then(p,g)}m((i=i.apply(s,t||[])).next())})};const wh=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),eN=(s,t,n)=>Kn(void 0,void 0,void 0,function*(){const i=yield W2();s instanceof i&&!(n!=null&&n.noResolveJson)?s.json().then(o=>{t(new J2(wh(o),s.status||500))}).catch(o=>{t(new Zh(wh(o),o))}):t(new Zh(wh(s),s))}),tN=(s,t,n,i)=>{const o={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i&&(o.body=JSON.stringify(i)),Object.assign(Object.assign({},o),n))};function Ql(s,t,n,i,o,u){return Kn(this,void 0,void 0,function*(){return new Promise((h,p)=>{s(n,tN(t,i,o,u)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>eN(g,p,i))})})}function kc(s,t,n,i){return Kn(this,void 0,void 0,function*(){return Ql(s,"GET",t,n,i)})}function Ks(s,t,n,i,o){return Kn(this,void 0,void 0,function*(){return Ql(s,"POST",t,i,o,n)})}function aN(s,t,n,i,o){return Kn(this,void 0,void 0,function*(){return Ql(s,"PUT",t,i,o,n)})}function sN(s,t,n,i){return Kn(this,void 0,void 0,function*(){return Ql(s,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function qv(s,t,n,i,o){return Kn(this,void 0,void 0,function*(){return Ql(s,"DELETE",t,i,o,n)})}var Kt=function(s,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(b){h(b)}}function g(x){try{m(i.throw(x))}catch(b){h(b)}}function m(x){x.done?u(x.value):o(x.value).then(p,g)}m((i=i.apply(s,t||[])).next())})};const nN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rN{constructor(t,n={},i,o){this.url=t,this.headers=n,this.bucketId=i,this.fetch=zv(o)}uploadOrUpdate(t,n,i,o){return Kt(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},gx),o);let p=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",h.cacheControl),g&&u.append("metadata",this.encodeMetadata(g))):(u=i,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),o!=null&&o.headers&&(p=Object.assign(Object.assign({},p),o.headers));const m=this._removeEmptyFolders(n),x=this._getFinalPath(m),b=yield this.fetch(`${this.url}/object/${x}`,Object.assign({method:t,body:u,headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{})),v=yield b.json();return b.ok?{data:{path:m,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(u){if(Nt(u))return{data:null,error:u};throw u}})}upload(t,n,i){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,o){return Kt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),h=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",n);try{let g;const m=Object.assign({upsert:gx.upsert},o),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",m.cacheControl)):(g=i,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const b=yield this.fetch(p.toString(),{method:"PUT",body:g,headers:x}),v=yield b.json();return b.ok?{data:{path:u,fullPath:v.Key},error:null}:{data:null,error:v}}catch(g){if(Nt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,n){return Kt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const u=yield Ks(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),h=new URL(this.url+u.url),p=h.searchParams.get("token");if(!p)throw new Of("No token returned by API");return{data:{signedUrl:h.toString(),path:t,token:p},error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}update(t,n,i){return Kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return Kt(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}copy(t,n,i){return Kt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ks(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,i){return Kt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),u=yield Ks(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const h=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,i){return Kt(this,void 0,void 0,function*(){try{const o=yield Ks(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}download(t,n){return Kt(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),h=u?`?${u}`:"";try{const p=this._getFinalPath(t);return{data:yield(yield kc(this.fetch,`${this.url}/${o}/${p}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(Nt(p))return{data:null,error:p};throw p}})}info(t){return Kt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield kc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Wh(i),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}exists(t){return Kt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield sN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Nt(i)&&i instanceof Zh){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),o=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&o.push(u);const p=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});g!==""&&o.push(g);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${i}${m}`)}}}remove(t){return Kt(this,void 0,void 0,function*(){try{return{data:yield qv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}list(t,n,i){return Kt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},nN),n),{prefix:t||""});return{data:yield Ks(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const iN="2.7.1",lN={"X-Client-Info":`storage-js/${iN}`};var Br=function(s,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(b){h(b)}}function g(x){try{m(i.throw(x))}catch(b){h(b)}}function m(x){x.done?u(x.value):o(x.value).then(p,g)}m((i=i.apply(s,t||[])).next())})};class oN{constructor(t,n={},i){this.url=t,this.headers=Object.assign(Object.assign({},lN),n),this.fetch=zv(i)}listBuckets(){return Br(this,void 0,void 0,function*(){try{return{data:yield kc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Nt(t))return{data:null,error:t};throw t}})}getBucket(t){return Br(this,void 0,void 0,function*(){try{return{data:yield kc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Br(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Br(this,void 0,void 0,function*(){try{return{data:yield aN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}emptyBucket(t){return Br(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Br(this,void 0,void 0,function*(){try{return{data:yield qv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}}class cN extends oN{constructor(t,n={},i){super(t,n,i)}from(t){return new rN(this.url,this.headers,t,this.fetch)}}const uN="2.50.0";let Cl="";typeof Deno<"u"?Cl="deno":typeof document<"u"?Cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cl="react-native":Cl="node";const dN={"X-Client-Info":`supabase-js-${Cl}/${uN}`},hN={headers:dN},fN={schema:"public"},mN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gN={};var pN=function(s,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(b){h(b)}}function g(x){try{m(i.throw(x))}catch(b){h(b)}}function m(x){x.done?u(x.value):o(x.value).then(p,g)}m((i=i.apply(s,t||[])).next())})};const xN=s=>{let t;return s?t=s:typeof fetch>"u"?t=Tv:t=fetch,(...n)=>t(...n)},vN=()=>typeof Headers>"u"?Av:Headers,yN=(s,t,n)=>{const i=xN(n),o=vN();return(u,h)=>pN(void 0,void 0,void 0,function*(){var p;const g=(p=yield t())!==null&&p!==void 0?p:s;let m=new o(h==null?void 0:h.headers);return m.has("apikey")||m.set("apikey",s),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),i(u,Object.assign(Object.assign({},h),{headers:m}))})};var bN=function(s,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(b){h(b)}}function g(x){try{m(i.throw(x))}catch(b){h(b)}}function m(x){x.done?u(x.value):o(x.value).then(p,g)}m((i=i.apply(s,t||[])).next())})};function jN(s){return s.endsWith("/")?s:s+"/"}function wN(s,t){var n,i;const{db:o,auth:u,realtime:h,global:p}=s,{db:g,auth:m,realtime:x,global:b}=t,v={db:Object.assign(Object.assign({},g),o),auth:Object.assign(Object.assign({},m),u),realtime:Object.assign(Object.assign({},x),h),global:Object.assign(Object.assign(Object.assign({},b),p),{headers:Object.assign(Object.assign({},(n=b==null?void 0:b.headers)!==null&&n!==void 0?n:{}),(i=p==null?void 0:p.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>bN(this,void 0,void 0,function*(){return""})};return s.accessToken?v.accessToken=s.accessToken:delete v.accessToken,v}const $v="2.70.0",Vr=30*1e3,ef=3,Nh=ef*Vr,NN="http://localhost:9999",_N="supabase.auth.token",EN={"X-Client-Info":`gotrue-js/${$v}`},tf="X-Supabase-Api-Version",Bv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CN=6e5;class Mf extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Se(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class TN extends Mf{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function AN(s){return Se(s)&&s.name==="AuthApiError"}class Hv extends Mf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class on extends Mf{constructor(t,n,i,o){super(t,i,o),this.name=n,this.status=i}}class Vs extends on{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kN(s){return Se(s)&&s.name==="AuthSessionMissingError"}class gc extends on{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pc extends on{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xc extends on{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RN(s){return Se(s)&&s.name==="AuthImplicitGrantRedirectError"}class px extends on{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class af extends on{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function _h(s){return Se(s)&&s.name==="AuthRetryableFetchError"}class xx extends on{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Al extends on{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vx=` 	
\r=`.split(""),ON=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<vx.length;t+=1)s[vx[t].charCodeAt(0)]=-2;for(let t=0;t<Rc.length;t+=1)s[Rc[t].charCodeAt(0)]=t;return s})();function yx(s,t,n){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Rc[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Rc[i]),t.queuedBits-=6}}function Fv(s,t,n){const i=ON[s];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function bx(s){const t=[],n=h=>{t.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=h=>{LN(h,i,n)};for(let h=0;h<s.length;h+=1)Fv(s.charCodeAt(h),o,u);return t.join("")}function MN(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function DN(s,t){for(let n=0;n<s.length;n+=1){let i=s.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(s.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}MN(i,t)}}function LN(s,t,n){if(t.utf8seq===0){if(s<=127){n(s);return}for(let i=1;i<6;i+=1)if((s>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function UN(s){const t=[],n={queue:0,queuedBits:0},i=o=>{t.push(o)};for(let o=0;o<s.length;o+=1)Fv(s.charCodeAt(o),n,i);return new Uint8Array(t)}function PN(s){const t=[];return DN(s,n=>t.push(n)),new Uint8Array(t)}function zN(s){const t=[],n={queue:0,queuedBits:0},i=o=>{t.push(o)};return s.forEach(o=>yx(o,n,i)),yx(null,n,i),t.join("")}function qN(s){return Math.round(Date.now()/1e3)+s}function $N(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const t=Math.random()*16|0;return(s=="x"?t:t&3|8).toString(16)})}const Sa=()=>typeof window<"u"&&typeof document<"u",Cn={tested:!1,writable:!1},kl=()=>{if(!Sa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cn.tested)return Cn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Cn.tested=!0,Cn.writable=!0}catch{Cn.tested=!0,Cn.writable=!1}return Cn.writable};function BN(s){const t={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return n.searchParams.forEach((i,o)=>{t[o]=i}),t}const Qv=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...n)=>Gn(async()=>{const{default:i}=await Promise.resolve().then(()=>pi);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},HN=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Gv=async(s,t,n)=>{await s.setItem(t,JSON.stringify(n))},vc=async(s,t)=>{const n=await s.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yc=async(s,t)=>{await s.removeItem(t)};class Qc{constructor(){this.promise=new Qc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Qc.promiseConstructor=Promise;function Eh(s){const t=s.split(".");if(t.length!==3)throw new Al("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!SN.test(t[i]))throw new Al("JWT not in base64url format");return{header:JSON.parse(bx(t[0])),payload:JSON.parse(bx(t[1])),signature:UN(t[2]),raw:{header:t[0],payload:t[1]}}}async function FN(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function QN(s,t){return new Promise((i,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await s(u);if(!t(u,null,h)){i(h);return}}catch(h){if(!t(u,h)){o(h);return}}})()})}function GN(s){return("0"+s.toString(16)).substr(-2)}function VN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let u=0;u<56;u++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(t),Array.from(t,GN).join("")}async function KN(s){const n=new TextEncoder().encode(s),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function YN(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await KN(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hr(s,t,n=!1){const i=VN();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await Gv(s,`${t}-code-verifier`,o);const u=await YN(i);return[u,i===u?"plain":"s256"]}const XN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IN(s){const t=s.headers.get(tf);if(!t||!t.match(XN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function JN(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function ZN(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fr(s){if(!WN.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var e_=function(s,t){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(n[i[o]]=s[i[o]]);return n};const Tn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),t_=[502,503,504];async function jx(s){var t;if(!HN(s))throw new af(Tn(s),0);if(t_.includes(s.status))throw new af(Tn(s),s.status);let n;try{n=await s.json()}catch(u){throw new Hv(Tn(u),u)}let i;const o=IN(s);if(o&&o.getTime()>=Bv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new xx(Tn(n),s.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Vs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new xx(Tn(n),s.status,n.weak_password.reasons);throw new TN(Tn(n),s.status||500,i)}const a_=(s,t,n,i)=>{const o={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function Ue(s,t,n,i){var o;const u=Object.assign({},i==null?void 0:i.headers);u[tf]||(u[tf]=Bv["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const h=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(h.redirect_to=i.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await s_(s,t,n+p,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function s_(s,t,n,i,o,u){const h=a_(t,i,o,u);let p;try{p=await s(n,Object.assign({},h))}catch(g){throw console.error(g),new af(Tn(g),0)}if(p.ok||await jx(p),i!=null&&i.noResolveJson)return p;try{return await p.json()}catch(g){await jx(g)}}function cs(s){var t;let n=null;l_(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=qN(s.expires_in)));const i=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:n,user:i},error:null}}function wx(s){const t=cs(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Ys(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function n_(s){return{data:s,error:null}}function r_(s){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:u}=s,h=e_(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:u},g=Object.assign({},h);return{data:{properties:p,user:g},error:null}}function i_(s){return s}function l_(s){return s.access_token&&s.refresh_token&&s.expires_in}const Sh=["global","local","others"];var o_=function(s,t){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(n[i[o]]=s[i[o]]);return n};class c_{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=Qv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Sh[0]){if(Sh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sh.join(", ")}`);try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Se(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ys})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=o_(t,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:r_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ys})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,o,u,h,p,g;try{const m={nextPage:null,lastPage:0,total:0},x=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:i_});if(x.error)throw x.error;const b=await x.json(),v=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,_=(g=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return _.length>0&&(_.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);m[`${j}Page`]=S}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(Se(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Fr(t);try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ys})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Fr(t);try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ys})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){Fr(t);try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ys})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Fr(t.userId);try{const{data:n,error:i}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Fr(t.userId),Fr(t.id);try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}}const u_={getItem:s=>kl()?globalThis.localStorage.getItem(s):null,setItem:(s,t)=>{kl()&&globalThis.localStorage.setItem(s,t)},removeItem:s=>{kl()&&globalThis.localStorage.removeItem(s)}};function Nx(s={}){return{getItem:t=>s[t]||null,setItem:(t,n)=>{s[t]=n},removeItem:t=>{delete s[t]}}}function d_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qr={debug:!!(globalThis&&kl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class h_ extends Vv{}async function f_(s,t,n){Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,o.name);try{return await n()}finally{Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,o.name)}}else{if(t===0)throw Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new h_(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Qr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}d_();const m_={url:NN,storageKey:_N,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _x(s,t,n){return await n()}class Dl{constructor(t){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dl.nextInstanceID,Dl.nextInstanceID+=1,this.instanceID>0&&Sa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},m_),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new c_({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Qv(o.fetch),this.lock=o.lock||_x,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Sa()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=f_:this.lock=_x,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:kl()?this.storage=u_:(this.memoryStorage={},this.storage=Nx(this.memoryStorage)):(this.memoryStorage={},this.storage=Nx(this.memoryStorage)),Sa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$v}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=BN(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Sa()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:u}=await this._getSessionFromURL(n,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),RN(u)){const g=(t=u.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:p}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Se(n)?{error:n}:{error:new Hv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,o;try{const u=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:cs}),{data:h,error:p}=u;if(p||!h)return{data:{user:null,session:null},error:p};const g=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(u){if(Se(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(t){var n,i,o;try{let u;if("email"in t){const{email:x,password:b,options:v}=t;let _=null,w=null;this.flowType==="pkce"&&([_,w]=await Hr(this.storage,this.storageKey)),u=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:x,password:b,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:w},xform:cs})}else if("phone"in t){const{phone:x,password:b,options:v}=t;u=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:cs})}else throw new pc("You must provide either an email or phone number and a password");const{data:h,error:p}=u;if(p||!h)return{data:{user:null,session:null},error:p};const g=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(u){if(Se(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(t){try{let n;if("email"in t){const{email:u,password:h,options:p}=t;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:wx})}else if("phone"in t){const{phone:u,password:h,options:p}=t;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:wx})}else throw new pc("You must provide either an email or phone number and a password");const{data:i,error:o}=n;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new gc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,i,o,u,h,p,g,m,x,b,v,_;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:j,wallet:A,statement:O,options:E}=t;let k;if(Sa())if(typeof A=="object")k=A;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))k=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=A}const T=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const L=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),O?{statement:O}:null));let $;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")$=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)$=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)w=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),S=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${T.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(o=(i=E==null?void 0:E.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((p=E==null?void 0:E.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((g=E==null?void 0:E.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E==null?void 0:E.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((b=(x=E==null?void 0:E.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...E.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const L=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=L}}try{const{data:j,error:A}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:zN(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:cs});if(A)throw A;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new gc}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:A})}catch(j){if(Se(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await vc(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{const{data:u,error:h}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:cs});if(await yc(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new gc}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:h})}catch(u){if(Se(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(t){try{const{options:n,provider:i,token:o,access_token:u,nonce:h}=t,p=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:cs}),{data:g,error:m}=p;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new gc}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,o,u,h;try{if("email"in t){const{email:p,options:g}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Hr(this.storage,this.storageKey));const{error:b}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in t){const{phone:p,options:g}=t,{data:m,error:x}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(o=g==null?void 0:g.data)!==null&&o!==void 0?o:{},create_user:(u=g==null?void 0:g.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x}}throw new pc("You must provide either an email or phone number.")}catch(p){if(Se(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(t){var n,i;try{let o,u;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:p}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:cs});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,m=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(o){if(Se(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,i,o;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await Hr(this.storage,this.storageKey)),await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:n_})}catch(u){if(Se(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new Vs;const{error:o}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:u}=t,{error:h}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in t){const{phone:i,type:o,options:u}=t,{data:h,error:p}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new pc("You must provide either an email or phone number and a type")}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await vc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Nh:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let h=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,m,x)=>(!h&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,x))})}return{data:{session:t},error:null}}const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ys}):await this._useSession(async n=>{var i,o,u;const{data:h,error:p}=n;if(p)throw p;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vs}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Ys})})}catch(n){if(Se(n))return kN(n)&&(await this._removeSession(),await yc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:o,error:u}=i;if(u)throw u;if(!o.session)throw new Vs;const h=o.session;let p=null,g=null;this.flowType==="pkce"&&t.email!=null&&([p,g]=await Hr(this.storage,this.storageKey));const{data:m,error:x}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:g}),jwt:h.access_token,xform:Ys});if(x)throw x;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vs;const n=Date.now()/1e3;let i=n,o=!0,u=null;const{payload:h}=Eh(t.access_token);if(h.exp&&(i=h.exp,o=i<=n),o){const{session:p,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:g}=await this._getUser(t.access_token);if(g)throw g;u={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(Se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:h,error:p}=n;if(p)throw p;t=(i=h.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new Vs;const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Sa())throw new xc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new px("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new px("No code detected.");const{data:O,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:u,refresh_token:h,expires_in:p,expires_at:g,token_type:m}=t;if(!u||!p||!h||!m)throw new xc("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(p);let v=x+b;g&&(v=parseInt(g));const _=v-x;_*1e3<=Vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const w=v-b;x-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,x):x-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,x);const{data:S,error:j}=await this._getUser(u);if(j)throw j;const A={provider_token:i,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:v,refresh_token:h,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:t.type},error:null}}catch(i){if(Se(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await vc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:u}=n;if(u)return{error:u};const h=(i=o.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:p}=await this.admin.signOut(h,t);if(p&&!(AN(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return t!=="others"&&(await this._removeSession(),await yc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=$N(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,o;try{const{data:{session:u},error:h}=n;if(h)throw h;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Hr(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(Se(u))return{data:null,error:u};throw u}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:i,error:o}=await this._useSession(async u=>{var h,p,g,m,x;const{data:b,error:v}=u;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(h=t.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",_,{headers:this.headers,jwt:(x=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return Sa()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Se(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,o;const{data:u,error:h}=n;if(h)throw h;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await QN(async o=>(o>0&&await FN(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:cs})),(o,u)=>{const h=200*Math.pow(2,o);return u&&_h(u)&&Date.now()+h-i<Vr})}catch(i){if(this._debug(n,"error",i),Se(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),Sa()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await vc(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Nh;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Nh}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),_h(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new Vs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Qc;const{data:u,error:h}=await this._refreshAccessToken(t);if(h)throw h;if(!u.session)throw new Vs;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={session:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(o,"error",u),Se(u)){const h={session:null,error:u};return _h(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,i=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,n)}catch(g){u.push(g)}});if(await Promise.all(h),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Gv(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await yc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Sa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-t)/Vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Vr}ms, refresh threshold is ${ef} ticks`),o<=ef&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,h]=await Hr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(p.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);o.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:o,error:u}=n;return u?{data:null,error:u}:await Ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,o;const{data:u,error:h}=n;if(h)return{data:null,error:h};const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:m}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&(!((o=g==null?void 0:g.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:u}=n;if(u)return{data:null,error:u};const{data:h,error:p}=await Ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:u}=n;return u?{data:null,error:u}:await Ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(t==null?void 0:t.factors)||[],o=i.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=i.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:i,totp:o,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,i;const{data:{session:o},error:u}=t;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Eh(o.access_token);let p=null;h.aal&&(p=h.aal);let g=p;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const x=h.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(h=>h.kid===t);if(i||(i=this.jwks.keys.find(h=>h.kid===t),i&&this.jwks_cached_at+CN>Date.now()))return i;const{data:o,error:u}=await Ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!o.keys||o.keys.length===0)throw new Al("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),i=o.keys.find(h=>h.kid===t),!i)throw new Al("No matching signing key found in JWKS");return i}async getClaims(t,n={keys:[]}){try{let i=t;if(!i){const{data:_,error:w}=await this.getSession();if(w||!_.session)return{data:null,error:w};i=_.session.access_token}const{header:o,payload:u,signature:h,raw:{header:p,payload:g}}=Eh(i);if(JN(u.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:u,header:o,signature:h},error:null}}const m=ZN(o.alg),x=await this.fetchJwk(o.kid,n),b=await crypto.subtle.importKey("jwk",x,m,!0,["verify"]);if(!await crypto.subtle.verify(m,b,h,PN(`${p}.${g}`)))throw new Al("Invalid JWT signature");return{data:{claims:u,header:o,signature:h},error:null}}catch(i){if(Se(i))return{data:null,error:i};throw i}}}Dl.nextInstanceID=0;const g_=Dl;class p_ extends g_{constructor(t){super(t)}}var x_=function(s,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(x){try{m(i.next(x))}catch(b){h(b)}}function g(x){try{m(i.throw(x))}catch(b){h(b)}}function m(x){x.done?u(x.value):o(x.value).then(p,g)}m((i=i.apply(s,t||[])).next())})};class v_{constructor(t,n,i){var o,u,h;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const p=jN(t),g=new URL(p);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const m=`sb-${g.hostname.split(".")[0]}-auth-token`,x={db:fN,realtime:gN,auth:Object.assign(Object.assign({},mN),{storageKey:m}),global:hN},b=wN(i??{},x);this.storageKey=(o=b.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=b.global.headers)!==null&&u!==void 0?u:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=yN(n,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new U2(new URL("rest/v1",g).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),b.accessToken||this._listenForAuthEvents()}get functions(){return new _2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cN(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return x_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:o,storageKey:u,flowType:h,lock:p,debug:g},m,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p_({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),m),storageKey:u,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:o,flowType:h,lock:p,debug:g,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new X2(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const y_=(s,t,n)=>new v_(s,t,n),Rn="https://zogmhnrjbztvjqohufjo.supabase.co",b_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpvZ21obnJqYnp0dmpxb2h1ZmpvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4OTc2NjgsImV4cCI6MjA2NDQ3MzY2OH0.vLaLdmS52itGIMqhVmfSIlE7Doo6TlrMtkSJ3bW4EXc";console.log(" Configuracin de Supabase:",{url:Rn,hasAnonKey:!0,isPlaceholder:Rn==null?void 0:Rn.includes("your-project")});Rn.includes("your-project")&&(console.error(" ERROR: Configuracin de Supabase invlida. Por favor, configura las variables de entorno en .env"),console.error("Variables requeridas:"),console.error("- VITE_SUPABASE_URL (actualmente:",Rn,")"),console.error("- VITE_SUPABASE_ANON_KEY (presente:",!0,")"));const $t=y_(Rn,b_,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Kv=D.createContext(null),j_=({children:s})=>{const[t,n]=D.useState(null),[i,o]=D.useState(null),[u,h]=D.useState(!0),[p,g]=D.useState(!1),m=D.useCallback(async()=>{try{h(!0);const{data:{session:A},error:O}=await $t.auth.getSession();O?(console.error("Error obteniendo sesin inicial:",O),n(null),o(null),g(!1)):(o(A),n((A==null?void 0:A.user)||null),g(!!(A!=null&&A.user)))}catch(A){console.error("Error inicializando autenticacin:",A),n(null),o(null),g(!1)}finally{h(!1)}},[]),x=D.useCallback((A,O)=>{var T;console.log("Cambio de autenticacin:",A,(T=O==null?void 0:O.user)==null?void 0:T.email);const E=(O==null?void 0:O.user)||null,k=!!(O!=null&&O.user);o(L=>JSON.stringify(L)!==JSON.stringify(O)?O:L),n(L=>(L==null?void 0:L.id)!==(E==null?void 0:E.id)||(L==null?void 0:L.email)!==(E==null?void 0:E.email)?E:L),g(L=>L!==k?k:L),A==="SIGNED_OUT"&&console.log("Usuario desconectado, limpiando estado local...")},[]),b=async(A,O)=>{try{h(!0),console.log(" Intentando login con:",{email:A,hasPassword:!!O});const E="https://zogmhnrjbztvjqohufjo.supabase.co";if(E!=null&&E.includes("your-project"))throw new Error("Configuracin de Supabase invlida. Por favor, configura las variables de entorno en .env o usa el modo desarrollo");const{data:k,error:T}=await $t.auth.signInWithPassword({email:A,password:O});if(console.log(" Respuesta de login:",{success:!T,hasUser:!!(k!=null&&k.user),hasSession:!!(k!=null&&k.session),error:T==null?void 0:T.message}),T)throw new Error(T.message);return{success:!0,data:k}}catch(E){return console.error(" Error en login:",E),{success:!1,error:E.message||"Error desconocido en login"}}finally{h(!1)}},v=async(A,O,E={})=>{var k,T,L;try{h(!0),console.log(" Iniciando registro con datos:",{email:A,userData:E});const{data:$,error:I}=await $t.auth.signUp({email:A,password:O,options:{data:{nombre:E.nombre||"",organizacion:E.organizacion||null,empresa:E.organizacion||null}}});if(I)throw new Error(I.message);return console.log(" Usuario creado en Supabase Auth:",{id:(k=$.user)==null?void 0:k.id,email:(T=$.user)==null?void 0:T.email,metadata:(L=$.user)==null?void 0:L.user_metadata}),{success:!0,data:$}}catch($){return console.error(" Error en registro:",$),{success:!1,error:$.message||"Error desconocido en registro"}}finally{h(!1)}},_=async()=>{try{h(!0);const{error:A}=await $t.auth.signOut();if(A)throw new Error(A.message);return{success:!0}}catch(A){return console.error("Error en logout:",A),{success:!1,error:A.message||"Error desconocido en logout"}}finally{h(!1)}},w=async()=>{try{const{data:{session:A},error:O}=await $t.auth.refreshSession();if(O)throw new Error(O.message);return{success:!0,session:A}}catch(A){return console.error("Error renovando sesin:",A),{success:!1,error:A.message||"Error renovando sesin"}}},S=async()=>{try{const{data:{session:A},error:O}=await $t.auth.getSession();return O||!A?null:A.access_token}catch(A){return console.error("Error obteniendo token de acceso:",A),null}};D.useEffect(()=>{m();const{data:{subscription:A}}=$t.auth.onAuthStateChange(x);return()=>{A==null||A.unsubscribe()}},[]);const j={user:t,session:i,isAuthenticated:p,loading:u,signIn:b,signUp:v,signOut:_,refreshSession:w,getAccessToken:S,supabase:$t,userEmail:t==null?void 0:t.email,userId:t==null?void 0:t.id,userMetadata:(t==null?void 0:t.user_metadata)||{}};return l.jsx(Kv.Provider,{value:j,children:s})},Gl=()=>{const s=D.useContext(Kv);if(!s)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return s},H={usuarios:"usuarios",proyectos:"proyectos",estaciones:"estaciones",mediciones:"mediciones",lecturas:"lecturas",usuario:{all:()=>[H.usuarios],lists:()=>[...H.usuario.all(),"list"],list:s=>[...H.usuario.lists(),{filters:s}],details:()=>[...H.usuario.all(),"detail"],detail:s=>[...H.usuario.details(),s],me:()=>[...H.usuario.all(),"me"]},proyecto:{all:()=>[H.proyectos],lists:()=>[...H.proyecto.all(),"list"],list:s=>[...H.proyecto.lists(),{filters:s}],details:()=>[...H.proyecto.all(),"detail"],detail:s=>[...H.proyecto.details(),s],estaciones:s=>[...H.proyecto.detail(s),"estaciones"],mediciones:s=>[...H.proyecto.detail(s),"mediciones"]},estacion:{all:()=>[H.estaciones],lists:()=>[...H.estacion.all(),"list"],listByProyecto:s=>[...H.estacion.lists(),{proyectoId:s}],details:()=>[...H.estacion.all(),"detail"],detail:s=>[...H.estacion.details(),s]},medicion:{all:()=>[H.mediciones],lists:()=>[...H.medicion.all(),"list"],listByProyecto:s=>[...H.medicion.lists(),{proyectoId:s}],listByEstacion:(s,t)=>[...H.medicion.lists(),{estacionKm:s,proyectoId:t}],details:()=>[...H.medicion.all(),"detail"],detail:s=>[...H.medicion.details(),s],lecturas:s=>[...H.medicion.detail(s),"lecturas"]},lectura:{all:(s={})=>[H.lecturas,"all",s],lists:()=>[...H.lectura.all(),"list"],list:(s,t={})=>[...H.lectura.lists(),{medicionId:s,...t}],listByMedicion:(s,t={})=>[...H.lectura.lists(),"byMedicion",s,t],byEstacion:(s,t={})=>[...H.lectura.lists(),"byEstacion",s,t],listWithFilters:s=>[...H.lectura.lists(),"withFilters",s],details:()=>[...H.lectura.all(),"detail"],detail:s=>[...H.lectura.details(),s],stats:s=>[...H.lectura.all(),"stats",s],profile:s=>[...H.lectura.all(),"profile",s],byQuality:(s,t)=>[...H.lectura.all(),"quality",s,t],validation:s=>[...H.lectura.all(),"validation",s],calculations:s=>[...H.lectura.all(),"calculations",s],resultadosCompletos:s=>[...H.lectura.all(),"resultados",s],comparacion:s=>[...H.lectura.all(),"comparacion",s]},utilidad:{all:()=>["utilidades"],health:()=>[...H.utilidad.all(),"health"],info:()=>[...H.utilidad.all(),"info"],status:()=>[...H.utilidad.all(),"status"]}},Oc={invalidateProyecto:(s,t)=>{s.invalidateQueries({queryKey:H.proyecto.detail(t)}),s.invalidateQueries({queryKey:H.proyecto.estaciones(t)}),s.invalidateQueries({queryKey:H.proyecto.mediciones(t)}),s.invalidateQueries({queryKey:H.estacion.listByProyecto(t)}),s.invalidateQueries({queryKey:H.medicion.listByProyecto(t)})},invalidateMedicion:(s,t,n)=>{s.invalidateQueries({queryKey:H.medicion.detail(t)}),s.invalidateQueries({queryKey:H.medicion.lecturas(t)}),Oc.invalidateLecturasRelacionadas(s,t,n)},invalidateLecturasMedicion:(s,t)=>{s.invalidateQueries({queryKey:H.lectura.listByMedicion(t)}),s.invalidateQueries({queryKey:H.lectura.stats(t)}),s.invalidateQueries({queryKey:H.lectura.profile(t)}),s.invalidateQueries({queryKey:H.lectura.validation(t)}),s.invalidateQueries({queryKey:H.lectura.calculations(t)}),s.invalidateQueries({queryKey:H.lectura.comparacion(t)})},invalidateLecturasRelacionadas:(s,t,n)=>{Oc.invalidateLecturasMedicion(s,t),n&&s.invalidateQueries({queryKey:H.lectura.resultadosCompletos(n)}),s.invalidateQueries({queryKey:H.lectura.lists()})},invalidateLists:s=>{s.invalidateQueries({queryKey:H.proyecto.lists()}),s.invalidateQueries({queryKey:H.estacion.lists()}),s.invalidateQueries({queryKey:H.medicion.lists()}),s.invalidateQueries({queryKey:H.lectura.lists()})},invalidateAll:s=>{s.invalidateQueries({queryKey:H.proyecto.all()}),s.invalidateQueries({queryKey:H.estacion.all()}),s.invalidateQueries({queryKey:H.medicion.all()}),s.invalidateQueries({queryKey:H.lectura.all()})}},Yv=D.createContext(),Vl=()=>{const s=D.useContext(Yv);if(!s)throw new Error("useProyectoSeleccionado debe usarse dentro de ProyectoProvider");return s},w_=({children:s})=>{const[t,n]=D.useState(null),i=_t();D.useEffect(()=>{const m=localStorage.getItem("proyectoSeleccionado");if(m)try{const x=JSON.parse(m);console.log(" Proyecto cargado desde localStorage:",x),console.log(" Divisiones en localStorage - izquierdas:",x.divisiones_izquierdas),console.log(" Divisiones en localStorage - derechas:",x.divisiones_derechas),n(x),x.id&&(console.log(" Actualizando proyecto desde Supabase..."),u(x.id))}catch(x){console.error("Error al cargar proyecto desde localStorage:",x),localStorage.removeItem("proyectoSeleccionado")}},[]),D.useEffect(()=>{t?localStorage.setItem("proyectoSeleccionado",JSON.stringify(t)):localStorage.removeItem("proyectoSeleccionado")},[t]);const o=m=>{console.log(" Cambiando proyecto seleccionado:",m),t&&t.id!==(m==null?void 0:m.id)&&(console.log(" Limpiando queries del proyecto anterior:",t.id),i.cancelQueries({queryKey:H.estacion.listByProyecto(t.id)}),i.cancelQueries({queryKey:H.medicion.listByProyecto(t.id)}),i.cancelQueries({queryKey:H.proyecto.estaciones(t.id)}),i.cancelQueries({queryKey:H.proyecto.mediciones(t.id)}),i.cancelQueries({predicate:x=>{const b=x.queryKey;return b[0]===H.lecturas||Array.isArray(b)&&b.includes("lecturas")||Array.isArray(b)&&b.includes("byMedicion")}})),n(m),m!=null&&m.id&&(console.log(" Invalidando queries del nuevo proyecto:",m.id),i.invalidateQueries({queryKey:H.estacion.listByProyecto(m.id)}),i.invalidateQueries({queryKey:H.medicion.listByProyecto(m.id)}),i.invalidateQueries({queryKey:H.proyecto.estaciones(m.id)}),i.invalidateQueries({queryKey:H.proyecto.mediciones(m.id)}),i.invalidateQueries({predicate:x=>{const b=x.queryKey;return b[0]===H.lecturas||Array.isArray(b)&&b.includes("lecturas")||Array.isArray(b)&&b.includes("byMedicion")}}),i.invalidateQueries({queryKey:H.proyecto.detail(m.id)}))},u=async m=>{try{const{data:x,error:b}=await $t.from("proyectos").select("*").eq("id",m).single();if(b){console.error("Error actualizando proyecto desde Supabase:",b);return}x&&(console.log(" Proyecto actualizado desde Supabase:",x),console.log(" Nuevas divisiones - izquierdas:",x.divisiones_izquierdas),console.log(" Nuevas divisiones - derechas:",x.divisiones_derechas),n(x))}catch(x){console.error("Error en actualizarProyectoDesdeSupabase:",x)}},g={proyectoSeleccionado:t,seleccionarProyecto:o,limpiarProyecto:()=>{n(null)},actualizarProyectoDesdeSupabase:u,refrescarDatosProyecto:()=>{t!=null&&t.id&&(console.log(" Refrescando datos del proyecto actual:",t.id),i.invalidateQueries({queryKey:H.estacion.listByProyecto(t.id)}),i.invalidateQueries({queryKey:H.medicion.listByProyecto(t.id)}),i.invalidateQueries({queryKey:H.proyecto.estaciones(t.id)}),i.invalidateQueries({queryKey:H.proyecto.mediciones(t.id)}),i.invalidateQueries({queryKey:H.proyecto.detail(t.id)}),i.invalidateQueries({predicate:m=>{const x=m.queryKey;return x[0]===H.lecturas||Array.isArray(x)&&x.includes("lecturas")||Array.isArray(x)&&x.includes("byMedicion")}}))}};return l.jsx(Yv.Provider,{value:g,children:s})},Df=Gl,N_=()=>{const{signIn:s}=Gl(),t=_t();return ta({mutationFn:async({email:n,password:i})=>{const o=await s(n,i);if(!o.success)throw new Error(o.error);return o},onSuccess:()=>{t.invalidateQueries()},onError:n=>{console.error("Error en login:",n.message)}})},__=()=>{const{signUp:s}=Gl();return ta({mutationFn:async({email:t,password:n,userData:i={}})=>{const o=await s(t,n,i);if(!o.success)throw new Error(o.error);return o},onError:t=>{console.error("Error en registro:",t.message)}})},E_=()=>{const{signOut:s}=Gl(),t=_t();return ta({mutationFn:async()=>{const n=await s();if(!n.success)throw new Error(n.error);return n},onSuccess:()=>{t.clear()},onError:n=>{console.error("Error en logout:",n.message)}})},Xv=()=>{const{isAuthenticated:s,loading:t}=Gl();return{isAuthenticated:s,loading:t}};function Iv(s,t){return function(){return s.apply(t,arguments)}}const{toString:S_}=Object.prototype,{getPrototypeOf:Lf}=Object,{iterator:Gc,toStringTag:Jv}=Symbol,Vc=(s=>t=>{const n=S_.call(t);return s[n]||(s[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Da=s=>(s=s.toLowerCase(),t=>Vc(t)===s),Kc=s=>t=>typeof t===s,{isArray:xi}=Array,Ll=Kc("undefined");function C_(s){return s!==null&&!Ll(s)&&s.constructor!==null&&!Ll(s.constructor)&&Wt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Zv=Da("ArrayBuffer");function T_(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&Zv(s.buffer),t}const A_=Kc("string"),Wt=Kc("function"),Wv=Kc("number"),Yc=s=>s!==null&&typeof s=="object",k_=s=>s===!0||s===!1,_c=s=>{if(Vc(s)!=="object")return!1;const t=Lf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Jv in s)&&!(Gc in s)},R_=Da("Date"),O_=Da("File"),M_=Da("Blob"),D_=Da("FileList"),L_=s=>Yc(s)&&Wt(s.pipe),U_=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||Wt(s.append)&&((t=Vc(s))==="formdata"||t==="object"&&Wt(s.toString)&&s.toString()==="[object FormData]"))},P_=Da("URLSearchParams"),[z_,q_,$_,B_]=["ReadableStream","Request","Response","Headers"].map(Da),H_=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kl(s,t,{allOwnKeys:n=!1}={}){if(s===null||typeof s>"u")return;let i,o;if(typeof s!="object"&&(s=[s]),xi(s))for(i=0,o=s.length;i<o;i++)t.call(null,s[i],i,s);else{const u=n?Object.getOwnPropertyNames(s):Object.keys(s),h=u.length;let p;for(i=0;i<h;i++)p=u[i],t.call(null,s[p],p,s)}}function ey(s,t){t=t.toLowerCase();const n=Object.keys(s);let i=n.length,o;for(;i-- >0;)if(o=n[i],t===o.toLowerCase())return o;return null}const On=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ty=s=>!Ll(s)&&s!==On;function sf(){const{caseless:s}=ty(this)&&this||{},t={},n=(i,o)=>{const u=s&&ey(t,o)||o;_c(t[u])&&_c(i)?t[u]=sf(t[u],i):_c(i)?t[u]=sf({},i):xi(i)?t[u]=i.slice():t[u]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Kl(arguments[i],n);return t}const F_=(s,t,n,{allOwnKeys:i}={})=>(Kl(t,(o,u)=>{n&&Wt(o)?s[u]=Iv(o,n):s[u]=o},{allOwnKeys:i}),s),Q_=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),G_=(s,t,n,i)=>{s.prototype=Object.create(t.prototype,i),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),n&&Object.assign(s.prototype,n)},V_=(s,t,n,i)=>{let o,u,h;const p={};if(t=t||{},s==null)return t;do{for(o=Object.getOwnPropertyNames(s),u=o.length;u-- >0;)h=o[u],(!i||i(h,s,t))&&!p[h]&&(t[h]=s[h],p[h]=!0);s=n!==!1&&Lf(s)}while(s&&(!n||n(s,t))&&s!==Object.prototype);return t},K_=(s,t,n)=>{s=String(s),(n===void 0||n>s.length)&&(n=s.length),n-=t.length;const i=s.indexOf(t,n);return i!==-1&&i===n},Y_=s=>{if(!s)return null;if(xi(s))return s;let t=s.length;if(!Wv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=s[t];return n},X_=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&Lf(Uint8Array)),I_=(s,t)=>{const i=(s&&s[Gc]).call(s);let o;for(;(o=i.next())&&!o.done;){const u=o.value;t.call(s,u[0],u[1])}},J_=(s,t)=>{let n;const i=[];for(;(n=s.exec(t))!==null;)i.push(n);return i},Z_=Da("HTMLFormElement"),W_=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,o){return i.toUpperCase()+o}),Ex=(({hasOwnProperty:s})=>(t,n)=>s.call(t,n))(Object.prototype),eE=Da("RegExp"),ay=(s,t)=>{const n=Object.getOwnPropertyDescriptors(s),i={};Kl(n,(o,u)=>{let h;(h=t(o,u,s))!==!1&&(i[u]=h||o)}),Object.defineProperties(s,i)},tE=s=>{ay(s,(t,n)=>{if(Wt(s)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=s[n];if(Wt(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},aE=(s,t)=>{const n={},i=o=>{o.forEach(u=>{n[u]=!0})};return xi(s)?i(s):i(String(s).split(t)),n},sE=()=>{},nE=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function rE(s){return!!(s&&Wt(s.append)&&s[Jv]==="FormData"&&s[Gc])}const iE=s=>{const t=new Array(10),n=(i,o)=>{if(Yc(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[o]=i;const u=xi(i)?[]:{};return Kl(i,(h,p)=>{const g=n(h,o+1);!Ll(g)&&(u[p]=g)}),t[o]=void 0,u}}return i};return n(s,0)},lE=Da("AsyncFunction"),oE=s=>s&&(Yc(s)||Wt(s))&&Wt(s.then)&&Wt(s.catch),sy=((s,t)=>s?setImmediate:t?((n,i)=>(On.addEventListener("message",({source:o,data:u})=>{o===On&&u===n&&i.length&&i.shift()()},!1),o=>{i.push(o),On.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Wt(On.postMessage)),cE=typeof queueMicrotask<"u"?queueMicrotask.bind(On):typeof process<"u"&&process.nextTick||sy,uE=s=>s!=null&&Wt(s[Gc]),Y={isArray:xi,isArrayBuffer:Zv,isBuffer:C_,isFormData:U_,isArrayBufferView:T_,isString:A_,isNumber:Wv,isBoolean:k_,isObject:Yc,isPlainObject:_c,isReadableStream:z_,isRequest:q_,isResponse:$_,isHeaders:B_,isUndefined:Ll,isDate:R_,isFile:O_,isBlob:M_,isRegExp:eE,isFunction:Wt,isStream:L_,isURLSearchParams:P_,isTypedArray:X_,isFileList:D_,forEach:Kl,merge:sf,extend:F_,trim:H_,stripBOM:Q_,inherits:G_,toFlatObject:V_,kindOf:Vc,kindOfTest:Da,endsWith:K_,toArray:Y_,forEachEntry:I_,matchAll:J_,isHTMLForm:Z_,hasOwnProperty:Ex,hasOwnProp:Ex,reduceDescriptors:ay,freezeMethods:tE,toObjectSet:aE,toCamelCase:W_,noop:sE,toFiniteNumber:nE,findKey:ey,global:On,isContextDefined:ty,isSpecCompliantForm:rE,toJSONObject:iE,isAsyncFn:lE,isThenable:oE,setImmediate:sy,asap:cE,isIterable:uE};function Ce(s,t,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}Y.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const ny=Ce.prototype,ry={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{ry[s]={value:s}});Object.defineProperties(Ce,ry);Object.defineProperty(ny,"isAxiosError",{value:!0});Ce.from=(s,t,n,i,o,u)=>{const h=Object.create(ny);return Y.toFlatObject(s,h,function(g){return g!==Error.prototype},p=>p!=="isAxiosError"),Ce.call(h,s.message,t,n,i,o),h.cause=s,h.name=s.name,u&&Object.assign(h,u),h};const dE=null;function nf(s){return Y.isPlainObject(s)||Y.isArray(s)}function iy(s){return Y.endsWith(s,"[]")?s.slice(0,-2):s}function Sx(s,t,n){return s?s.concat(t).map(function(o,u){return o=iy(o),!n&&u?"["+o+"]":o}).join(n?".":""):t}function hE(s){return Y.isArray(s)&&!s.some(nf)}const fE=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function Xc(s,t,n){if(!Y.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,j){return!Y.isUndefined(j[S])});const i=n.metaTokens,o=n.visitor||x,u=n.dots,h=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(o))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(Y.isDate(w))return w.toISOString();if(!g&&Y.isBlob(w))throw new Ce("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(w)||Y.isTypedArray(w)?g&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function x(w,S,j){let A=w;if(w&&!j&&typeof w=="object"){if(Y.endsWith(S,"{}"))S=i?S:S.slice(0,-2),w=JSON.stringify(w);else if(Y.isArray(w)&&hE(w)||(Y.isFileList(w)||Y.endsWith(S,"[]"))&&(A=Y.toArray(w)))return S=iy(S),A.forEach(function(E,k){!(Y.isUndefined(E)||E===null)&&t.append(h===!0?Sx([S],k,u):h===null?S:S+"[]",m(E))}),!1}return nf(w)?!0:(t.append(Sx(j,S,u),m(w)),!1)}const b=[],v=Object.assign(fE,{defaultVisitor:x,convertValue:m,isVisitable:nf});function _(w,S){if(!Y.isUndefined(w)){if(b.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));b.push(w),Y.forEach(w,function(A,O){(!(Y.isUndefined(A)||A===null)&&o.call(t,A,Y.isString(O)?O.trim():O,S,v))===!0&&_(A,S?S.concat(O):[O])}),b.pop()}}if(!Y.isObject(s))throw new TypeError("data must be an object");return _(s),t}function Cx(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Uf(s,t){this._pairs=[],s&&Xc(s,this,t)}const ly=Uf.prototype;ly.append=function(t,n){this._pairs.push([t,n])};ly.toString=function(t){const n=t?function(i){return t.call(this,i,Cx)}:Cx;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function mE(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oy(s,t,n){if(!t)return s;const i=n&&n.encode||mE;Y.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let u;if(o?u=o(t,n):u=Y.isURLSearchParams(t)?t.toString():new Uf(t,n).toString(i),u){const h=s.indexOf("#");h!==-1&&(s=s.slice(0,h)),s+=(s.indexOf("?")===-1?"?":"&")+u}return s}class Tx{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(i){i!==null&&t(i)})}}const cy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gE=typeof URLSearchParams<"u"?URLSearchParams:Uf,pE=typeof FormData<"u"?FormData:null,xE=typeof Blob<"u"?Blob:null,vE={isBrowser:!0,classes:{URLSearchParams:gE,FormData:pE,Blob:xE},protocols:["http","https","file","blob","url","data"]},Pf=typeof window<"u"&&typeof document<"u",rf=typeof navigator=="object"&&navigator||void 0,yE=Pf&&(!rf||["ReactNative","NativeScript","NS"].indexOf(rf.product)<0),bE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jE=Pf&&window.location.href||"http://localhost",wE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pf,hasStandardBrowserEnv:yE,hasStandardBrowserWebWorkerEnv:bE,navigator:rf,origin:jE},Symbol.toStringTag,{value:"Module"})),Mt={...wE,...vE};function NE(s,t){return Xc(s,new Mt.classes.URLSearchParams,Object.assign({visitor:function(n,i,o,u){return Mt.isNode&&Y.isBuffer(n)?(this.append(i,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function _E(s){return Y.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function EE(s){const t={},n=Object.keys(s);let i;const o=n.length;let u;for(i=0;i<o;i++)u=n[i],t[u]=s[u];return t}function uy(s){function t(n,i,o,u){let h=n[u++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),g=u>=n.length;return h=!h&&Y.isArray(o)?o.length:h,g?(Y.hasOwnProp(o,h)?o[h]=[o[h],i]:o[h]=i,!p):((!o[h]||!Y.isObject(o[h]))&&(o[h]=[]),t(n,i,o[h],u)&&Y.isArray(o[h])&&(o[h]=EE(o[h])),!p)}if(Y.isFormData(s)&&Y.isFunction(s.entries)){const n={};return Y.forEachEntry(s,(i,o)=>{t(_E(i),o,n,0)}),n}return null}function SE(s,t,n){if(Y.isString(s))try{return(t||JSON.parse)(s),Y.trim(s)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(s)}const Yl={transitional:cy,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",o=i.indexOf("application/json")>-1,u=Y.isObject(t);if(u&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return o?JSON.stringify(uy(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)||Y.isReadableStream(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(u){if(i.indexOf("application/x-www-form-urlencoded")>-1)return NE(t,this.formSerializer).toString();if((p=Y.isFileList(t))||i.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Xc(p?{"files[]":t}:t,g&&new g,this.formSerializer)}}return u||o?(n.setContentType("application/json",!1),SE(t)):t}],transformResponse:[function(t){const n=this.transitional||Yl.transitional,i=n&&n.forcedJSONParsing,o=this.responseType==="json";if(Y.isResponse(t)||Y.isReadableStream(t))return t;if(t&&Y.isString(t)&&(i&&!this.responseType||o)){const h=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(p){if(h)throw p.name==="SyntaxError"?Ce.from(p,Ce.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mt.classes.FormData,Blob:Mt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],s=>{Yl.headers[s]={}});const CE=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TE=s=>{const t={};let n,i,o;return s&&s.split(`
`).forEach(function(h){o=h.indexOf(":"),n=h.substring(0,o).trim().toLowerCase(),i=h.substring(o+1).trim(),!(!n||t[n]&&CE[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Ax=Symbol("internals");function Nl(s){return s&&String(s).trim().toLowerCase()}function Ec(s){return s===!1||s==null?s:Y.isArray(s)?s.map(Ec):String(s)}function AE(s){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(s);)t[i[1]]=i[2];return t}const kE=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Ch(s,t,n,i,o){if(Y.isFunction(i))return i.call(this,t,n);if(o&&(t=n),!!Y.isString(t)){if(Y.isString(i))return t.indexOf(i)!==-1;if(Y.isRegExp(i))return i.test(t)}}function RE(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function OE(s,t){const n=Y.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(s,i+n,{value:function(o,u,h){return this[i].call(this,t,o,u,h)},configurable:!0})})}let ea=class{constructor(t){t&&this.set(t)}set(t,n,i){const o=this;function u(p,g,m){const x=Nl(g);if(!x)throw new Error("header name must be a non-empty string");const b=Y.findKey(o,x);(!b||o[b]===void 0||m===!0||m===void 0&&o[b]!==!1)&&(o[b||g]=Ec(p))}const h=(p,g)=>Y.forEach(p,(m,x)=>u(m,x,g));if(Y.isPlainObject(t)||t instanceof this.constructor)h(t,n);else if(Y.isString(t)&&(t=t.trim())&&!kE(t))h(TE(t),n);else if(Y.isObject(t)&&Y.isIterable(t)){let p={},g,m;for(const x of t){if(!Y.isArray(x))throw TypeError("Object iterator must return a key-value pair");p[m=x[0]]=(g=p[m])?Y.isArray(g)?[...g,x[1]]:[g,x[1]]:x[1]}h(p,n)}else t!=null&&u(n,t,i);return this}get(t,n){if(t=Nl(t),t){const i=Y.findKey(this,t);if(i){const o=this[i];if(!n)return o;if(n===!0)return AE(o);if(Y.isFunction(n))return n.call(this,o,i);if(Y.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Nl(t),t){const i=Y.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||Ch(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let o=!1;function u(h){if(h=Nl(h),h){const p=Y.findKey(i,h);p&&(!n||Ch(i,i[p],p,n))&&(delete i[p],o=!0)}}return Y.isArray(t)?t.forEach(u):u(t),o}clear(t){const n=Object.keys(this);let i=n.length,o=!1;for(;i--;){const u=n[i];(!t||Ch(this,this[u],u,t,!0))&&(delete this[u],o=!0)}return o}normalize(t){const n=this,i={};return Y.forEach(this,(o,u)=>{const h=Y.findKey(i,u);if(h){n[h]=Ec(o),delete n[u];return}const p=t?RE(u):String(u).trim();p!==u&&delete n[u],n[p]=Ec(o),i[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Y.forEach(this,(i,o)=>{i!=null&&i!==!1&&(n[o]=t&&Y.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(o=>i.set(o)),i}static accessor(t){const i=(this[Ax]=this[Ax]={accessors:{}}).accessors,o=this.prototype;function u(h){const p=Nl(h);i[p]||(OE(o,h),i[p]=!0)}return Y.isArray(t)?t.forEach(u):u(t),this}};ea.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(ea.prototype,({value:s},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(i){this[n]=i}}});Y.freezeMethods(ea);function Th(s,t){const n=this||Yl,i=t||n,o=ea.from(i.headers);let u=i.data;return Y.forEach(s,function(p){u=p.call(n,u,o.normalize(),t?t.status:void 0)}),o.normalize(),u}function dy(s){return!!(s&&s.__CANCEL__)}function vi(s,t,n){Ce.call(this,s??"canceled",Ce.ERR_CANCELED,t,n),this.name="CanceledError"}Y.inherits(vi,Ce,{__CANCEL__:!0});function hy(s,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?s(n):t(new Ce("Request failed with status code "+n.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ME(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function DE(s,t){s=s||10;const n=new Array(s),i=new Array(s);let o=0,u=0,h;return t=t!==void 0?t:1e3,function(g){const m=Date.now(),x=i[u];h||(h=m),n[o]=g,i[o]=m;let b=u,v=0;for(;b!==o;)v+=n[b++],b=b%s;if(o=(o+1)%s,o===u&&(u=(u+1)%s),m-h<t)return;const _=x&&m-x;return _?Math.round(v*1e3/_):void 0}}function LE(s,t){let n=0,i=1e3/t,o,u;const h=(m,x=Date.now())=>{n=x,o=null,u&&(clearTimeout(u),u=null),s.apply(null,m)};return[(...m)=>{const x=Date.now(),b=x-n;b>=i?h(m,x):(o=m,u||(u=setTimeout(()=>{u=null,h(o)},i-b)))},()=>o&&h(o)]}const Mc=(s,t,n=3)=>{let i=0;const o=DE(50,250);return LE(u=>{const h=u.loaded,p=u.lengthComputable?u.total:void 0,g=h-i,m=o(g),x=h<=p;i=h;const b={loaded:h,total:p,progress:p?h/p:void 0,bytes:g,rate:m||void 0,estimated:m&&p&&x?(p-h)/m:void 0,event:u,lengthComputable:p!=null,[t?"download":"upload"]:!0};s(b)},n)},kx=(s,t)=>{const n=s!=null;return[i=>t[0]({lengthComputable:n,total:s,loaded:i}),t[1]]},Rx=s=>(...t)=>Y.asap(()=>s(...t)),UE=Mt.hasStandardBrowserEnv?((s,t)=>n=>(n=new URL(n,Mt.origin),s.protocol===n.protocol&&s.host===n.host&&(t||s.port===n.port)))(new URL(Mt.origin),Mt.navigator&&/(msie|trident)/i.test(Mt.navigator.userAgent)):()=>!0,PE=Mt.hasStandardBrowserEnv?{write(s,t,n,i,o,u){const h=[s+"="+encodeURIComponent(t)];Y.isNumber(n)&&h.push("expires="+new Date(n).toGMTString()),Y.isString(i)&&h.push("path="+i),Y.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zE(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function qE(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function fy(s,t,n){let i=!zE(t);return s&&(i||n==!1)?qE(s,t):t}const Ox=s=>s instanceof ea?{...s}:s;function Vn(s,t){t=t||{};const n={};function i(m,x,b,v){return Y.isPlainObject(m)&&Y.isPlainObject(x)?Y.merge.call({caseless:v},m,x):Y.isPlainObject(x)?Y.merge({},x):Y.isArray(x)?x.slice():x}function o(m,x,b,v){if(Y.isUndefined(x)){if(!Y.isUndefined(m))return i(void 0,m,b,v)}else return i(m,x,b,v)}function u(m,x){if(!Y.isUndefined(x))return i(void 0,x)}function h(m,x){if(Y.isUndefined(x)){if(!Y.isUndefined(m))return i(void 0,m)}else return i(void 0,x)}function p(m,x,b){if(b in t)return i(m,x);if(b in s)return i(void 0,m)}const g={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(m,x,b)=>o(Ox(m),Ox(x),b,!0)};return Y.forEach(Object.keys(Object.assign({},s,t)),function(x){const b=g[x]||o,v=b(s[x],t[x],x);Y.isUndefined(v)&&b!==p||(n[x]=v)}),n}const my=s=>{const t=Vn({},s);let{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:p}=t;t.headers=h=ea.from(h),t.url=oy(fy(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let g;if(Y.isFormData(n)){if(Mt.hasStandardBrowserEnv||Mt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[m,...x]=g?g.split(";").map(b=>b.trim()).filter(Boolean):[];h.setContentType([m||"multipart/form-data",...x].join("; "))}}if(Mt.hasStandardBrowserEnv&&(i&&Y.isFunction(i)&&(i=i(t)),i||i!==!1&&UE(t.url))){const m=o&&u&&PE.read(u);m&&h.set(o,m)}return t},$E=typeof XMLHttpRequest<"u",BE=$E&&function(s){return new Promise(function(n,i){const o=my(s);let u=o.data;const h=ea.from(o.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:m}=o,x,b,v,_,w;function S(){_&&_(),w&&w(),o.cancelToken&&o.cancelToken.unsubscribe(x),o.signal&&o.signal.removeEventListener("abort",x)}let j=new XMLHttpRequest;j.open(o.method.toUpperCase(),o.url,!0),j.timeout=o.timeout;function A(){if(!j)return;const E=ea.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),T={data:!p||p==="text"||p==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:E,config:s,request:j};hy(function($){n($),S()},function($){i($),S()},T),j=null}"onloadend"in j?j.onloadend=A:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(A)},j.onabort=function(){j&&(i(new Ce("Request aborted",Ce.ECONNABORTED,s,j)),j=null)},j.onerror=function(){i(new Ce("Network Error",Ce.ERR_NETWORK,s,j)),j=null},j.ontimeout=function(){let k=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const T=o.transitional||cy;o.timeoutErrorMessage&&(k=o.timeoutErrorMessage),i(new Ce(k,T.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,s,j)),j=null},u===void 0&&h.setContentType(null),"setRequestHeader"in j&&Y.forEach(h.toJSON(),function(k,T){j.setRequestHeader(T,k)}),Y.isUndefined(o.withCredentials)||(j.withCredentials=!!o.withCredentials),p&&p!=="json"&&(j.responseType=o.responseType),m&&([v,w]=Mc(m,!0),j.addEventListener("progress",v)),g&&j.upload&&([b,_]=Mc(g),j.upload.addEventListener("progress",b),j.upload.addEventListener("loadend",_)),(o.cancelToken||o.signal)&&(x=E=>{j&&(i(!E||E.type?new vi(null,s,j):E),j.abort(),j=null)},o.cancelToken&&o.cancelToken.subscribe(x),o.signal&&(o.signal.aborted?x():o.signal.addEventListener("abort",x)));const O=ME(o.url);if(O&&Mt.protocols.indexOf(O)===-1){i(new Ce("Unsupported protocol "+O+":",Ce.ERR_BAD_REQUEST,s));return}j.send(u||null)})},HE=(s,t)=>{const{length:n}=s=s?s.filter(Boolean):[];if(t||n){let i=new AbortController,o;const u=function(m){if(!o){o=!0,p();const x=m instanceof Error?m:this.reason;i.abort(x instanceof Ce?x:new vi(x instanceof Error?x.message:x))}};let h=t&&setTimeout(()=>{h=null,u(new Ce(`timeout ${t} of ms exceeded`,Ce.ETIMEDOUT))},t);const p=()=>{s&&(h&&clearTimeout(h),h=null,s.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),s=null)};s.forEach(m=>m.addEventListener("abort",u));const{signal:g}=i;return g.unsubscribe=()=>Y.asap(p),g}},FE=function*(s,t){let n=s.byteLength;if(n<t){yield s;return}let i=0,o;for(;i<n;)o=i+t,yield s.slice(i,o),i=o},QE=async function*(s,t){for await(const n of GE(s))yield*FE(n,t)},GE=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},Mx=(s,t,n,i)=>{const o=QE(s,t);let u=0,h,p=g=>{h||(h=!0,i&&i(g))};return new ReadableStream({async pull(g){try{const{done:m,value:x}=await o.next();if(m){p(),g.close();return}let b=x.byteLength;if(n){let v=u+=b;n(v)}g.enqueue(new Uint8Array(x))}catch(m){throw p(m),m}},cancel(g){return p(g),o.return()}},{highWaterMark:2})},Ic=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gy=Ic&&typeof ReadableStream=="function",VE=Ic&&(typeof TextEncoder=="function"?(s=>t=>s.encode(t))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),py=(s,...t)=>{try{return!!s(...t)}catch{return!1}},KE=gy&&py(()=>{let s=!1;const t=new Request(Mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!t}),Dx=64*1024,lf=gy&&py(()=>Y.isReadableStream(new Response("").body)),Dc={stream:lf&&(s=>s.body)};Ic&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Dc[t]&&(Dc[t]=Y.isFunction(s[t])?n=>n[t]():(n,i)=>{throw new Ce(`Response type '${t}' is not supported`,Ce.ERR_NOT_SUPPORT,i)})})})(new Response);const YE=async s=>{if(s==null)return 0;if(Y.isBlob(s))return s.size;if(Y.isSpecCompliantForm(s))return(await new Request(Mt.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(s)||Y.isArrayBuffer(s))return s.byteLength;if(Y.isURLSearchParams(s)&&(s=s+""),Y.isString(s))return(await VE(s)).byteLength},XE=async(s,t)=>{const n=Y.toFiniteNumber(s.getContentLength());return n??YE(t)},IE=Ic&&(async s=>{let{url:t,method:n,data:i,signal:o,cancelToken:u,timeout:h,onDownloadProgress:p,onUploadProgress:g,responseType:m,headers:x,withCredentials:b="same-origin",fetchOptions:v}=my(s);m=m?(m+"").toLowerCase():"text";let _=HE([o,u&&u.toAbortSignal()],h),w;const S=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let j;try{if(g&&KE&&n!=="get"&&n!=="head"&&(j=await XE(x,i))!==0){let T=new Request(t,{method:"POST",body:i,duplex:"half"}),L;if(Y.isFormData(i)&&(L=T.headers.get("content-type"))&&x.setContentType(L),T.body){const[$,I]=kx(j,Mc(Rx(g)));i=Mx(T.body,Dx,$,I)}}Y.isString(b)||(b=b?"include":"omit");const A="credentials"in Request.prototype;w=new Request(t,{...v,signal:_,method:n.toUpperCase(),headers:x.normalize().toJSON(),body:i,duplex:"half",credentials:A?b:void 0});let O=await fetch(w);const E=lf&&(m==="stream"||m==="response");if(lf&&(p||E&&S)){const T={};["status","statusText","headers"].forEach(Q=>{T[Q]=O[Q]});const L=Y.toFiniteNumber(O.headers.get("content-length")),[$,I]=p&&kx(L,Mc(Rx(p),!0))||[];O=new Response(Mx(O.body,Dx,$,()=>{I&&I(),S&&S()}),T)}m=m||"text";let k=await Dc[Y.findKey(Dc,m)||"text"](O,s);return!E&&S&&S(),await new Promise((T,L)=>{hy(T,L,{data:k,headers:ea.from(O.headers),status:O.status,statusText:O.statusText,config:s,request:w})})}catch(A){throw S&&S(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,s,w),{cause:A.cause||A}):Ce.from(A,A&&A.code,s,w)}}),of={http:dE,xhr:BE,fetch:IE};Y.forEach(of,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const Lx=s=>`- ${s}`,JE=s=>Y.isFunction(s)||s===null||s===!1,xy={getAdapter:s=>{s=Y.isArray(s)?s:[s];const{length:t}=s;let n,i;const o={};for(let u=0;u<t;u++){n=s[u];let h;if(i=n,!JE(n)&&(i=of[(h=String(n)).toLowerCase()],i===void 0))throw new Ce(`Unknown adapter '${h}'`);if(i)break;o[h||"#"+u]=i}if(!i){const u=Object.entries(o).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=t?u.length>1?`since :
`+u.map(Lx).join(`
`):" "+Lx(u[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return i},adapters:of};function Ah(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new vi(null,s)}function Ux(s){return Ah(s),s.headers=ea.from(s.headers),s.data=Th.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),xy.getAdapter(s.adapter||Yl.adapter)(s).then(function(i){return Ah(s),i.data=Th.call(s,s.transformResponse,i),i.headers=ea.from(i.headers),i},function(i){return dy(i)||(Ah(s),i&&i.response&&(i.response.data=Th.call(s,s.transformResponse,i.response),i.response.headers=ea.from(i.response.headers))),Promise.reject(i)})}const vy="1.9.0",Jc={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{Jc[s]=function(i){return typeof i===s||"a"+(t<1?"n ":" ")+s}});const Px={};Jc.transitional=function(t,n,i){function o(u,h){return"[Axios v"+vy+"] Transitional option '"+u+"'"+h+(i?". "+i:"")}return(u,h,p)=>{if(t===!1)throw new Ce(o(h," has been removed"+(n?" in "+n:"")),Ce.ERR_DEPRECATED);return n&&!Px[h]&&(Px[h]=!0,console.warn(o(h," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,h,p):!0}};Jc.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function ZE(s,t,n){if(typeof s!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const i=Object.keys(s);let o=i.length;for(;o-- >0;){const u=i[o],h=t[u];if(h){const p=s[u],g=p===void 0||h(p,u,s);if(g!==!0)throw new Ce("option "+u+" must be "+g,Ce.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ce("Unknown option "+u,Ce.ERR_BAD_OPTION)}}const Sc={assertOptions:ZE,validators:Jc},$a=Sc.validators;let Hn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Tx,response:new Tx}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?u&&!String(i.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+u):i.stack=u}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Vn(this.defaults,n);const{transitional:i,paramsSerializer:o,headers:u}=n;i!==void 0&&Sc.assertOptions(i,{silentJSONParsing:$a.transitional($a.boolean),forcedJSONParsing:$a.transitional($a.boolean),clarifyTimeoutError:$a.transitional($a.boolean)},!1),o!=null&&(Y.isFunction(o)?n.paramsSerializer={serialize:o}:Sc.assertOptions(o,{encode:$a.function,serialize:$a.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sc.assertOptions(n,{baseUrl:$a.spelling("baseURL"),withXsrfToken:$a.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=u&&Y.merge(u.common,u[n.method]);u&&Y.forEach(["delete","get","head","post","put","patch","common"],w=>{delete u[w]}),n.headers=ea.concat(h,u);const p=[];let g=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(g=g&&S.synchronous,p.unshift(S.fulfilled,S.rejected))});const m=[];this.interceptors.response.forEach(function(S){m.push(S.fulfilled,S.rejected)});let x,b=0,v;if(!g){const w=[Ux.bind(this),void 0];for(w.unshift.apply(w,p),w.push.apply(w,m),v=w.length,x=Promise.resolve(n);b<v;)x=x.then(w[b++],w[b++]);return x}v=p.length;let _=n;for(b=0;b<v;){const w=p[b++],S=p[b++];try{_=w(_)}catch(j){S.call(this,j);break}}try{x=Ux.call(this,_)}catch(w){return Promise.reject(w)}for(b=0,v=m.length;b<v;)x=x.then(m[b++],m[b++]);return x}getUri(t){t=Vn(this.defaults,t);const n=fy(t.baseURL,t.url,t.allowAbsoluteUrls);return oy(n,t.params,t.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(t){Hn.prototype[t]=function(n,i){return this.request(Vn(i||{},{method:t,url:n,data:(i||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function n(i){return function(u,h,p){return this.request(Vn(p||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Hn.prototype[t]=n(),Hn.prototype[t+"Form"]=n(!0)});let WE=class yy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const i=this;this.promise.then(o=>{if(!i._listeners)return;let u=i._listeners.length;for(;u-- >0;)i._listeners[u](o);i._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(p=>{i.subscribe(p),u=p}).then(o);return h.cancel=function(){i.unsubscribe(u)},h},t(function(u,h,p){i.reason||(i.reason=new vi(u,h,p),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new yy(function(o){t=o}),cancel:t}}};function eS(s){return function(n){return s.apply(null,n)}}function tS(s){return Y.isObject(s)&&s.isAxiosError===!0}const cf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cf).forEach(([s,t])=>{cf[t]=s});function by(s){const t=new Hn(s),n=Iv(Hn.prototype.request,t);return Y.extend(n,Hn.prototype,t,{allOwnKeys:!0}),Y.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return by(Vn(s,o))},n}const dt=by(Yl);dt.Axios=Hn;dt.CanceledError=vi;dt.CancelToken=WE;dt.isCancel=dy;dt.VERSION=vy;dt.toFormData=Xc;dt.AxiosError=Ce;dt.Cancel=dt.CanceledError;dt.all=function(t){return Promise.all(t)};dt.spread=eS;dt.isAxiosError=tS;dt.mergeConfig=Vn;dt.AxiosHeaders=ea;dt.formToJSON=s=>uy(Y.isHTMLForm(s)?new FormData(s):s);dt.getAdapter=xy.getAdapter;dt.HttpStatusCode=cf;dt.default=dt;const{Axios:BT,AxiosError:HT,CanceledError:FT,isCancel:QT,CancelToken:GT,VERSION:VT,all:KT,Cancel:YT,isAxiosError:XT,spread:IT,toFormData:JT,AxiosHeaders:ZT,HttpStatusCode:WT,formToJSON:e3,getAdapter:t3,mergeConfig:a3}=dt;class aS{constructor(){this.supabase=$t,this.client=dt.create({baseURL:"https://topografia-backend.onrender.com",timeout:15e3,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(async t=>{try{const{data:{session:n},error:i}=await this.supabase.auth.getSession();return i&&console.warn("Error obteniendo sesin de Supabase:",i.message),n!=null&&n.access_token&&(t.headers.Authorization=`Bearer ${n.access_token}`),t}catch(n){return console.error("Error en interceptor de request:",n),t}},t=>(console.error("Error preparando request:",t),Promise.reject(t))),this.client.interceptors.response.use(t=>t,async t=>{var i;const n=t.config;if(((i=t.response)==null?void 0:i.status)===401&&!n._retry){n._retry=!0;try{const{data:{session:o},error:u}=await this.supabase.auth.refreshSession();return u||!o?(this.handleAuthError(),Promise.reject(t)):(n.headers.Authorization=`Bearer ${o.access_token}`,this.client(n))}catch(o){return console.error("Error renovando token:",o),this.handleAuthError(),Promise.reject(t)}}return Promise.reject(this.enhanceError(t))})}handleAuthError(){this.supabase.auth.signOut(),console.warn("Sesin expirada, redirigiendo al login...")}enhanceError(t){var i,o,u,h;return{...t,isNetworkError:!t.response,isServerError:((i=t.response)==null?void 0:i.status)>=500,isClientError:((o=t.response)==null?void 0:o.status)>=400&&((u=t.response)==null?void 0:u.status)<500,statusCode:(h=t.response)==null?void 0:h.status,message:this.getErrorMessage(t)}}getErrorMessage(t){var o,u;if(!t.response)return"No se pudo conectar con el servidor. Verifica tu conexin a internet.";const n=t.response.status,i=((o=t.response.data)==null?void 0:o.detail)||((u=t.response.data)==null?void 0:u.message);switch(n){case 400:return i||"Los datos enviados no son vlidos.";case 401:return"Tu sesin ha expirado. Por favor inicia sesin nuevamente.";case 403:return"No tienes permisos para realizar esta accin.";case 404:return"El recurso solicitado no existe.";case 422:return i||"Los datos enviados contienen errores de validacin.";case 500:return"Error interno del servidor. Por favor intenta ms tarde.";default:return i||`Error del servidor (${n}). Por favor intenta ms tarde.`}}async get(t,n={}){return(await this.client.get(t,n)).data}async post(t,n={},i={}){return(await this.client.post(t,n,i)).data}async put(t,n={},i={}){return(await this.client.put(t,n,i)).data}async patch(t,n={},i={}){return(await this.client.patch(t,n,i)).data}async delete(t,n={}){return(await this.client.delete(t,n)).data}}const sS=new aS,Bt=sS,rt={getCurrentSession:async()=>{try{const{data:{session:s},error:t}=await $t.auth.getSession();if(t)throw t;return s}catch(s){return console.error("Error obteniendo sesin actual:",s),null}},getCurrentUser:async()=>{try{const{data:{user:s},error:t}=await $t.auth.getUser();if(t)throw t;return s}catch(s){return console.error("Error obteniendo usuario actual:",s),null}},hasRole:(s,t)=>{var n,i;return((n=s==null?void 0:s.user_metadata)==null?void 0:n.role)===t||((i=s==null?void 0:s.app_metadata)==null?void 0:i.role)===t},isAdmin:s=>rt.hasRole(s,"admin"),canAccessProject:(s,t)=>(rt.isAdmin(s),!0),getUserPermissions:s=>{const t={canCreateProject:!0,canEditProject:!0,canDeleteProject:!1,canManageUsers:!1,canExportData:!0,canImportData:!0};return rt.isAdmin(s)?{canCreateProject:!0,canEditProject:!0,canDeleteProject:!0,canManageUsers:!0,canExportData:!0,canImportData:!0}:t},formatUserInfo:s=>{var t,n,i,o;return s?{id:s.id,email:s.email,name:((t=s.user_metadata)==null?void 0:t.full_name)||s.email.split("@")[0],role:((n=s.user_metadata)==null?void 0:n.role)||((i=s.app_metadata)==null?void 0:i.role)||"user",avatar:(o=s.user_metadata)==null?void 0:o.avatar_url,lastSignIn:s.last_sign_in_at,createdAt:s.created_at}:null},isSessionExpiring:(s,t=5)=>{if(!s||!s.expires_at)return!1;const n=s.expires_at*1e3,i=Date.now(),o=t*60*1e3;return n-i<=o},onAuthStateChange:s=>$t.auth.onAuthStateChange((t,n)=>{s(t,n)}),isValidEmail:s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),validateEmail:s=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return{isValid:t.test(s),message:t.test(s)?"":"Formato de email invlido"}},validatePassword:s=>{const n=/[A-Z]/.test(s),i=/[a-z]/.test(s),o=/\d/.test(s),u=/[!@#$%^&*(),.?":{}|<>]/.test(s),h=[];return s.length<8&&h.push("Debe tener al menos 8 caracteres"),n||h.push("Debe incluir al menos una letra mayscula"),i||h.push("Debe incluir al menos una letra minscula"),o||h.push("Debe incluir al menos un nmero"),u||h.push("Debe incluir al menos un carcter especial"),{isValid:h.length===0,strength:rt.calculatePasswordStrength(s),issues:h}},calculatePasswordStrength:s=>{let t=0;return s.length>=8&&(t+=1),s.length>=12&&(t+=1),/[A-Z]/.test(s)&&(t+=1),/[a-z]/.test(s)&&(t+=1),/\d/.test(s)&&(t+=1),/[!@#$%^&*(),.?":{}|<>]/.test(s)&&(t+=1),s.length>=16&&(t+=1),t<=2?"DBIL":t<=4?"MEDIA":t<=5?"FUERTE":"MUY_FUERTE"},isTokenExpired:s=>{if(!s)return!0;try{const t=JSON.parse(atob(s.split(".")[1])),n=Date.now()/1e3;return t.exp<n}catch(t){return console.error("Error verificando token:",t),!0}},loginAttempts:{keyPrefix:"topografia_login_attempts_",maxAttempts:5,lockoutDuration:15*60*1e3,getKey:s=>`${rt.loginAttempts.keyPrefix}${btoa(s.toLowerCase())}`,get:s=>{if(!s)return{count:0,lastAttempt:null};try{const t=rt.loginAttempts.getKey(s),n=localStorage.getItem(t);return n?JSON.parse(n):{count:0,lastAttempt:null}}catch{return{count:0,lastAttempt:null}}},increment:s=>{if(!s)return{count:0,lastAttempt:null};const t=rt.loginAttempts.get(s);t.count+=1,t.lastAttempt=Date.now();const n=rt.loginAttempts.getKey(s);return localStorage.setItem(n,JSON.stringify(t)),t},reset:s=>{if(!s)return;const t=rt.loginAttempts.getKey(s);localStorage.removeItem(t)},isLocked:s=>{if(!s)return!1;const t=rt.loginAttempts.get(s);return t.count<rt.loginAttempts.maxAttempts?!1:Date.now()-t.lastAttempt<rt.loginAttempts.lockoutDuration},getRemainingLockTime:s=>{if(!s)return 0;const t=rt.loginAttempts.get(s);if(t.count<rt.loginAttempts.maxAttempts)return 0;const n=Date.now()-t.lastAttempt,i=rt.loginAttempts.lockoutDuration-n;return Math.max(0,i)},clearAll:()=>{Object.keys(localStorage).filter(t=>t.startsWith(rt.loginAttempts.keyPrefix)).forEach(t=>localStorage.removeItem(t))}},formatLockoutTime:s=>{if(s<=0)return"0 segundos";const t=Math.floor(s/(60*1e3)),n=Math.floor(s%(60*1e3)/1e3);return t>0?`${t}m ${n}s`:`${n}s`},clearSensitiveData:()=>{["supabase.auth.token","user-preferences","cached-user-data"].forEach(t=>{localStorage.removeItem(t)})}},nS={CONFIGURACION:"CONFIGURACION",EN_PROGRESO:"EN_PROGRESO",COMPLETADO:"COMPLETADO",PAUSADO:"PAUSADO",CANCELADO:"CANCELADO"},mt={KM_MIN:0,KM_MAX:999999,INTERVALO_MIN:1,INTERVALO_MAX:100,ESPESOR_MIN:.1,ESPESOR_MAX:1,TOLERANCIA_MIN:.001,TOLERANCIA_MAX:.05},Jt={SHORT:2*60*1e3,MEDIUM:5*60*1e3,LONG:10*60*1e3},Yr={DATE:"dd/MM/yyyy"};class rS{constructor(){this.logoDataUrl=null,this.pdfMake=null,this.initialized=!1}async loadLogo(){try{const t=await fetch("/Cemex.png");if(!t.ok)throw new Error("Logo PNG no encontrado");const n=await t.blob();return new Promise(i=>{const o=new FileReader;o.onload=()=>{this.logoDataUrl=o.result,i(o.result)},o.onerror=()=>i(null),o.readAsDataURL(n)})}catch(t){return console.warn("No se pudo cargar el logo PNG:",t),null}}async initializePdfMake(){if(!this.initialized)try{const t=await Gn(()=>import("./pdfmake-B7YMLk7r.js").then(i=>i.p),[]),n=await Gn(()=>import("./vfs_fonts-c5KcDZOu.js").then(i=>i.v),[]);this.pdfMake=t.default,this.pdfMake.vfs=n.default,this.initialized=!0,console.log("pdfMake inicializado correctamente")}catch(t){throw console.error("Error inicializando pdfMake:",t),new Error("No se pudo inicializar pdfMake")}}async generateLiberacionTopografiaReport(t,n){try{if(console.log("Iniciando generacin de reporte..."),!t||!n)throw new Error("Proyecto y datos del reporte son requeridos");await this.initializePdfMake(),await this.loadLogo(),console.log("Creando documento PDF...");const i={pageSize:"A4",pageOrientation:"portrait",pageMargins:[20,20,20,20],content:[this.createHeader(t),this.createDatosGenerales(t),this.createMainTable(n),this.createAdditionalInfo(),this.createFirmas(t)],styles:{header:{fontSize:14,bold:!0,alignment:"center"},subheader:{fontSize:10,bold:!0,alignment:"center",fillColor:"#CCCCCC"},tableHeader:{fontSize:8,bold:!0,alignment:"center",fillColor:"#CCCCCC"},tableCell:{fontSize:8,alignment:"center"}},defaultStyle:{fontSize:9}};console.log("Generando PDF...");const o=this.pdfMake.createPdf(i);return this.lastGeneratedPdf=o,console.log("PDF generado exitosamente"),o}catch(i){throw console.error("Error en generateLiberacionTopografiaReport:",i),i}}createHeader(t){return{table:{widths:[80,"*",80],body:[[this.logoDataUrl?{image:this.logoDataUrl,width:50,height:25,alignment:"center"}:{text:"CEMEX",fontSize:14,bold:!0,alignment:"center"},{text:"LIBERACIN DE PAVIMENTACIN POR TOPOGRAFA",style:"header",alignment:"center"},{stack:[{text:"CDIGO: TOP-FM-05",fontSize:9,alignment:"center"},{text:"VERSIN: 0.1",fontSize:9,alignment:"center"},{text:`FECHA: ${new Date().toLocaleDateString("es-ES")}`,fontSize:9,alignment:"center"}]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#000000",vLineColor:()=>"#000000"},margin:[0,0,0,15]}}createDatosGenerales(t){return{stack:[{text:"DATOS GENERALES",style:"subheader",margin:[0,5,0,5]},{table:{widths:[30,60,30,60,25,35],body:[[{text:"Proyecto:",fontSize:9,bold:!0},{text:t.nombre||"CCR MEDLINE NUEVO NUEVO LAREDO",fontSize:9},{text:"Tramo:",fontSize:9,bold:!0},{text:t.tramo||"OFF DEL -270.45 AL -261.78",fontSize:9},{text:"Folio:",fontSize:9,bold:!0},{text:`LIB-${t.id||"16"}`,fontSize:9}],[{text:"Contrato:",fontSize:9,bold:!0},{text:t.contrato||"xxxxx-xxxx-xxx",fontSize:9},{text:"Fecha:",fontSize:9,bold:!0},{text:new Date().toLocaleDateString("es-ES"),fontSize:9},{text:"",fontSize:9},{text:"",fontSize:9}]]},layout:{hLineWidth:()=>.5,vLineWidth:()=>.5,hLineColor:()=>"#000000",vLineColor:()=>"#000000"}}],margin:[0,0,0,15]}}createMainTable(t){return{table:{widths:[25,18,18,18,18,18,18,18,18,18,18,18,18],body:[[{text:"ESTACIN",style:"tableHeader"},{text:"CAMPO",style:"tableHeader"},{text:"PROYECTO",style:"tableHeader"},{text:"DIFERENCIA",style:"tableHeader"},{text:"RT. PROYECTO",style:"tableHeader"},{text:"CAMPO",style:"tableHeader"},{text:"ESPESORES",style:"tableHeader"},{text:"REA",style:"tableHeader"},{text:"VOL. PARCIAL",style:"tableHeader"},{text:"VOL. ACUM",style:"tableHeader"},{text:"PARCIAL",style:"tableHeader"},{text:"ACUMULADO",style:"tableHeader"},{text:"TOTAL",style:"tableHeader"}],[{text:"0+295.00",style:"tableCell"},{text:"151.223",style:"tableCell"},{text:"151.236",style:"tableCell"},{text:"0.013",style:"tableCell"},{text:"151.436",style:"tableCell"},{text:"151.223",style:"tableCell"},{text:"0.196",style:"tableCell"},{text:"0.543",style:"tableCell"},{text:"0.000",style:"tableCell"},{text:"0.000",style:"tableCell"},{text:"0.000",style:"tableCell"},{text:"0.000",style:"tableCell"},{text:"0.000",style:"tableCell"}],[{text:"0+300.00",style:"tableCell"},{text:"151.284",style:"tableCell"},{text:"151.276",style:"tableCell"},{text:"0.008",style:"tableCell"},{text:"151.476",style:"tableCell"},{text:"151.284",style:"tableCell"},{text:"0.192",style:"tableCell"},{text:"0.505",style:"tableCell"},{text:"8.645",style:"tableCell"},{text:"8.645",style:"tableCell"},{text:"8.670",style:"tableCell"},{text:"8.670",style:"tableCell"},{text:"8.670",style:"tableCell"}]]},layout:{hLineWidth:()=>.5,vLineWidth:()=>.5,hLineColor:()=>"#000000",vLineColor:()=>"#000000"},margin:[0,0,0,15]}}createAdditionalInfo(){return{stack:[{text:"ESPECIFICACIONES TCNICAS",fontSize:11,bold:!0,alignment:"center",margin:[0,10,0,10]},{text:"NCTRCAR104009/20 - CUMPLE CON ESPECIFICACIN",fontSize:10,alignment:"center",margin:[0,5,0,10]},{text:"EVALUACIN GENERAL EN VOLMENES",fontSize:11,bold:!0,alignment:"center",margin:[0,10,0,10]},{table:{widths:[120,80],body:[[{text:"VOLUMEN DE PROYECTO",fontSize:9,bold:!0},{text:"684.930 m",fontSize:9,alignment:"center"}],[{text:"VOLUMEN REAL",fontSize:9,bold:!0},{text:"685.796 m",fontSize:9,alignment:"center"}],[{text:"VOLUMEN EXCEDENTE",fontSize:9,bold:!0},{text:"0.866 m",fontSize:9,alignment:"center"}]]}}],margin:[0,0,0,20]}}createFirmas(t){return{columns:[{stack:[{text:"ELABOR",alignment:"center",bold:!0,fontSize:9},{text:`

_________________________`,alignment:"center",fontSize:9},{text:"Ing. Jos Ruiz Castellanos",alignment:"center",bold:!0,fontSize:9},{text:"Jefe de topografa Cemex",alignment:"center",fontSize:8}]},{stack:[{text:"REVIS",alignment:"center",bold:!0,fontSize:9},{text:`

_________________________`,alignment:"center",fontSize:9},{text:"Ing. Ranulfo Martnez Torres",alignment:"center",bold:!0,fontSize:9},{text:"Residente De Obra Cemex",alignment:"center",fontSize:8}]},{stack:[{text:"APROB",alignment:"center",bold:!0,fontSize:9},{text:`

_________________________`,alignment:"center",fontSize:9},{text:"Ing. Jorge Alvarado Huitrn",alignment:"center",bold:!0,fontSize:9},{text:"Super intendente de Obra Cemex",alignment:"center",fontSize:8}]}],margin:[0,20,0,20]}}downloadPDF(t){this.lastGeneratedPdf&&this.lastGeneratedPdf.download(t)}}/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),zx=s=>{const t=lS(s);return t.charAt(0).toUpperCase()+t.slice(1)},jy=(...s)=>s.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),oS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=D.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:h,...p},g)=>D.createElement("svg",{ref:g,...cS,width:t,height:t,stroke:s,strokeWidth:i?Number(n)*24/Number(t):n,className:jy("lucide",o),...!u&&!oS(p)&&{"aria-hidden":"true"},...p},[...h.map(([m,x])=>D.createElement(m,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(s,t)=>{const n=D.forwardRef(({className:i,...o},u)=>D.createElement(uS,{ref:u,iconNode:t,className:jy(`lucide-${iS(zx(s))}`,`lucide-${s}`,i),...o}));return n.displayName=zx(s),n};/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hS=Fe("activity",dS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uf=Fe("arrow-left",fS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Lc=Fe("arrow-right",mS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],pS=Fe("calculator",gS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kh=Fe("chart-column",xS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gs=Fe("circle-alert",vS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ul=Fe("circle-check-big",yS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jS=Fe("circle-check",bS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],NS=Fe("construction",wS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],df=Fe("eye-off",_S);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hf=Fe("eye",ES);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-1",key:"zg0ygc"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"M16 18v-3",key:"j5jt4h"}]],CS=Fe("file-chart-column",SS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Rl=Fe("file-text",TS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],wy=Fe("folder-plus",AS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],RS=Fe("house",kS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qx=Fe("log-out",OS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],DS=Fe("mail",MS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ff=Fe("map-pin",LS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],PS=Fe("map",US);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Rh=Fe("menu",zS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],$S=Fe("play",qS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mn=Fe("plus",BS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],FS=Fe("search",HS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ny=Fe("settings",QS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],VS=Fe("sliders-horizontal",GS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_y=Fe("trash-2",KS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],zf=Fe("trending-up",YS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],IS=Fe("user-plus",XS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Uc=Fe("user",JS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mf=Fe("users",ZS);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pc=Fe("x",WS),e4=()=>{const[s,t]=D.useState({email:"",password:""}),[n,i]=D.useState(!1),[o,u]=D.useState({}),h=N_(),{isAuthenticated:p,loading:g}=Xv(),x=!"https://zogmhnrjbztvjqohufjo.supabase.co".includes("your-project"),b=s.email?rt.loginAttempts.isLocked(s.email):!1,v=b?rt.loginAttempts.getRemainingLockTime(s.email):0;if(p&&!g)return l.jsx(Hc,{to:"/",replace:!0});const _=()=>{const j={},A=rt.validateEmail(s.email);return A.isValid||(j.email=A.message),s.password||(j.password="La contrasea es requerida"),u(j),Object.keys(j).length===0},w=async j=>{if(j.preventDefault(),!x){u({general:"Error de configuracin: Las credenciales de Supabase no estn configuradas correctamente. Revisa el archivo .env"});return}if(b){u({general:`Cuenta bloqueada. Intenta en ${rt.formatLockoutTime(v)}`});return}if(_()){console.log(" Iniciando proceso de login...");try{await h.mutateAsync(s),rt.loginAttempts.reset(s.email)}catch(A){console.error("Error en login:",A),rt.loginAttempts.increment(s.email);let O="Error al iniciar sesin. Verifica tus credenciales.";A.message.includes("Failed to fetch")?O="Error de conexin: No se puede conectar con Supabase. Verifica la configuracin de red y las credenciales.":A.message.includes("Invalid login credentials")&&(O="Credenciales invlidas. Verifica tu email y contrasea."),u({general:O})}}},S=j=>{const{name:A,value:O}=j.target;t(E=>({...E,[A]:O})),o[A]&&u(E=>({...E,[A]:""}))};return l.jsxs("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:["            ",l.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("img",{src:"/Cemex.webp",alt:"CEMEX",className:"h-20 w-auto"}),l.jsxs("h1",{className:"text-3xl font-light text-gray-900 mb-3",children:["Bienvenido al",l.jsx("br",{}),l.jsx("span",{className:"font-normal",children:"Sistema de Topografa"})]}),l.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:"Control y clculo de pavimentos optimizado con tecnologa de precisin"}),"                    "]}),!x&&l.jsx("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(gs,{className:"h-5 w-5 text-yellow-400"}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[l.jsx("strong",{children:"Configuracin requerida:"})," Las credenciales de Supabase no estn configuradas. Consulta el archivo .env para ms informacin."]})})]})}),o.general&&l.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(gs,{className:"h-5 w-5 text-red-400"}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-800",children:o.general})})]})}),l.jsxs("form",{onSubmit:w,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Uc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),"                                ",l.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:S,disabled:h.isPending||b,className:`w-full pl-12 pr-4 py-3.5 bg-white border rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 placeholder-gray-500 transition-all duration-200 ${o.email?"border-red-300":"border-gray-200"} ${h.isPending||b?"opacity-50 cursor-not-allowed":""}`,placeholder:"tu.email@ejemplo.com",autoComplete:"email"})]}),o.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),l.jsxs("div",{className:"relative",children:["                                ",l.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),l.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:s.password,onChange:S,disabled:h.isPending||b,className:`w-full pl-12 pr-12 py-3.5 bg-white border rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 placeholder-gray-500 transition-all duration-200 ${o.password?"border-red-300":"border-gray-200"} ${h.isPending||b?"opacity-50 cursor-not-allowed":""}`,placeholder:"Contrasea",autoComplete:"current-password"}),l.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",onClick:()=>i(!n),disabled:h.isPending||b,children:n?l.jsx(df,{className:"h-5 w-5"}):l.jsx(hf,{className:"h-5 w-5"})})]}),o.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password})]}),"                        ",l.jsx("button",{type:"submit",disabled:h.isPending||b,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3.5 rounded-2xl font-medium text-base hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-3",children:h.isPending?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Verificando credenciales..."]}):b?l.jsxs(l.Fragment,{children:[l.jsx(gs,{className:"h-5 w-5"}),"Cuenta bloqueada"]}):l.jsxs(l.Fragment,{children:["Acceder al Sistema",l.jsx(Lc,{className:"h-5 w-5"})]})})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["No tienes una cuenta?"," ",l.jsx(ci,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Regstrate aqu"})]})}),b&&!1,l.jsxs("div",{className:"mt-6 text-center",children:[l.jsx("p",{className:"text-xs text-gray-400",children:" 2024 CEMEX. Sistema de Topografa Avanzado v1.0"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Desarrollado con tecnologa moderna"})]})]})}),l.jsx("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden p-8",children:l.jsxs("div",{className:"w-full h-full relative",children:[l.jsx("img",{src:"/Topografia.jpg",alt:"Topografa",className:"w-full h-full object-cover rounded-3xl"}),l.jsxs("div",{className:"absolute inset-0 rounded-3xl",children:[l.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(to top, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 40%, transparent 70%)",backdropFilter:"blur(0px)"}}),l.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(to top, rgba(255,255,255,0.1) 0%, transparent 50%)",backdropFilter:"blur(2px)",mask:"linear-gradient(to top, black 0%, black 25%, transparent 60%)",WebkitMask:"linear-gradient(to top, black 0%, black 30%, transparent 60%)"}})]}),l.jsx("div",{className:"absolute bottom-8 left-8 right-8 text-white z-10",children:l.jsxs("h2",{className:"text-2xl font-light mb-4 leading-tight drop-shadow-lg",children:["Tecnologa revolucionando la forma en que",l.jsx("span",{className:"font-normal",children:" creamos, medimos y experimentamos "}),"proyectos."]})}),l.jsx("div",{className:"absolute top-8 right-8 w-2 h-2 bg-white/40 rounded-full"}),l.jsx("div",{className:"absolute top-16 right-16 w-1 h-1 bg-white/30 rounded-full"}),l.jsx("div",{className:"absolute top-24 right-12 w-3 h-3 bg-white/20 rounded-full"})]})})]})},t4=()=>{const[s,t]=D.useState({nombre:"",email:"",password:"",confirmPassword:"",organizacion:""}),[n,i]=D.useState(!1),[o,u]=D.useState(!1),[h,p]=D.useState({}),[g,m]=D.useState(!1),x=__(),{isAuthenticated:b,loading:v}=Xv(),_=mi(),S=!"https://zogmhnrjbztvjqohufjo.supabase.co".includes("your-project");if(b&&!v)return l.jsx(Hc,{to:"/",replace:!0});D.useEffect(()=>{if(g){const E=setTimeout(()=>{_("/",{replace:!0})},3e3);return()=>clearTimeout(E)}},[g,_]);const j=()=>{const E={};s.nombre.trim()?s.nombre.trim().length<2&&(E.nombre="El nombre debe tener al menos 2 caracteres"):E.nombre="El nombre es requerido";const k=rt.validateEmail(s.email);return k.isValid||(E.email=k.message),s.password?s.password.length<6&&(E.password="La contrasea debe tener al menos 6 caracteres"):E.password="La contrasea es requerida",s.confirmPassword?s.password!==s.confirmPassword&&(E.confirmPassword="Las contraseas no coinciden"):E.confirmPassword="Confirma tu contrasea",s.organizacion&&s.organizacion.trim().length<2&&(E.organizacion="El nombre de la organizacin debe tener al menos 2 caracteres"),p(E),Object.keys(E).length===0},A=async E=>{var k;if(E.preventDefault(),!S){p({general:"Error de configuracin: Las credenciales de Supabase no estn configuradas correctamente. Revisa el archivo .env"});return}if(j()){console.log(" Iniciando proceso de registro...");try{const T={nombre:s.nombre.trim(),organizacion:s.organizacion.trim()||null};await x.mutateAsync({email:s.email,password:s.password,userData:T}),console.log(" Registro exitoso"),m(!0),p({})}catch(T){console.error("Error en registro:",T);let L="Error al crear la cuenta. Intenta nuevamente.";T.message.includes("Failed to fetch")?L="Error de conexin: No se puede conectar con Supabase. Verifica la configuracin de red y las credenciales.":T.message.includes("User already registered")?L="Este email ya est registrado. Intenta iniciar sesin o usa otro email.":T.message.includes("Password should be at least 6 characters")?L="La contrasea debe tener al menos 6 caracteres.":T.message.includes("Invalid email")?L="El formato del email no es vlido.":T.message.includes("For security purposes, you can only request this after")&&(L=`Por seguridad, debes esperar ${((k=T.message.match(/(\d+) seconds/))==null?void 0:k[1])||"60"} segundos antes de intentar registrarte nuevamente.`),p({general:L})}}},O=E=>{const{name:k,value:T}=E.target;t(L=>({...L,[k]:T})),h[k]&&p(L=>({...L,[k]:""}))};return l.jsxs("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[l.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("img",{src:"/Cemex.webp",alt:"CEMEX",className:"h-20 w-auto"}),l.jsxs("h1",{className:"text-3xl font-light text-gray-900 mb-3",children:["Crear Cuenta",l.jsx("br",{}),l.jsx("span",{className:"font-normal",children:"Sistema de Topografa"})]}),l.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:"nete al sistema de control y clculo de pavimentos ms avanzado"})]}),l.jsx("div",{className:"mb-6",children:l.jsxs(ci,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 transition-colors",children:[l.jsx(uf,{className:"h-4 w-4"}),"Volver al inicio de sesin"]})}),!S&&l.jsx("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(gs,{className:"h-5 w-5 text-yellow-400"}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[l.jsx("strong",{children:"Configuracin requerida:"})," Las credenciales de Supabase no estn configuradas. Consulta el archivo .env para ms informacin."]})})]})}),g&&l.jsx("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Ul,{className:"h-5 w-5 text-green-400"}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm text-green-800",children:l.jsx("strong",{children:"Cuenta creada exitosamente!"})}),l.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Sers redirigido al sistema en unos segundos..."})]})]})}),h.general&&!g&&l.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(gs,{className:"h-5 w-5 text-red-400"}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-800",children:h.general})})]})}),l.jsxs("form",{onSubmit:A,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Uc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{id:"nombre",name:"nombre",type:"text",required:!0,value:s.nombre,onChange:O,disabled:x.isPending,className:`w-full pl-12 pr-4 py-3.5 bg-white border rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 placeholder-gray-500 transition-all duration-200 ${h.nombre?"border-red-300":"border-gray-200"} ${x.isPending?"opacity-50 cursor-not-allowed":""}`,placeholder:"Tu nombre completo",autoComplete:"name"})]}),h.nombre&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.nombre})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),l.jsxs("div",{className:"relative",children:[l.jsx(DS,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:O,disabled:x.isPending,className:`w-full pl-12 pr-4 py-3.5 bg-white border rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 placeholder-gray-500 transition-all duration-200 ${h.email?"border-red-300":"border-gray-200"} ${x.isPending?"opacity-50 cursor-not-allowed":""}`,placeholder:"tu.email@ejemplo.com",autoComplete:"email"})]}),h.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.email})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"organizacion",className:"block text-sm font-medium text-gray-700 mb-2",children:["Organizacin ",l.jsx("span",{className:"text-gray-400",children:"(opcional)"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsx("input",{id:"organizacion",name:"organizacion",type:"text",value:s.organizacion,onChange:O,disabled:x.isPending,className:`w-full pl-12 pr-4 py-3.5 bg-white border rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 placeholder-gray-500 transition-all duration-200 ${h.organizacion?"border-red-300":"border-gray-200"} ${x.isPending?"opacity-50 cursor-not-allowed":""}`,placeholder:"CEMEX, Constructora ABC...",autoComplete:"organization"})]}),h.organizacion&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.organizacion})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea *"}),l.jsxs("div",{className:"relative",children:[l.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),l.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:s.password,onChange:O,disabled:x.isPending,className:`w-full pl-12 pr-12 py-3.5 bg-white border rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 placeholder-gray-500 transition-all duration-200 ${h.password?"border-red-300":"border-gray-200"} ${x.isPending?"opacity-50 cursor-not-allowed":""}`,placeholder:"Mnimo 6 caracteres",autoComplete:"new-password"}),l.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",onClick:()=>i(!n),disabled:x.isPending,children:n?l.jsx(df,{className:"h-5 w-5"}):l.jsx(hf,{className:"h-5 w-5"})})]}),h.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.password})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar contrasea *"}),l.jsxs("div",{className:"relative",children:[l.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",required:!0,value:s.confirmPassword,onChange:O,disabled:x.isPending,className:`w-full pl-12 pr-12 py-3.5 bg-white border rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 placeholder-gray-500 transition-all duration-200 ${h.confirmPassword?"border-red-300":"border-gray-200"} ${x.isPending?"opacity-50 cursor-not-allowed":""}`,placeholder:"Repite tu contrasea",autoComplete:"new-password"}),l.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",onClick:()=>u(!o),disabled:x.isPending,children:o?l.jsx(df,{className:"h-5 w-5"}):l.jsx(hf,{className:"h-5 w-5"})})]}),h.confirmPassword&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.confirmPassword})]}),l.jsx("button",{type:"submit",disabled:x.isPending||g,className:`w-full py-3.5 rounded-2xl font-medium text-base focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-3 ${g?"bg-gradient-to-r from-green-500 to-green-600 text-white focus:ring-green-500":"bg-gradient-to-r from-green-600 to-green-700 text-white hover:from-green-700 hover:to-green-800 focus:ring-green-500"}`,children:g?l.jsxs(l.Fragment,{children:[l.jsx(Ul,{className:"h-5 w-5"}),"Cuenta creada exitosamente!"]}):x.isPending?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creando cuenta..."]}):l.jsxs(l.Fragment,{children:[l.jsx(IS,{className:"h-5 w-5"}),"Crear Cuenta",l.jsx(Lc,{className:"h-5 w-5"})]})})]}),!g&&l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Ya tienes una cuenta?"," ",l.jsx(ci,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Inicia sesin aqu"})]})}),l.jsxs("div",{className:"mt-6 text-center",children:[l.jsx("p",{className:"text-xs text-gray-400",children:" 2024 CEMEX. Sistema de Topografa Avanzado v1.0"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Desarrollado con tecnologa moderna"})]})]})}),l.jsx("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden p-8",children:l.jsxs("div",{className:"w-full h-full relative",children:[l.jsx("img",{src:"/Topografia.jpg",alt:"Topografa",className:"w-full h-full object-cover rounded-3xl"}),l.jsxs("div",{className:"absolute inset-0 rounded-3xl",children:[l.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(to top, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 40%, transparent 70%)",backdropFilter:"blur(0px)"}}),l.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(to top, rgba(255,255,255,0.1) 0%, transparent 50%)",backdropFilter:"blur(2px)",mask:"linear-gradient(to top, black 0%, black 25%, transparent 60%)",WebkitMask:"linear-gradient(to top, black 0%, black 30%, transparent 60%)"}})]}),l.jsxs("div",{className:"absolute bottom-8 left-8 right-8 text-white z-10",children:[l.jsxs("h2",{className:"text-2xl font-light mb-4 leading-tight drop-shadow-lg",children:["nete a la revolucin digital en",l.jsx("span",{className:"font-normal",children:" topografa profesional "}),"y construccin vial."]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/90",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),l.jsx("span",{children:"Clculos automticos"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),l.jsx("span",{children:"Anlisis en tiempo real"})]})]})]}),l.jsx("div",{className:"absolute top-8 right-8 w-2 h-2 bg-white/40 rounded-full"}),l.jsx("div",{className:"absolute top-16 right-16 w-1 h-1 bg-white/30 rounded-full"}),l.jsx("div",{className:"absolute top-24 right-12 w-3 h-3 bg-white/20 rounded-full"})]})})]})},be={usuarios:{getAll:()=>"/usuarios/",getMe:()=>"/usuarios/me",getById:s=>`/usuarios/${s}`,create:()=>"/usuarios/",update:s=>`/usuarios/${s}`,patch:s=>`/usuarios/${s}`,delete:s=>`/usuarios/${s}`},proyectos:{getAll:()=>"/proyectos/",getById:s=>`/proyectos/${s}`,create:()=>"/proyectos/",createCompleto:()=>"/proyectos/completo/",update:s=>`/proyectos/${s}`,patch:s=>`/proyectos/${s}`,delete:s=>`/proyectos/${s}`,getEstaciones:s=>`/proyectos/${s}/estaciones/`,getMediciones:s=>`/proyectos/${s}/mediciones/`,getDebug:s=>`/proyectos/${s}/debug/`},estaciones:{getAll:()=>"/estaciones/",getByProject:s=>`/proyectos/${s}/estaciones/`,getById:s=>`/estaciones/${s}`,create:()=>"/estaciones/",update:s=>`/estaciones/${s}`,patch:s=>`/estaciones/${s}`,delete:s=>`/estaciones/${s}`},mediciones:{getAll:()=>"/mediciones/",getByProject:s=>`/proyectos/${s}/mediciones/`,getById:s=>`/mediciones/${s}`,create:()=>"/mediciones/",update:s=>`/mediciones/${s}`,patch:s=>`/mediciones/${s}`,delete:s=>`/mediciones/${s}`,getLecturas:s=>`/mediciones/${s}/lecturas/`},lecturas:{getAll:()=>"/lecturas/",getByMedicion:s=>`/lecturas/?medicion_id=${s}`,getById:s=>`/lecturas/${s}`,create:()=>"/lecturas/",update:s=>`/lecturas/${s}`,patch:s=>`/lecturas/${s}`,delete:s=>`/lecturas/${s}`,getWithFilters:s=>`/lecturas/?${new URLSearchParams(s).toString()}`,createBatch:()=>"/lecturas/batch/",validate:s=>`/lecturas/validate/${s}`,calculateElevations:s=>`/lecturas/calculate-elevations/${s}`,getStats:s=>`/lecturas/stats/${s}`,getProfile:s=>`/lecturas/profile/${s}`,getByQuality:(s,t)=>`/lecturas/quality/${s}?calidad=${t}`,import:s=>`/lecturas/import/${s}`,export:s=>`/lecturas/export/${s}`},utilidades:{health:()=>"/health",info:()=>"/info",status:()=>"/status",authTest:()=>"/auth/test"}},Yn=(s,t={})=>{var h;Zt.useEffect(()=>{console.group(" useEstaciones Debug - Estructura Compatible"),console.log(" Parmetros recibidos:",{proyectoId:s,filters:t}),console.log(" proyectoId:",s,"tipo:",typeof s),console.log(" filters:",t),console.log(" Verificando queryKeys:"),console.log("- queryKeys disponible:",!!H),console.log("- queryKeys.estacion disponible:",!!(H!=null&&H.estacion)),H!=null&&H.estacion?(console.log("- Mtodos disponibles en queryKeys.estacion:",Object.keys(H.estacion)),console.log("- listByProyecto es funcin:",typeof H.estacion.listByProyecto=="function"),console.log("- list es funcin:",typeof H.estacion.list=="function")):console.error(" queryKeys.estacion no est definido"),console.log(" Verificando endpoints:"),console.log("- endpoints disponible:",!!be),console.log("- endpoints.estaciones disponible:",!!(be!=null&&be.estaciones)),console.groupEnd()},[s,t]);const n=()=>{var p,g;try{if(s&&((p=H==null?void 0:H.estacion)!=null&&p.listByProyecto)){const m=H.estacion.listByProyecto(s);return console.log(" Query key generada (listByProyecto):",m),m}if(!s&&((g=H==null?void 0:H.estacion)!=null&&g.list)){const m=H.estacion.list(t);return console.log(" Query key generada (list):",m),m}return console.warn(" Usando fallback para query key"),s?[H.estaciones,"list",{proyectoId:s,...t}]:[H.estaciones,"list",t]}catch(m){return console.error(" Error generando query key:",m),s?["estaciones","byProject",s,t]:["estaciones","list",t]}},i=async()=>{var p,g;console.log(" Ejecutando queryFn para estaciones"),console.log(" Parmetros:",{proyectoId:s,filters:t});try{let m;if(s&&((p=be==null?void 0:be.estaciones)!=null&&p.getByProject)?(m=be.estaciones.getByProject(s),console.log(" URL generada (getByProject):",m)):!s&&((g=be==null?void 0:be.estaciones)!=null&&g.getAll)?(m=be.estaciones.getAll(),console.log(" URL generada (getAll):",m)):(m=s?`/proyectos/${s}/estaciones/`:"/estaciones/",console.warn(" Usando URL fallback:",m)),t&&Object.keys(t).length>0){const b=new URLSearchParams(t);m=`${m}?${b}`,console.log(" URL con filtros:",m)}console.log(" Realizando request a:",m);const x=await Bt.get(m);return console.log(" Estaciones obtenidas:",{cantidad:(x==null?void 0:x.length)||0,muestra:(x==null?void 0:x.slice(0,2))||[],tipoRespuesta:Array.isArray(x)?"array":typeof x}),Array.isArray(x)?x:[]}catch(m){throw console.error(" Error en queryFn de estaciones:",m),console.error("- URL intentada:",url),console.error("- Parmetros:",{proyectoId:s,filters:t}),m}},o=n();console.log(" Query key final:",o);const u=Fl({queryKey:o,queryFn:i,enabled:!!s,staleTime:Jt==null?void 0:Jt.MEDIUM,cacheTime:Jt==null?void 0:Jt.LONG,refetchOnWindowFocus:!1,retry:(p,g)=>{var m,x,b;return((m=g==null?void 0:g.response)==null?void 0:m.status)===404||((x=g==null?void 0:g.response)==null?void 0:x.status)>=400&&((b=g==null?void 0:g.response)==null?void 0:b.status)<500?!1:p<3},onError:p=>{console.error(` Error en useEstaciones para proyecto ${s}:`,p),console.error("- Query key usada:",o),console.error("- Filtros aplicados:",t)},onSuccess:p=>{console.log(` useEstaciones exitoso para proyecto ${s}:`,{cantidad:(p==null?void 0:p.length)||0,tieneData:!!p})},select:p=>Array.isArray(p)?p.map(g=>({...g,coordenada_x:parseFloat(g.coordenada_x)||0,coordenada_y:parseFloat(g.coordenada_y)||0,elevacion:parseFloat(g.elevacion)||0,kilometraje:parseFloat(g.kilometraje)||0,km:parseFloat(g.km)||parseFloat(g.kilometraje)||0})):(console.warn(" Datos recibidos no son un array, convirtiendo:",typeof p),[])});return Zt.useEffect(()=>{var p,g;console.log(" Estado actual de useEstaciones:",{proyectoId:s,isLoading:u.isLoading,isError:u.isError,isSuccess:u.isSuccess,dataLength:(p=u.data)==null?void 0:p.length,errorMessage:(g=u.error)==null?void 0:g.message,queryKey:o})},[s,u.isLoading,u.isError,u.isSuccess,(h=u.data)==null?void 0:h.length,u.error,o]),u},a4=()=>{const s=_t();return ta({mutationFn:async t=>{var o;console.log(" Creando estacin:",t);let n;(o=be==null?void 0:be.estaciones)!=null&&o.create?n=be.estaciones.create():(n="/estaciones/",console.warn(" endpoints.estaciones.create no disponible, usando URL manual"));const i=await Bt.post(n,t);return console.log(" Estacin creada:",i),i},onSuccess:t=>{console.log(" Estacin creada exitosamente");try{t.proyecto_id&&s.invalidateQueries({queryKey:[H.estaciones,"list",{proyectoId:t.proyecto_id}]}),s.invalidateQueries({queryKey:[H.estaciones]})}catch(n){console.warn(" Error invalidando queries despus de crear estacin:",n)}},onError:t=>{console.error(" Error creando estacin:",t)}})},s4=()=>{const s=_t();return ta({mutationFn:async({estacionId:t,datosActualizados:n})=>{var u;console.log(` Actualizando estacin ${t}:`,n);let i;(u=be==null?void 0:be.estaciones)!=null&&u.update?i=be.estaciones.update(t):(i=`/estaciones/${t}/`,console.warn(" endpoints.estaciones.update no disponible, usando URL manual"));const o=await Bt.put(i,n);return console.log(` Estacin ${t} actualizada:`,o),o},onSuccess:(t,n)=>{console.log(" Estacin actualizada exitosamente");try{s.invalidateQueries({queryKey:[H.estaciones,"detail",n.estacionId]}),t!=null&&t.proyecto_id&&s.invalidateQueries({queryKey:[H.estaciones,"list",{proyectoId:t.proyecto_id}]})}catch(i){console.warn(" Error invalidando queries despus de actualizar estacin:",i)}},onError:t=>{console.error(" Error actualizando estacin:",t)}})},n4=()=>{const s=_t();return ta({mutationFn:async t=>{var o;console.log(` Eliminando estacin ${t}`);let n;(o=be==null?void 0:be.estaciones)!=null&&o.delete?n=be.estaciones.delete(t):(n=`/estaciones/${t}/`,console.warn(" endpoints.estaciones.delete no disponible, usando URL manual"));const i=await Bt.delete(n);return console.log(` Estacin ${t} eliminada`),i},onSuccess:(t,n)=>{console.log(" Estacin eliminada exitosamente");try{s.invalidateQueries({queryKey:[H.estaciones]})}catch(i){console.warn(" Error invalidando queries despus de eliminar estacin:",i)}},onError:t=>{console.error(" Error eliminando estacin:",t)}})},Xn=(s,t={})=>{var v;const n=typeof s=="object"&&s!==null,{proyecto_id:i,estacion_id:o,enabled:u=!0,...h}=n?s:{estacion_id:s,enabled:!0},p=n?{}:t;Zt.useEffect(()=>{console.group(" useMediciones Debug - Deteccin de Signature"),console.log(" Parmetros recibidos:",{firstParam:s,secondParam:t}),console.log(" Signature detectada:",n?"Objeto { proyecto_id }":"Parmetros separados (estacionId, filters)"),console.log(" proyecto_id extrado:",i),console.log(" estacion_id extrado:",o),console.log(" enabled:",u),console.log(" filters:",p),console.log(" Verificando queryKeys.medicion:"),H!=null&&H.medicion?(console.log("- Mtodos disponibles:",Object.keys(H.medicion)),console.log("- listByProyecto es funcin:",typeof H.medicion.listByProyecto=="function"),console.log("- listByEstacion es funcin:",typeof H.medicion.listByEstacion=="function"),console.log("- list es funcin:",typeof H.medicion.list=="function")):console.error(" queryKeys.medicion no est definido"),console.groupEnd()},[s,t,i,o,u,n]);const g=()=>{var _,w,S;try{if(o&&((_=H==null?void 0:H.medicion)!=null&&_.listByEstacion)){const j=H.medicion.listByEstacion(o,i);return console.log(" Query key generada (listByEstacion):",j),j}if(i&&((w=H==null?void 0:H.medicion)!=null&&w.listByProyecto)){const j=H.medicion.listByProyecto(i);return console.log(" Query key generada (listByProyecto):",j),j}if(!o&&!i&&((S=H==null?void 0:H.medicion)!=null&&S.list)){const j=H.medicion.list(p);return console.log(" Query key generada (list):",j),j}return console.warn(" Usando fallback para query key de mediciones"),o?[H.mediciones,"list",{estacionId:o,proyectoId:i,...p}]:i?[H.mediciones,"list",{proyectoId:i,...p}]:[H.mediciones,"list",p]}catch(j){return console.error(" Error generando query key de mediciones:",j),o?["mediciones","byEstacion",o,p]:i?["mediciones","byProject",i,p]:["mediciones","list",p]}},m=async()=>{var _,w,S;console.log(" Ejecutando queryFn para mediciones"),console.log(" Parmetros:",{proyecto_id:i,estacion_id:o,filters:p});try{let j,A={};o&&((_=be==null?void 0:be.mediciones)!=null&&_.getByEstacion)?(j=be.mediciones.getByEstacion(o),console.log(" URL generada (getByEstacion):",j)):i&&((w=be==null?void 0:be.mediciones)!=null&&w.getByProject)?(j=be.mediciones.getByProject(i),console.log(" URL generada (getByProject):",j)):(S=be==null?void 0:be.mediciones)!=null&&S.getAll?(j=be.mediciones.getAll(),console.log(" URL generada (getAll):",j),i&&(A.proyecto_id=i),o&&(A.estacion_id=o)):(j="/mediciones/",console.warn(" Usando URL fallback para mediciones:",j),i&&(A.proyecto_id=i),o&&(A.estacion_id=o));const O={...A,...p};let E=j;if(Object.keys(O).length>0){const T=new URLSearchParams(O);E=`${j}?${T}`,console.log(" URL final con parmetros:",E)}console.log(" Realizando request a:",E);const k=await Bt.get(E);return console.log(" Mediciones obtenidas:",{cantidad:(k==null?void 0:k.length)||0,muestra:(k==null?void 0:k.slice(0,2))||[],tipoRespuesta:Array.isArray(k)?"array":typeof k}),Array.isArray(k)?k:[]}catch(j){throw console.error(" Error en queryFn de mediciones:",j),console.error("- Parmetros:",{proyecto_id:i,estacion_id:o,filters:p}),j}},x=g();console.log(" Query key final para mediciones:",x);const b=Fl({queryKey:x,queryFn:m,enabled:u&&(i!==void 0||o!==void 0),staleTime:Jt==null?void 0:Jt.SHORT,cacheTime:Jt==null?void 0:Jt.MEDIUM,refetchOnWindowFocus:!1,retry:(_,w)=>{var S,j,A;return((S=w==null?void 0:w.response)==null?void 0:S.status)===404||((j=w==null?void 0:w.response)==null?void 0:j.status)>=400&&((A=w==null?void 0:w.response)==null?void 0:A.status)<500?!1:_<3},onError:_=>{console.error(" Error en useMediciones:",_),console.error("- Query key usada:",x),console.error("- Parmetros:",{proyecto_id:i,estacion_id:o,filters:p})},onSuccess:_=>{console.log(" useMediciones exitoso:",{cantidad:(_==null?void 0:_.length)||0,proyecto_id:i,estacion_id:o})},select:_=>Array.isArray(_)?_.map(w=>({...w,kilometraje:parseFloat(w.kilometraje)||0,coordenada_x:parseFloat(w.coordenada_x)||0,coordenada_y:parseFloat(w.coordenada_y)||0,elevacion:parseFloat(w.elevacion)||0,numero_medicion:w.numero_medicion||w.numero||""})):(console.warn(" Datos de mediciones no son un array, convirtiendo:",typeof _),[])});return Zt.useEffect(()=>{var _,w;console.log(" Estado actual de useMediciones:",{proyecto_id:i,estacion_id:o,isLoading:b.isLoading,isError:b.isError,isSuccess:b.isSuccess,dataLength:(_=b.data)==null?void 0:_.length,errorMessage:(w=b.error)==null?void 0:w.message,queryKey:x})},[i,o,b.isLoading,b.isError,b.isSuccess,(v=b.data)==null?void 0:v.length,b.error,x]),b},Ey=()=>{const s=_t();return ta({mutationFn:async t=>{var o;console.log(" Creando medicin:",t);let n;(o=be==null?void 0:be.mediciones)!=null&&o.create?n=be.mediciones.create():(n="/mediciones/",console.warn(" endpoints.mediciones.create no disponible, usando URL manual"));const i=await Bt.post(n,t);return console.log(" Medicin creada:",i),i},onSuccess:t=>{console.log(" Medicin creada exitosamente");try{t.proyecto_id&&s.invalidateQueries({queryKey:[H.mediciones,"list",{proyectoId:t.proyecto_id}]}),t.estacion_id&&s.invalidateQueries({queryKey:[H.mediciones,"list",{estacionId:t.estacion_id}]}),s.invalidateQueries({queryKey:[H.mediciones]})}catch(n){console.warn(" Error invalidando queries despus de crear medicin:",n)}},onError:t=>{console.error(" Error creando medicin:",t)}})},r4=()=>{const s=_t();return ta({mutationFn:async({medicionId:t,datosActualizados:n})=>{var u;console.log(` Actualizando medicin ${t}:`,n);let i;(u=be==null?void 0:be.mediciones)!=null&&u.update?i=be.mediciones.update(t):(i=`/mediciones/${t}/`,console.warn(" endpoints.mediciones.update no disponible, usando URL manual"));const o=await Bt.put(i,n);return console.log(` Medicin ${t} actualizada:`,o),o},onSuccess:(t,n)=>{console.log(" Medicin actualizada exitosamente");try{s.invalidateQueries({queryKey:[H.mediciones,"detail",n.medicionId]}),t!=null&&t.proyecto_id&&s.invalidateQueries({queryKey:[H.mediciones,"list",{proyectoId:t.proyecto_id}]}),t!=null&&t.estacion_id&&s.invalidateQueries({queryKey:[H.mediciones,"list",{estacionId:t.estacion_id}]})}catch(i){console.warn(" Error invalidando queries despus de actualizar medicin:",i)}},onError:t=>{console.error(" Error actualizando medicin:",t)}})},i4=()=>{const s=_t();return ta({mutationFn:async t=>{var o;console.log(` Eliminando medicin ${t}`);let n;(o=be==null?void 0:be.mediciones)!=null&&o.delete?n=be.mediciones.delete(t):(n=`/mediciones/${t}/`,console.warn(" endpoints.mediciones.delete no disponible, usando URL manual"));const i=await Bt.delete(n);return console.log(` Medicin ${t} eliminada`),i},onSuccess:(t,n)=>{console.log(" Medicin eliminada exitosamente");try{s.invalidateQueries({queryKey:[H.mediciones]})}catch(i){console.warn(" Error invalidando queries despus de eliminar medicin:",i)}},onError:t=>{console.error(" Error eliminando medicin:",t)}})},Xl=(s,t={})=>Fl({queryKey:H.lectura.listByMedicion(s,t),queryFn:async()=>{const n=be.lecturas.getByMedicion(s),i=t&&Object.keys(t).length>0?`${n}?${new URLSearchParams(t)}`:n;return await Bt.get(i)},enabled:!!s,staleTime:Jt.SHORT,cacheTime:Jt.MEDIUM,refetchOnWindowFocus:!1,onError:n=>{console.error(`Error obteniendo lecturas de la medicin ${s}:`,n)}}),l4=()=>{const s=_t();return ta({mutationFn:async t=>await Bt.post(be.lecturas.create(),t),onSuccess:t=>{t.medicion_id&&s.invalidateQueries({queryKey:H.lectura.listByMedicion(t.medicion_id)}),t.estacion_id&&s.invalidateQueries({queryKey:H.lectura.byEstacion(t.estacion_id)}),s.setQueryData(H.lectura.detail(t.id),t),console.log(`Lectura creada: ${t.posicion}m - ${t.lectura_mira}m`)},onError:t=>{console.error("Error creando lectura:",t)}})},o4=()=>{const s=_t();return ta({mutationFn:async({lecturaId:t,datosActualizados:n})=>await Bt.put(be.lecturas.update(t),n),onMutate:async({lecturaId:t,datosActualizados:n})=>{await s.cancelQueries({queryKey:H.lectura.detail(t)});const i=s.getQueryData(H.lectura.detail(t));return s.setQueryData(H.lectura.detail(t),o=>({...o,...n,fecha_actualizacion:new Date().toISOString()})),{previousLectura:i,lecturaId:t}},onError:(t,n,i)=>{i!=null&&i.previousLectura&&s.setQueryData(H.lectura.detail(i.lecturaId),i.previousLectura)},onSettled:(t,n,{lecturaId:i})=>{s.invalidateQueries({queryKey:H.lectura.detail(i)}),t!=null&&t.medicion_id&&s.invalidateQueries({queryKey:H.lectura.listByMedicion(t.medicion_id)})}})};function zc(s){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(s)}function ln(s){if(s===null||s===!0||s===!1)return NaN;var t=Number(s);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Dt(s,t){if(t.length<s)throw new TypeError(s+" argument"+(s>1?"s":"")+" required, but only "+t.length+" present")}function Va(s){Dt(1,arguments);var t=Object.prototype.toString.call(s);return s instanceof Date||zc(s)==="object"&&t==="[object Date]"?new Date(s.getTime()):typeof s=="number"||t==="[object Number]"?new Date(s):((typeof s=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function c4(s,t){Dt(2,arguments);var n=Va(s).getTime(),i=ln(t);return new Date(n+i)}var u4={};function Zc(){return u4}function d4(s){var t=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return t.setUTCFullYear(s.getFullYear()),s.getTime()-t.getTime()}var Sy=6e4,Cy=36e5;function h4(s){return Dt(1,arguments),s instanceof Date||zc(s)==="object"&&Object.prototype.toString.call(s)==="[object Date]"}function f4(s){if(Dt(1,arguments),!h4(s)&&typeof s!="number")return!1;var t=Va(s);return!isNaN(Number(t))}function m4(s,t){Dt(2,arguments);var n=ln(t);return c4(s,-n)}var g4=864e5;function p4(s){Dt(1,arguments);var t=Va(s),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=t.getTime(),o=n-i;return Math.floor(o/g4)+1}function qc(s){Dt(1,arguments);var t=1,n=Va(s),i=n.getUTCDay(),o=(i<t?7:0)+i-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function Ty(s){Dt(1,arguments);var t=Va(s),n=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var o=qc(i),u=new Date(0);u.setUTCFullYear(n,0,4),u.setUTCHours(0,0,0,0);var h=qc(u);return t.getTime()>=o.getTime()?n+1:t.getTime()>=h.getTime()?n:n-1}function x4(s){Dt(1,arguments);var t=Ty(s),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var i=qc(n);return i}var v4=6048e5;function y4(s){Dt(1,arguments);var t=Va(s),n=qc(t).getTime()-x4(t).getTime();return Math.round(n/v4)+1}function $c(s,t){var n,i,o,u,h,p,g,m;Dt(1,arguments);var x=Zc(),b=ln((n=(i=(o=(u=t==null?void 0:t.weekStartsOn)!==null&&u!==void 0?u:t==null||(h=t.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&o!==void 0?o:x.weekStartsOn)!==null&&i!==void 0?i:(g=x.locale)===null||g===void 0||(m=g.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&n!==void 0?n:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Va(s),_=v.getUTCDay(),w=(_<b?7:0)+_-b;return v.setUTCDate(v.getUTCDate()-w),v.setUTCHours(0,0,0,0),v}function Ay(s,t){var n,i,o,u,h,p,g,m;Dt(1,arguments);var x=Va(s),b=x.getUTCFullYear(),v=Zc(),_=ln((n=(i=(o=(u=t==null?void 0:t.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(h=t.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:v.firstWeekContainsDate)!==null&&i!==void 0?i:(g=v.locale)===null||g===void 0||(m=g.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(b+1,0,_),w.setUTCHours(0,0,0,0);var S=$c(w,t),j=new Date(0);j.setUTCFullYear(b,0,_),j.setUTCHours(0,0,0,0);var A=$c(j,t);return x.getTime()>=S.getTime()?b+1:x.getTime()>=A.getTime()?b:b-1}function b4(s,t){var n,i,o,u,h,p,g,m;Dt(1,arguments);var x=Zc(),b=ln((n=(i=(o=(u=t==null?void 0:t.firstWeekContainsDate)!==null&&u!==void 0?u:t==null||(h=t.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:x.firstWeekContainsDate)!==null&&i!==void 0?i:(g=x.locale)===null||g===void 0||(m=g.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&n!==void 0?n:1),v=Ay(s,t),_=new Date(0);_.setUTCFullYear(v,0,b),_.setUTCHours(0,0,0,0);var w=$c(_,t);return w}var j4=6048e5;function w4(s,t){Dt(1,arguments);var n=Va(s),i=$c(n,t).getTime()-b4(n,t).getTime();return Math.round(i/j4)+1}function Xe(s,t){for(var n=s<0?"-":"",i=Math.abs(s).toString();i.length<t;)i="0"+i;return n+i}var Qs={y:function(t,n){var i=t.getUTCFullYear(),o=i>0?i:1-i;return Xe(n==="yy"?o%100:o,n.length)},M:function(t,n){var i=t.getUTCMonth();return n==="M"?String(i+1):Xe(i+1,2)},d:function(t,n){return Xe(t.getUTCDate(),n.length)},a:function(t,n){var i=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(t,n){return Xe(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Xe(t.getUTCHours(),n.length)},m:function(t,n){return Xe(t.getUTCMinutes(),n.length)},s:function(t,n){return Xe(t.getUTCSeconds(),n.length)},S:function(t,n){var i=n.length,o=t.getUTCMilliseconds(),u=Math.floor(o*Math.pow(10,i-3));return Xe(u,n.length)}},Gr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},N4={G:function(t,n,i){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return i.era(o,{width:"abbreviated"});case"GGGGG":return i.era(o,{width:"narrow"});case"GGGG":default:return i.era(o,{width:"wide"})}},y:function(t,n,i){if(n==="yo"){var o=t.getUTCFullYear(),u=o>0?o:1-o;return i.ordinalNumber(u,{unit:"year"})}return Qs.y(t,n)},Y:function(t,n,i,o){var u=Ay(t,o),h=u>0?u:1-u;if(n==="YY"){var p=h%100;return Xe(p,2)}return n==="Yo"?i.ordinalNumber(h,{unit:"year"}):Xe(h,n.length)},R:function(t,n){var i=Ty(t);return Xe(i,n.length)},u:function(t,n){var i=t.getUTCFullYear();return Xe(i,n.length)},Q:function(t,n,i){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return Xe(o,2);case"Qo":return i.ordinalNumber(o,{unit:"quarter"});case"QQQ":return i.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,i){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return Xe(o,2);case"qo":return i.ordinalNumber(o,{unit:"quarter"});case"qqq":return i.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,i){var o=t.getUTCMonth();switch(n){case"M":case"MM":return Qs.M(t,n);case"Mo":return i.ordinalNumber(o+1,{unit:"month"});case"MMM":return i.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,i){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return Xe(o+1,2);case"Lo":return i.ordinalNumber(o+1,{unit:"month"});case"LLL":return i.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,i,o){var u=w4(t,o);return n==="wo"?i.ordinalNumber(u,{unit:"week"}):Xe(u,n.length)},I:function(t,n,i){var o=y4(t);return n==="Io"?i.ordinalNumber(o,{unit:"week"}):Xe(o,n.length)},d:function(t,n,i){return n==="do"?i.ordinalNumber(t.getUTCDate(),{unit:"date"}):Qs.d(t,n)},D:function(t,n,i){var o=p4(t);return n==="Do"?i.ordinalNumber(o,{unit:"dayOfYear"}):Xe(o,n.length)},E:function(t,n,i){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return i.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(o,{width:"short",context:"formatting"});case"EEEE":default:return i.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,i,o){var u=t.getUTCDay(),h=(u-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(h);case"ee":return Xe(h,2);case"eo":return i.ordinalNumber(h,{unit:"day"});case"eee":return i.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(u,{width:"short",context:"formatting"});case"eeee":default:return i.day(u,{width:"wide",context:"formatting"})}},c:function(t,n,i,o){var u=t.getUTCDay(),h=(u-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(h);case"cc":return Xe(h,n.length);case"co":return i.ordinalNumber(h,{unit:"day"});case"ccc":return i.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(u,{width:"narrow",context:"standalone"});case"cccccc":return i.day(u,{width:"short",context:"standalone"});case"cccc":default:return i.day(u,{width:"wide",context:"standalone"})}},i:function(t,n,i){var o=t.getUTCDay(),u=o===0?7:o;switch(n){case"i":return String(u);case"ii":return Xe(u,n.length);case"io":return i.ordinalNumber(u,{unit:"day"});case"iii":return i.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(o,{width:"short",context:"formatting"});case"iiii":default:return i.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,i){var o=t.getUTCHours(),u=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(u,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(t,n,i){var o=t.getUTCHours(),u;switch(o===12?u=Gr.noon:o===0?u=Gr.midnight:u=o/12>=1?"pm":"am",n){case"b":case"bb":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(u,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(t,n,i){var o=t.getUTCHours(),u;switch(o>=17?u=Gr.evening:o>=12?u=Gr.afternoon:o>=4?u=Gr.morning:u=Gr.night,n){case"B":case"BB":case"BBB":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(u,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(t,n,i){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),i.ordinalNumber(o,{unit:"hour"})}return Qs.h(t,n)},H:function(t,n,i){return n==="Ho"?i.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Qs.H(t,n)},K:function(t,n,i){var o=t.getUTCHours()%12;return n==="Ko"?i.ordinalNumber(o,{unit:"hour"}):Xe(o,n.length)},k:function(t,n,i){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?i.ordinalNumber(o,{unit:"hour"}):Xe(o,n.length)},m:function(t,n,i){return n==="mo"?i.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Qs.m(t,n)},s:function(t,n,i){return n==="so"?i.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Qs.s(t,n)},S:function(t,n){return Qs.S(t,n)},X:function(t,n,i,o){var u=o._originalDate||t,h=u.getTimezoneOffset();if(h===0)return"Z";switch(n){case"X":return Bx(h);case"XXXX":case"XX":return An(h);case"XXXXX":case"XXX":default:return An(h,":")}},x:function(t,n,i,o){var u=o._originalDate||t,h=u.getTimezoneOffset();switch(n){case"x":return Bx(h);case"xxxx":case"xx":return An(h);case"xxxxx":case"xxx":default:return An(h,":")}},O:function(t,n,i,o){var u=o._originalDate||t,h=u.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+$x(h,":");case"OOOO":default:return"GMT"+An(h,":")}},z:function(t,n,i,o){var u=o._originalDate||t,h=u.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+$x(h,":");case"zzzz":default:return"GMT"+An(h,":")}},t:function(t,n,i,o){var u=o._originalDate||t,h=Math.floor(u.getTime()/1e3);return Xe(h,n.length)},T:function(t,n,i,o){var u=o._originalDate||t,h=u.getTime();return Xe(h,n.length)}};function $x(s,t){var n=s>0?"-":"+",i=Math.abs(s),o=Math.floor(i/60),u=i%60;if(u===0)return n+String(o);var h=t;return n+String(o)+h+Xe(u,2)}function Bx(s,t){if(s%60===0){var n=s>0?"-":"+";return n+Xe(Math.abs(s)/60,2)}return An(s,t)}function An(s,t){var n=t||"",i=s>0?"-":"+",o=Math.abs(s),u=Xe(Math.floor(o/60),2),h=Xe(o%60,2);return i+u+n+h}var Hx=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},ky=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},_4=function(t,n){var i=t.match(/(P+)(p+)?/)||[],o=i[1],u=i[2];if(!u)return Hx(t,n);var h;switch(o){case"P":h=n.dateTime({width:"short"});break;case"PP":h=n.dateTime({width:"medium"});break;case"PPP":h=n.dateTime({width:"long"});break;case"PPPP":default:h=n.dateTime({width:"full"});break}return h.replace("{{date}}",Hx(o,n)).replace("{{time}}",ky(u,n))},E4={p:ky,P:_4},S4=["D","DD"],C4=["YY","YYYY"];function T4(s){return S4.indexOf(s)!==-1}function A4(s){return C4.indexOf(s)!==-1}function Fx(s,t,n){if(s==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var k4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},R4=function(t,n,i){var o,u=k4[t];return typeof u=="string"?o=u:n===1?o=u.one:o=u.other.replace("{{count}}",n.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+o:o+" ago":o};function Xr(s){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):s.defaultWidth,i=s.formats[n]||s.formats[s.defaultWidth];return i}}var O4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},M4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},D4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},L4={date:Xr({formats:O4,defaultWidth:"full"}),time:Xr({formats:M4,defaultWidth:"full"}),dateTime:Xr({formats:D4,defaultWidth:"full"})},U4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},P4=function(t,n,i,o){return U4[t]};function Qa(s){return function(t,n){var i=n!=null&&n.context?String(n.context):"standalone",o;if(i==="formatting"&&s.formattingValues){var u=s.defaultFormattingWidth||s.defaultWidth,h=n!=null&&n.width?String(n.width):u;o=s.formattingValues[h]||s.formattingValues[u]}else{var p=s.defaultWidth,g=n!=null&&n.width?String(n.width):s.defaultWidth;o=s.values[g]||s.values[p]}var m=s.argumentCallback?s.argumentCallback(t):t;return o[m]}}var z4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},q4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},B4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},F4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Q4=function(t,n){var i=Number(t),o=i%100;if(o>20||o<10)switch(o%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},G4={ordinalNumber:Q4,era:Qa({values:z4,defaultWidth:"wide"}),quarter:Qa({values:q4,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Qa({values:$4,defaultWidth:"wide"}),day:Qa({values:B4,defaultWidth:"wide"}),dayPeriod:Qa({values:H4,defaultWidth:"wide",formattingValues:F4,defaultFormattingWidth:"wide"})};function Ga(s){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.width,o=i&&s.matchPatterns[i]||s.matchPatterns[s.defaultMatchWidth],u=t.match(o);if(!u)return null;var h=u[0],p=i&&s.parsePatterns[i]||s.parsePatterns[s.defaultParseWidth],g=Array.isArray(p)?K4(p,function(b){return b.test(h)}):V4(p,function(b){return b.test(h)}),m;m=s.valueCallback?s.valueCallback(g):g,m=n.valueCallback?n.valueCallback(m):m;var x=t.slice(h.length);return{value:m,rest:x}}}function V4(s,t){for(var n in s)if(s.hasOwnProperty(n)&&t(s[n]))return n}function K4(s,t){for(var n=0;n<s.length;n++)if(t(s[n]))return n}function Ry(s){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.match(s.matchPattern);if(!i)return null;var o=i[0],u=t.match(s.parsePattern);if(!u)return null;var h=s.valueCallback?s.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;var p=t.slice(o.length);return{value:h,rest:p}}}var Y4=/^(\d+)(th|st|nd|rd)?/i,X4=/\d+/i,I4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J4={any:[/^b/i,/^(a|c)/i]},Z4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W4={any:[/1/i,/2/i,/3/i,/4/i]},eC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iC={ordinalNumber:Ry({matchPattern:Y4,parsePattern:X4,valueCallback:function(t){return parseInt(t,10)}}),era:Ga({matchPatterns:I4,defaultMatchWidth:"wide",parsePatterns:J4,defaultParseWidth:"any"}),quarter:Ga({matchPatterns:Z4,defaultMatchWidth:"wide",parsePatterns:W4,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ga({matchPatterns:eC,defaultMatchWidth:"wide",parsePatterns:tC,defaultParseWidth:"any"}),day:Ga({matchPatterns:aC,defaultMatchWidth:"wide",parsePatterns:sC,defaultParseWidth:"any"}),dayPeriod:Ga({matchPatterns:nC,defaultMatchWidth:"any",parsePatterns:rC,defaultParseWidth:"any"})},lC={code:"en-US",formatDistance:R4,formatLong:L4,formatRelative:P4,localize:G4,match:iC,options:{weekStartsOn:0,firstWeekContainsDate:1}},oC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uC=/^'([^]*?)'?$/,dC=/''/g,hC=/[a-zA-Z]/;function fC(s,t,n){var i,o,u,h,p,g,m,x,b,v,_,w,S,j,A,O,E,k;Dt(2,arguments);var T=String(t),L=Zc(),$=(i=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:L.locale)!==null&&i!==void 0?i:lC,I=ln((u=(h=(p=(g=n==null?void 0:n.firstWeekContainsDate)!==null&&g!==void 0?g:n==null||(m=n.locale)===null||m===void 0||(x=m.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&p!==void 0?p:L.firstWeekContainsDate)!==null&&h!==void 0?h:(b=L.locale)===null||b===void 0||(v=b.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&u!==void 0?u:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Q=ln((_=(w=(S=(j=n==null?void 0:n.weekStartsOn)!==null&&j!==void 0?j:n==null||(A=n.locale)===null||A===void 0||(O=A.options)===null||O===void 0?void 0:O.weekStartsOn)!==null&&S!==void 0?S:L.weekStartsOn)!==null&&w!==void 0?w:(E=L.locale)===null||E===void 0||(k=E.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&_!==void 0?_:0);if(!(Q>=0&&Q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!$.localize)throw new RangeError("locale must contain localize property");if(!$.formatLong)throw new RangeError("locale must contain formatLong property");var ue=Va(s);if(!f4(ue))throw new RangeError("Invalid time value");var xe=d4(ue),pe=m4(ue,xe),ke={firstWeekContainsDate:I,weekStartsOn:Q,locale:$,_originalDate:ue},K=T.match(cC).map(function(re){var M=re[0];if(M==="p"||M==="P"){var X=E4[M];return X(re,$.formatLong)}return re}).join("").match(oC).map(function(re){if(re==="''")return"'";var M=re[0];if(M==="'")return mC(re);var X=N4[M];if(X)return!(n!=null&&n.useAdditionalWeekYearTokens)&&A4(re)&&Fx(re,t,String(s)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&T4(re)&&Fx(re,t,String(s)),X(pe,re,$.localize,ke);if(M.match(hC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return re}).join("");return K}function mC(s){var t=s.match(uC);return t?t[1].replace(dC,"'"):s}function gC(s,t){var n;Dt(1,arguments);var i=ln((n=void 0)!==null&&n!==void 0?n:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof s=="string"||Object.prototype.toString.call(s)==="[object String]"))return new Date(NaN);var o=yC(s),u;if(o.date){var h=bC(o.date,i);u=jC(h.restDateString,h.year)}if(!u||isNaN(u.getTime()))return new Date(NaN);var p=u.getTime(),g=0,m;if(o.time&&(g=wC(o.time),isNaN(g)))return new Date(NaN);if(o.timezone){if(m=NC(o.timezone),isNaN(m))return new Date(NaN)}else{var x=new Date(p+g),b=new Date(0);return b.setFullYear(x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()),b.setHours(x.getUTCHours(),x.getUTCMinutes(),x.getUTCSeconds(),x.getUTCMilliseconds()),b}return new Date(p+g+m)}var bc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},pC=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,xC=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,vC=/^([+-])(\d{2})(?::?(\d{2}))?$/;function yC(s){var t={},n=s.split(bc.dateTimeDelimiter),i;if(n.length>2)return t;if(/:/.test(n[0])?i=n[0]:(t.date=n[0],i=n[1],bc.timeZoneDelimiter.test(t.date)&&(t.date=s.split(bc.timeZoneDelimiter)[0],i=s.substr(t.date.length,s.length))),i){var o=bc.timezone.exec(i);o?(t.time=i.replace(o[1],""),t.timezone=o[1]):t.time=i}return t}function bC(s,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=s.match(n);if(!i)return{year:NaN,restDateString:""};var o=i[1]?parseInt(i[1]):null,u=i[2]?parseInt(i[2]):null;return{year:u===null?o:u*100,restDateString:s.slice((i[1]||i[2]).length)}}function jC(s,t){if(t===null)return new Date(NaN);var n=s.match(pC);if(!n)return new Date(NaN);var i=!!n[4],o=_l(n[1]),u=_l(n[2])-1,h=_l(n[3]),p=_l(n[4]),g=_l(n[5])-1;if(i)return TC(t,p,g)?_C(t,p,g):new Date(NaN);var m=new Date(0);return!SC(t,u,h)||!CC(t,o)?new Date(NaN):(m.setUTCFullYear(t,u,Math.max(o,h)),m)}function _l(s){return s?parseInt(s):1}function wC(s){var t=s.match(xC);if(!t)return NaN;var n=Oh(t[1]),i=Oh(t[2]),o=Oh(t[3]);return AC(n,i,o)?n*Cy+i*Sy+o*1e3:NaN}function Oh(s){return s&&parseFloat(s.replace(",","."))||0}function NC(s){if(s==="Z")return 0;var t=s.match(vC);if(!t)return 0;var n=t[1]==="+"?-1:1,i=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return kC(i,o)?n*(i*Cy+o*Sy):NaN}function _C(s,t,n){var i=new Date(0);i.setUTCFullYear(s,0,4);var o=i.getUTCDay()||7,u=(t-1)*7+n+1-o;return i.setUTCDate(i.getUTCDate()+u),i}var EC=[31,null,31,30,31,30,31,31,30,31,30,31];function Oy(s){return s%400===0||s%4===0&&s%100!==0}function SC(s,t,n){return t>=0&&t<=11&&n>=1&&n<=(EC[t]||(Oy(s)?29:28))}function CC(s,t){return t>=1&&t<=(Oy(s)?366:365)}function TC(s,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function AC(s,t,n){return s===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&s>=0&&s<25}function kC(s,t){return t>=0&&t<=59}var RC={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},OC=function(t,n,i){var o,u=RC[t];return typeof u=="string"?o=u:n===1?o=u.one:o=u.other.replace("{{count}}",n.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"en "+o:"hace "+o:o},MC={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},DC={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},LC={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UC={date:Xr({formats:MC,defaultWidth:"full"}),time:Xr({formats:DC,defaultWidth:"full"}),dateTime:Xr({formats:LC,defaultWidth:"full"})},PC={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},zC={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},qC=function(t,n,i,o){return n.getUTCHours()!==1?zC[t]:PC[t]},$C={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},BC={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},HC={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},FC={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},QC={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},GC={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},VC=function(t,n){var i=Number(t);return i+""},KC={ordinalNumber:VC,era:Qa({values:$C,defaultWidth:"wide"}),quarter:Qa({values:BC,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:Qa({values:HC,defaultWidth:"wide"}),day:Qa({values:FC,defaultWidth:"wide"}),dayPeriod:Qa({values:QC,defaultWidth:"wide",formattingValues:GC,defaultFormattingWidth:"wide"})},YC=/^(\d+)()?/i,XC=/\d+/i,IC={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},JC={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},ZC={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},WC={any:[/1/i,/2/i,/3/i,/4/i]},eT={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},tT={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},aT={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},sT={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},nT={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},rT={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},iT={ordinalNumber:Ry({matchPattern:YC,parsePattern:XC,valueCallback:function(t){return parseInt(t,10)}}),era:Ga({matchPatterns:IC,defaultMatchWidth:"wide",parsePatterns:JC,defaultParseWidth:"any"}),quarter:Ga({matchPatterns:ZC,defaultMatchWidth:"wide",parsePatterns:WC,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ga({matchPatterns:eT,defaultMatchWidth:"wide",parsePatterns:tT,defaultParseWidth:"any"}),day:Ga({matchPatterns:aT,defaultMatchWidth:"wide",parsePatterns:sT,defaultParseWidth:"any"}),dayPeriod:Ga({matchPatterns:nT,defaultMatchWidth:"any",parsePatterns:rT,defaultParseWidth:"any"})},lT={code:"es",formatDistance:OC,formatLong:UC,formatRelative:qC,localize:KC,match:iT,options:{weekStartsOn:1,firstWeekContainsDate:1}};const oT=(s,t=0)=>{if(typeof s=="number"&&!isNaN(s))return s;if(typeof s=="string"){const n=s.trim();if(n==="")return t;const i=parseFloat(n);if(!isNaN(i))return i}return t},cT=(s,t=2,n="--")=>{const i=oT(s,null);return i!=null?i.toFixed(t):n},fe=(s,t=2)=>cT(s,t,"-"),uT=s=>{if(!s)return null;try{return s instanceof Date?s:typeof s=="string"?gC(s):typeof s=="number"?new Date(s):null}catch(t){return console.warn("Error parseando fecha:",t),null}},dT=(s,t={})=>{const{locale:n=lT,formatString:i=Yr==null?void 0:Yr.DATE,defaultDisplay:o="Fecha no disponible"}=t,u=uT(s);if(!u||isNaN(u.getTime()))return o;try{return fC(u,i,{locale:n})}catch(h){return console.warn("Error formateando fecha:",h),o}},My=s=>dT(s,{formatString:Yr==null?void 0:Yr.DATE,defaultDisplay:"-"}),hT=()=>{var k;const[s,t]=D.useState(!1),{user:n}=Df(),i=E_(),o=vs(),u=mi(),{proyectoSeleccionado:h,limpiarProyecto:p}=Vl(),{data:g=[]}=Yn(h==null?void 0:h.id,{enabled:!!(h!=null&&h.id)}),{data:m=[]}=Xn({proyecto_id:h==null?void 0:h.id,enabled:!!(h!=null&&h.id)}),x=Array.isArray(m)?m:[],b=[...Array.from({length:Math.max(20,x.length)},(T,L)=>{const $=x[L];return Xl(($==null?void 0:$.id)||null,{},{enabled:!!($!=null&&$.id)})})],v=D.useMemo(()=>b.slice(0,x.length).map(T=>(T==null?void 0:T.data)||[]).flat().filter(T=>T&&T.elv_base_real!==null),[b,x.length]),_=D.useMemo(()=>{if(!h||v.length===0)return{total:0,criticas:0,advertencias:0};let T=[];return v.forEach(L=>{const $=Math.abs(L.elv_base_real-L.elv_base_proyecto);if($>h.tolerancia_sct){let I="advertencia";$>h.tolerancia_sct*3&&(I="critica"),T.push({severidad:I,tipo:"tolerancia"})}L.calidad==="REVISAR"?T.push({severidad:"critica",tipo:"calidad"}):L.calidad==="REGULAR"&&T.push({severidad:"advertencia",tipo:"calidad"})}),x.forEach((L,$)=>{var Q;(((Q=b[$])==null?void 0:Q.data)||[]).length===0&&T.push({severidad:"critica",tipo:"sin_lecturas"})}),{total:T.length,criticas:T.filter(L=>L.severidad==="critica").length,advertencias:T.filter(L=>L.severidad==="advertencia").length}},[h,v,x,b]),w=D.useMemo(()=>{if(!h||!g.length)return null;const T=g.length,L=new Set(x.map(K=>K.estacion_km)).size,$=L/T*100,I=v.filter(K=>K.elv_base_real!==null&&K.elv_base_proyecto!==null),Q=I.filter(K=>Math.abs(K.elv_base_real-K.elv_base_proyecto)<=h.tolerancia_sct).length,ue=I.length>0?Q/I.length*100:0,xe=v.filter(K=>K.calidad==="EXCELENTE").length,pe=v.filter(K=>K.calidad==="BUENA").length,ke=v.length>0?(xe+pe)/v.length*100:0;return{progresoPorcentaje:$,estacionesMedidas:L,totalEstacionesReales:T,porcentajeTolerancia:ue,calidadGeneral:ke,totalLecturas:v.length}},[h,g,x,v]),S=[{id:"proyectos",name:"Proyectos",icon:wy,href:"/proyectos"},{id:"dashboard",name:"Dashboard",icon:RS,href:"/",requiresProject:!0},{id:"diseo",name:"Datos Diseo",icon:Rl,href:"/datos-diseno",requiresProject:!0},{id:"campo",name:"Campo",icon:PS,href:"/campo",requiresProject:!0},{id:"configuracion",name:"Configuracin",icon:VS,href:"/configuracion",requiresProject:!0},{id:"alertas",name:"Alertas",icon:gs,href:"/alertas",requiresProject:!0},{id:"analisis",name:"Anlisis",icon:CS,href:"/analisis",requiresProject:!0},{id:"reportes",name:"Reportes",icon:Rl,href:"/reportes",requiresProject:!0}],j=()=>{i.mutate()},A=()=>{u("/proyectos")},O=T=>T==="/"?o.pathname==="/":o.pathname.startsWith(T),E=()=>{t(!s)};return l.jsxs("div",{className:"h-screen bg-gray-50 flex relative overflow-hidden",children:[!s&&l.jsx("div",{className:"fixed inset-0 z-40 md:hidden backdrop-blur-sm bg-black/20",onClick:E,style:{backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"}}),l.jsxs("div",{className:`${s?"w-0 md:w-16":"w-64 md:w-72"} bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ease-in-out z-50 h-screen overflow-hidden ${s?"fixed md:relative -translate-x-full md:translate-x-0":"fixed md:relative translate-x-0"}`,children:[l.jsx("button",{onClick:E,className:"absolute -right-10 top-4 md:hidden bg-white border border-gray-200 rounded-full p-2 shadow-lg z-50","aria-label":s?"Abrir men":"Cerrar men",children:s?l.jsx(Rh,{className:"w-5 h-5 text-gray-700"}):l.jsx(Pc,{className:"w-5 h-5 text-gray-700"})}),l.jsxs("div",{className:"p-3 md:p-4 border-b border-gray-200 flex items-center justify-between flex-shrink-0",children:[!s&&l.jsx("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:l.jsxs("div",{className:"flex flex-col items-start w-full",children:[l.jsx("img",{src:"/CemexLogo.webp",alt:"CEMEX Logo",className:"w-24 md:w-28 h-6 md:h-8 rounded-lg bg-white object-contain"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sistema de topografa avanzado"})]})}),s&&l.jsx("div",{className:"w-full flex justify-center"}),l.jsx("button",{onClick:E,className:"hidden md:block p-1 rounded hover:bg-gray-100 flex-shrink-0","aria-label":s?"Expandir men":"Colapsar men",children:s?l.jsx(Rh,{className:"w-5 h-5"}):l.jsx(Pc,{className:"w-5 h-5"})})]}),h&&!s&&l.jsxs("div",{className:"border-b border-gray-200 flex-shrink-0",children:[l.jsx("div",{className:"p-3 md:p-4 bg-gray-50",children:l.jsxs("div",{className:"flex items-start justify-between min-w-0",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate",children:"Proyecto Activo"}),l.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:h.nombre}),l.jsxs("p",{className:"text-xs text-gray-600 truncate",children:["KM ",Math.floor(h.km_inicial/1e3),"+",String(h.km_inicial%1e3).padStart(3,"0")," - ",Math.floor(h.km_final/1e3),"+",String(h.km_final%1e3).padStart(3,"0")]}),l.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[h.tramo,", Cuerpo ",h.cuerpo]})]}),l.jsx("button",{onClick:A,className:"text-xs text-[#0404b8] hover:text-blue-800 underline flex-shrink-0 ml-2",children:"Cambiar"})]})}),w&&l.jsxs("div",{className:"p-3 md:p-4 bg-white space-y-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-xs font-medium text-gray-700 flex items-center gap-1",children:[l.jsx(hS,{className:"w-3 h-3"}),"Progreso"]}),l.jsxs("span",{className:"text-xs text-gray-600",children:[w.estacionesMedidas,"/",w.totalEstacionesReales]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(w.progresoPorcentaje,100)}%`}})}),l.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[fe(w.progresoPorcentaje,1),"% completado"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded p-2",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(jS,{className:"w-3 h-3 text-green-600"}),l.jsx("span",{className:"text-green-800 font-medium",children:"Tolerancia SCT"})]}),l.jsxs("div",{className:"text-green-600 font-bold",children:[fe(w.porcentajeTolerancia,1),"%"]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(zf,{className:"w-3 h-3 text-blue-600"}),l.jsx("span",{className:"text-blue-800 font-medium",children:"Calidad"})]}),l.jsxs("div",{className:"text-blue-600 font-bold",children:[fe(w.calidadGeneral,1),"%"]})]})]}),l.jsxs("div",{className:"text-xs text-gray-600 text-center pt-1 border-t border-gray-100",children:[fe(w.totalLecturas,0)," lecturas procesadas"]})]})]}),h&&s&&l.jsx("div",{className:"p-2 bg-gray-50 border-b border-gray-200 flex-shrink-0",children:l.jsxs("div",{className:"w-8 h-8 bg-[#0404b8] rounded flex items-center justify-center mx-auto relative",children:[l.jsx("span",{className:"text-xs font-bold text-white",children:"P"}),w&&l.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white",children:l.jsx("div",{className:`w-full h-full rounded-full ${w.progresoPorcentaje>=80?"bg-green-500":w.progresoPorcentaje>=50?"bg-yellow-500":"bg-red-500"}`})})]})}),!h&&!s&&l.jsx("div",{className:"p-3 md:p-4 bg-yellow-50 border-b border-gray-200 flex-shrink-0",children:l.jsx("p",{className:"text-sm text-yellow-800",children:"Selecciona un proyecto para continuar"})}),!h&&s&&l.jsx("div",{className:"p-2 bg-yellow-50 border-b border-gray-200 flex-shrink-0",children:l.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded flex items-center justify-center mx-auto",children:l.jsx("span",{className:"text-xs font-bold text-white",children:"!"})})}),l.jsx("nav",{className:"flex-1 p-2 overflow-hidden",children:l.jsx("ul",{className:"space-y-1 h-full flex flex-col",children:S.map((T,L)=>{const $=T.icon,I=O(T.href),Q=T.requiresProject&&!h;return l.jsx("li",{className:"flex-shrink-0",children:Q?l.jsxs("div",{className:`w-full flex items-center ${s?"justify-center px-2":"space-x-3 px-3"} py-2.5 rounded-lg text-gray-400 cursor-not-allowed relative`,title:s?`${T.name} (Requiere proyecto)`:void 0,children:[l.jsx($,{className:"w-5 h-5 flex-shrink-0"}),!s&&l.jsx("span",{className:"font-medium text-sm truncate",children:T.name})]}):l.jsxs(ci,{to:T.href,className:`w-full flex items-center ${s?"justify-center px-2":"space-x-3 px-3"} py-2.5 rounded-lg text-left transition-colors relative ${I?"bg-[#0404b8] text-white":"text-gray-700 hover:bg-gray-100"}`,title:s?T.name:void 0,onClick:()=>{window.innerWidth<768&&t(!0)},children:[l.jsx($,{className:"w-5 h-5 flex-shrink-0"}),!s&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-medium text-sm truncate",children:T.name}),T.id==="alertas"&&h&&_.total>0&&l.jsx("span",{className:`ml-auto text-white text-xs px-2 py-1 rounded-full flex-shrink-0 ${_.criticas>0?"bg-red-500":"bg-yellow-500"}`,children:_.total})]}),s&&T.id==="alertas"&&h&&_.total>0&&l.jsx("span",{className:`absolute -top-1 -right-1 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center ${_.criticas>0?"bg-red-500":"bg-yellow-500"}`,children:_.total>99?"99+":_.total})]})},T.id)})})}),!s&&l.jsx("div",{className:"p-3 md:p-4 border-t border-gray-200 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center space-x-3 min-w-0",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Uc,{className:"w-5 h-5 text-blue-700"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((k=n==null?void 0:n.email)==null?void 0:k.split("@")[0])||"Usuario"}),l.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Conectado"})]}),l.jsx("button",{onClick:j,className:"p-2 text-gray-400 hover:text-red-600 transition-colors duration-200 flex-shrink-0",title:"Cerrar sesin",children:l.jsx(qx,{className:"w-4 h-4"})})]})}),s&&l.jsx("div",{className:"p-2 border-t border-gray-200 flex-shrink-0",children:l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Uc,{className:"w-5 h-5 text-blue-700"})}),l.jsx("button",{onClick:j,className:"p-2 text-gray-400 hover:text-red-600 transition-colors duration-200",title:"Cerrar sesin",children:l.jsx(qx,{className:"w-4 h-4"})})]})})]}),l.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden h-screen",children:[l.jsxs("div",{className:"md:hidden bg-white border-b border-gray-200 flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[l.jsx("button",{type:"button",className:"text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 p-2",onClick:E,children:l.jsx(Rh,{className:"h-6 w-6"})}),l.jsx("div",{className:"flex items-center",children:l.jsx("img",{src:"/CemexLogo.webp",alt:"CEMEX Logo",className:"w-20 h-6 object-contain"})}),l.jsx("div",{className:"w-10 h-10"})]}),h&&l.jsxs("div",{className:"bg-blue-50 border-b border-blue-200",children:[l.jsx("div",{className:"px-4 py-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-blue-900 truncate",children:h.nombre}),l.jsxs("p",{className:"text-xs text-blue-600 truncate",children:[h.tramo,", Cuerpo ",h.cuerpo]})]}),l.jsx("button",{onClick:A,className:"text-xs text-blue-600 hover:text-blue-800 underline flex-shrink-0 ml-2 p-1",children:"Cambiar"})]})}),w&&l.jsxs("div",{className:"px-4 pb-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[l.jsxs("span",{className:"text-blue-700 font-medium",children:["Progreso: ",fe(w.progresoPorcentaje,1),"%"]}),l.jsx("div",{className:"flex gap-3",children:_.total>0&&l.jsxs("span",{className:`px-2 py-1 rounded-full text-white text-xs ${_.criticas>0?"bg-red-500":"bg-yellow-500"}`,children:[_.total," alertas"]})})]}),l.jsx("div",{className:"w-full bg-blue-200 rounded-full h-1.5",children:l.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${Math.min(w.progresoPorcentaje,100)}%`}})})]})]})]}),l.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none bg-gray-50",children:l.jsx("div",{className:"py-4 md:py-6 h-full",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 h-full",children:l.jsx(tw,{})})})})]})]})},fT=(s={})=>Fl({queryKey:H.proyecto.list(s),queryFn:async()=>{const t=s&&Object.keys(s).length>0?`${be.proyectos.getAll()}?${new URLSearchParams(s)}`:be.proyectos.getAll();return await Bt.get(t)},staleTime:5*60*1e3,cacheTime:10*60*1e3,refetchOnWindowFocus:!1,retry:3,onError:t=>{console.error("Error obteniendo proyectos:",t)}}),mT=()=>{const s=_t();return ta({mutationFn:async t=>await Bt.post(be.proyectos.createCompleto(),t),onSuccess:t=>{s.invalidateQueries({queryKey:H.proyecto.lists()}),s.invalidateQueries({queryKey:H.estacion.lists()}),s.invalidateQueries({queryKey:["mis_proyectos"]}),s.setQueryData(H.proyecto.detail(t.id),t),console.log("Proyecto completo creado exitosamente:",t.id)},onError:t=>{console.error("Error creando proyecto completo:",t)}})},Dy=()=>{const s=_t();return ta({mutationFn:async({proyectoId:t,datosActualizados:n,parcial:i=!0})=>{const o=i?be.proyectos.patch(t):be.proyectos.update(t);return await Bt[i?"patch":"put"](o,n)},onSuccess:(t,n)=>{const{proyectoId:i}=n;s.setQueryData(H.proyecto.detail(i),t),s.invalidateQueries({queryKey:H.proyecto.lists()}),s.invalidateQueries({queryKey:["mis_proyectos"]}),console.log("Proyecto actualizado exitosamente:",i)},onError:(t,n)=>{console.error(`Error actualizando proyecto ${n.proyectoId}:`,t)}})},gT=()=>{const s=_t();return ta({mutationFn:async t=>await Bt.delete(be.proyectos.delete(t)),onSuccess:(t,n)=>{s.removeQueries({queryKey:H.proyecto.detail(n)}),Oc.invalidateProyecto(s,n),Oc.invalidateLists(s),s.invalidateQueries({queryKey:["mis_proyectos"]}),console.log("Proyecto eliminado exitosamente:",n)},onError:(t,n)=>{console.error(`Error eliminando proyecto ${n}:`,t)}})},pT=(s={})=>Fl({queryKey:["mis_proyectos",s],queryFn:async()=>{console.log(" Consultando vista mis_proyectos...");try{let t=$t.from("mis_proyectos").select("*").order("fecha_creacion",{ascending:!1});s.estado&&(t=t.eq("estado",s.estado)),s.nombre&&(t=t.ilike("nombre",`%${s.nombre}%`));const{data:n,error:i}=await t;if(i)throw console.error(" Error consultando mis_proyectos:",i),i;return console.log(" Proyectos obtenidos desde vista:",{cantidad:(n==null?void 0:n.length)||0,primerProyecto:n!=null&&n[0]?{id:n[0].id,nombre:n[0].nombre,estaciones_configuradas:n[0].estaciones_configuradas,estaciones_medidas:n[0].estaciones_medidas,total_lecturas:n[0].total_lecturas,porcentaje_cumplimiento:n[0].porcentaje_cumplimiento}:null}),n||[]}catch(t){throw console.error(" Error en useMisProyectos:",t),t}},staleTime:2*60*1e3,cacheTime:5*60*1e3,refetchOnWindowFocus:!1,onError:t=>{console.error(" Error obteniendo proyectos desde vista:",t)}}),In=()=>{const{proyectoSeleccionado:s,seleccionarProyecto:t,limpiarProyecto:n}=Vl(),i=!!s,o=m=>{if(!m)return"";const x=typeof m=="string"?parseFloat(m):m;return`${Math.floor(x/1e3)}+${String(x%1e3).padStart(3,"0")}`},u=s?`${o(s.km_inicial)} - ${o(s.km_final)}`:"",h=s?`${s.nombre} - ${s.tramo}, Cuerpo ${s.cuerpo||"N/A"}`:"";Zt.useEffect(()=>{},[s]);const p=s?{id:s.id,nombre:s.nombre,tramo:s.tramo||"N/A",cuerpo:s.cuerpo||"N/A",kmInicial:typeof s.km_inicial=="string"?parseFloat(s.km_inicial):s.km_inicial||0,kmFinal:typeof s.km_final=="string"?parseFloat(s.km_final):s.km_final||0,intervalo:typeof s.intervalo=="string"?parseFloat(s.intervalo):s.intervalo||5,espesor:typeof s.espesor=="string"?parseFloat(s.espesor):s.espesor||.25,toleranciaSct:typeof s.tolerancia_sct=="string"?parseFloat(s.tolerancia_sct):s.tolerancia_sct||.005,estado:s.estado||"CONFIGURACION",fechaCreacion:s.fecha_creacion,usuarioId:s.usuario_id,totalEstaciones:s.total_estaciones,longitudProyecto:s.longitud_proyecto,divisionesIzquierdas:s.divisiones_izquierdas??[],divisionesDerechas:s.divisiones_derechas??[]}:null,g=p?{longitudReal:p.kmFinal-p.kmInicial,estacionesTotalesCalculadas:Math.floor((p.kmFinal-p.kmInicial)/p.intervalo)+1,rangoKmFormateado:`${o(p.kmInicial)} - ${o(p.kmFinal)}`,toleranciaSctMm:(p.toleranciaSct*1e3).toFixed(1)}:null;return{proyecto:s,tieneProyecto:i,seleccionar:t,limpiar:n,rangoKM:u,descripcionCompleta:h,formatearKM:o,informacionProyecto:p,calculosProyecto:g,esProyectoCompleto:!!(s!=null&&s.cuerpo&&(s!=null&&s.intervalo)&&(s!=null&&s.espesor)),tieneEstacionesConfiguradas:!!(s!=null&&s.total_estaciones),debugInfo:null}},Qx=()=>{const{usuario:s}=Df(),{data:t,isLoading:n,error:i}=fT(),o=mi(),{proyecto:u,tieneProyecto:h,descripcionCompleta:p,rangoKM:g}=In(),m=(t==null?void 0:t.find($=>$.id===(u==null?void 0:u.id)))||u,{data:x,isLoading:b,error:v}=Yn(m==null?void 0:m.id),{data:_,isLoading:w,error:S}=Xn({proyecto_id:m==null?void 0:m.id});Zt.useEffect(()=>{if(m){console.group(" DEBUGGING COMPLETO - Dashboard con Datos Reales"),console.log(" PROYECTO COMPLETO:",m),console.log("- ID:",m.id),console.log("- Nombre:",m.nombre),console.log("- Tramo:",m.tramo),console.log("- Cuerpo:",m.cuerpo),console.log("- KM Inicial:",m.km_inicial),console.log("- KM Final:",m.km_final),console.log("- Intervalo:",m.intervalo),console.log("- Espesor:",m.espesor),console.log("- Tolerancia SCT:",m.tolerancia_sct),console.log("- Estado:",m.estado),console.log("- Fecha creacin:",m.fecha_creacion),console.log("- Usuario ID:",m.usuario_id);const $=["id","nombre","tramo","cuerpo","km_inicial","km_final","intervalo","espesor","tolerancia_sct","estado","fecha_creacion","usuario_id"],I=Object.keys(m).filter(pe=>!$.includes(pe));if(I.length>0&&(console.log("- Campos adicionales encontrados:",I),I.forEach(pe=>{console.log(`  * ${pe}:`,m[pe])})),console.log(" ESTACIONES:"),console.log("- Loading:",b),console.log("- Error:",v),console.log("- Cantidad total:",(x==null?void 0:x.length)||0),console.log("- Datos completos:",x),(x==null?void 0:x.length)>0){console.log("- Primera estacin (muestra):",x[0]);const pe=Object.keys(x[0]);console.log("- Campos disponibles en estaciones:",pe)}if(console.log(" MEDICIONES:"),console.log("- Loading:",w),console.log("- Error:",S),console.log("- Cantidad total:",(_==null?void 0:_.length)||0),console.log("- Datos completos:",_),(_==null?void 0:_.length)>0){console.log("- Primera medicin (muestra):",_[0]);const pe=Object.keys(_[0]);console.log("- Campos disponibles en mediciones:",pe)}const Q=Math.floor((m.km_final-m.km_inicial)/m.intervalo)+1,ue=(_==null?void 0:_.length)||0,xe=Q>0?Math.round(ue/Q*100):0;console.log(" CLCULOS BASADOS EN DATOS REALES:"),console.log("- Estaciones totales (calculadas):",Q),console.log("- Estaciones con mediciones:",ue),console.log("- Progreso real:",`${xe}%`),console.log("- Estaciones pendientes:",Q-ue),console.log(" ANLISIS DE ESTRUCTURA:"),console.log("- Context proyecto seleccionado:",u),console.log("- Proyecto desde lista:",t==null?void 0:t.find(pe=>pe.id===(u==null?void 0:u.id))),console.log("- Proyecto final usado:",m),console.log("- Tiene proyecto:",h),console.log("- Descripcin completa:",p),console.log("- Rango KM:",g),console.groupEnd()}},[m,x,_,b,w,v,S,u,t,h,p,g]);const j=Zt.useMemo(()=>{if(!m)return null;console.log(" Calculando estadsticas reales...");const $=Math.floor((m.km_final-m.km_inicial)/m.intervalo)+1,I=(_==null?void 0:_.length)||0,Q=(x==null?void 0:x.length)||0,ue=Q>0?Math.round(I/Q*100):0,xe=I;let pe="Sin datos",ke="Sin datos",K=0,re=0;if(_&&_.length>0){console.log(" Analizando mediciones para calcular mtricas reales...");const X=_.filter(ne=>ne.elevacion!==void 0);X.length>0&&console.log("- Mediciones con elevacin:",X.length)}const M={progreso:`${ue}%`,progresoNumerico:ue,completadas:xe,total:$,definidas:Q,desviacion:pe,volumen:ke,alertasCriticas:K,alertasWarning:re,raw:{estacionesTotales:$,estacionesConMediciones:I,estacionesDefinidas:Q,kmInicial:m.km_inicial,kmFinal:m.km_final,intervalo:m.intervalo}};return console.log(" Estadsticas calculadas:",M),M},[m,x,_]),A=Zt.useMemo(()=>{if(!m||!_)return[];console.log(" Generando alertas basadas en datos reales...");const $=[];if(_.length===0&&$.push({id:"no-mediciones",station:`Proyecto ${m.nombre}`,message:"No hay mediciones registradas",type:"warning",time:"N/A"}),x&&_&&x.length>_.length){const I=x.length-_.length;$.push({id:"pendientes",station:`${I} estaciones`,message:"Mediciones pendientes",type:"info",time:"Continuo"})}return console.log(" Alertas generadas:",$),$},[m,_,x]),O=()=>o("/analisis"),E=()=>o("/campo"),k=()=>o("/reportes"),T=()=>o("/alertas"),L=()=>o("/proyectos");return n?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:l.jsxs("div",{className:"animate-pulse space-y-6",children:[l.jsx("div",{className:"h-8 bg-slate-200 rounded-lg w-1/3"}),l.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[l.jsx("div",{className:"col-span-12 lg:col-span-6 bg-slate-200 h-64 rounded-2xl"}),l.jsx("div",{className:"col-span-12 sm:col-span-6 lg:col-span-3 bg-slate-200 h-64 rounded-2xl"}),l.jsx("div",{className:"col-span-12 sm:col-span-6 lg:col-span-3 bg-slate-200 h-64 rounded-2xl"})]})]})}):i?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:l.jsx("div",{className:"max-w-md mx-auto mt-20",children:l.jsxs("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-200 rounded-2xl p-6 shadow-lg",children:[l.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Error al cargar datos"}),l.jsx("p",{className:"text-red-600",children:i.message})]})})}):h?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Dashboard"}),l.jsx("p",{className:"text-slate-600",children:p}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Rango: KM ",g]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),l.jsx("span",{className:"text-sm text-slate-600",children:"Sistema Activo"})]})]}),!1]}),l.jsxs("div",{className:"grid grid-cols-12 gap-6 mb-8",children:[l.jsx("div",{className:"col-span-12 lg:col-span-8",children:l.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 rounded-2xl p-8 text-white shadow-xl border border-blue-500/20 transform hover:scale-[1.01] transition-all duration-300",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("div",{className:"bg-white/15 backdrop-blur-sm rounded-xl p-3",children:l.jsx(zf,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[w?l.jsx("div",{className:"w-24 h-12 bg-white/10 rounded-lg animate-pulse"}):l.jsxs("div",{className:"text-5xl font-bold mb-1",children:[(j==null?void 0:j.progresoNumerico)||0,"%"]}),l.jsx("div",{className:"text-blue-100 text-sm",children:"Completado"})]})]}),l.jsx("h3",{className:"text-2xl font-semibold mb-3",children:"Progreso del Proyecto"}),l.jsxs("p",{className:"text-blue-100 mb-6 text-lg",children:[(j==null?void 0:j.completadas)||0," de ",(j==null?void 0:j.definidas)||0," estaciones medidas"]}),!w&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between text-blue-100",children:[l.jsx("span",{children:"Mediciones registradas"}),l.jsxs("span",{className:"font-semibold",children:[(j==null?void 0:j.completadas)||0,"/",(j==null?void 0:j.definidas)||0]})]}),l.jsx("div",{className:"w-full bg-white/20 rounded-full h-3",children:l.jsx("div",{className:"bg-gradient-to-r from-white to-blue-100 h-3 rounded-full transition-all duration-1000 ease-out shadow-sm",style:{width:`${(j==null?void 0:j.progresoNumerico)||0}%`}})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 pt-4 border-t border-white/20",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:(j==null?void 0:j.completadas)||0}),l.jsx("div",{className:"text-xs text-blue-100",children:"Completadas"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:(j==null?void 0:j.definidas)||0}),l.jsx("div",{className:"text-xs text-blue-100",children:"Configuradas"})]})]})]})]})}),l.jsx("div",{className:"col-span-12 lg:col-span-4",children:l.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/40 transform hover:scale-[1.01] transition-all duration-300 h-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"bg-indigo-100 rounded-xl p-3",children:l.jsx(Rl,{className:"w-6 h-6 text-indigo-600"})}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-3xl font-bold text-slate-800",children:[(m==null?void 0:m.km_final)-(m==null?void 0:m.km_inicial)||0,"m"]}),l.jsx("div",{className:"text-slate-600 text-sm",children:"Longitud"})]})]}),l.jsx("h4",{className:"font-semibold text-slate-800 mb-2 text-lg",children:"Informacin General"}),l.jsx("p",{className:"text-slate-600 text-sm mb-6",children:"Detalles principales del proyecto topogrfico"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Tramo:"}),l.jsx("span",{className:"font-medium text-slate-800",children:(m==null?void 0:m.tramo)||"N/A"})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Cuerpo:"}),l.jsx("span",{className:"font-medium text-slate-800",children:(m==null?void 0:m.cuerpo)||"N/A"})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Intervalo:"}),l.jsxs("span",{className:"font-medium text-slate-800",children:[(m==null?void 0:m.intervalo)||0,"m"]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Estado:"}),l.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 rounded-lg text-xs font-medium",children:(m==null?void 0:m.estado)||"N/A"})]})]}),l.jsxs("div",{className:"flex items-center mt-4",children:[l.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full mr-2"}),l.jsx("span",{className:"text-xs text-slate-600",children:"Proyecto activo"})]})]})}),l.jsx("div",{className:"col-span-12 sm:col-span-6 lg:col-span-3",children:l.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/40 transform hover:scale-[1.01] transition-all duration-300 h-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"bg-blue-100 rounded-xl p-3",children:l.jsx(Ul,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{className:"text-right",children:[b?l.jsx("div",{className:"w-12 h-8 bg-slate-200 rounded animate-pulse"}):l.jsx("div",{className:"text-2xl font-bold text-slate-800",children:(j==null?void 0:j.definidas)||0}),l.jsx("div",{className:"text-slate-600 text-sm",children:"Estaciones"})]})]}),l.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Configuradas"}),l.jsx("p",{className:"text-slate-600 text-sm mb-4",children:"Listas para medicin en campo"}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mb-3",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${(j==null?void 0:j.definidas)>0?j.definidas/j.definidas*100:0}%`}})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2"}),l.jsx("span",{className:"text-xs text-slate-600",children:(j==null?void 0:j.definidas)>0?"Configuradas":"Sin configurar"})]})]})}),l.jsx("div",{className:"col-span-12 sm:col-span-6 lg:col-span-3",children:l.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/40 transform hover:scale-[1.01] transition-all duration-300 h-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"bg-emerald-100 rounded-xl p-3",children:l.jsx(kh,{className:"w-6 h-6 text-emerald-600"})}),l.jsxs("div",{className:"text-right",children:[w?l.jsx("div",{className:"w-12 h-8 bg-slate-200 rounded animate-pulse"}):l.jsx("div",{className:"text-2xl font-bold text-slate-800",children:(j==null?void 0:j.completadas)||0}),l.jsx("div",{className:"text-slate-600 text-sm",children:"Mediciones"})]})]}),l.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Registradas"}),l.jsx("p",{className:"text-slate-600 text-sm mb-4",children:"Datos capturados y validados"}),l.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mb-3",children:l.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all duration-500",style:{width:`${(j==null?void 0:j.progresoNumerico)||0}%`}})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${((j==null?void 0:j.completadas)||0)>0?"bg-emerald-400":"bg-slate-300"}`}),l.jsx("span",{className:"text-xs text-slate-600",children:((j==null?void 0:j.completadas)||0)>0?"En progreso":"Sin datos"})]})]})}),l.jsx("div",{className:"col-span-12 sm:col-span-6 lg:col-span-3",children:l.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/40 h-full",children:[l.jsx("div",{className:"bg-slate-100 rounded-xl p-3 w-fit mb-4",children:l.jsx(Ny,{className:"w-6 h-6 text-slate-600"})}),l.jsx("h4",{className:"font-semibold text-slate-800 mb-4",children:"Especificaciones"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Intervalo:"}),l.jsxs("span",{className:"font-medium text-slate-800",children:[(m==null?void 0:m.intervalo)||0,"m"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Longitud:"}),l.jsxs("span",{className:"font-medium text-slate-800",children:[(m==null?void 0:m.km_final)-(m==null?void 0:m.km_inicial)||0,"m"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Espesor:"}),l.jsxs("span",{className:"font-medium text-slate-800",children:[(m==null?void 0:m.espesor)||0,"m"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Tolerancia SCT:"}),l.jsxs("span",{className:"font-medium text-slate-800",children:["",(((m==null?void 0:m.tolerancia_sct)||0)*1e3).toFixed(0),"mm"]})]})]})]})}),l.jsx("div",{className:"col-span-12 sm:col-span-6 lg:col-span-3",children:l.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/40 h-full",children:[l.jsx("div",{className:"bg-slate-100 rounded-xl p-3 w-fit mb-4",children:l.jsx(Rl,{className:"w-6 h-6 text-slate-600"})}),l.jsx("h4",{className:"font-semibold text-slate-800 mb-4",children:"Detalles del Proyecto"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Tramo:"}),l.jsx("span",{className:"font-medium text-slate-800",children:(m==null?void 0:m.tramo)||"N/A"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Cuerpo:"}),l.jsx("span",{className:"font-medium text-slate-800",children:(m==null?void 0:m.cuerpo)||"N/A"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"KM Inicial:"}),l.jsx("span",{className:"font-medium text-slate-800",children:m!=null&&m.km_inicial?`${Math.floor(m.km_inicial/1e3)}+${String(m.km_inicial%1e3).padStart(3,"0")}`:"N/A"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"KM Final:"}),l.jsx("span",{className:"font-medium text-slate-800",children:m!=null&&m.km_final?`${Math.floor(m.km_final/1e3)}+${String(m.km_final%1e3).padStart(3,"0")}`:"N/A"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Estado:"}),l.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 rounded-lg text-xs font-medium",children:(m==null?void 0:m.estado)||"N/A"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600",children:"Creado:"}),l.jsx("span",{className:"font-medium text-slate-800",children:m!=null&&m.fecha_creacion?My(m.fecha_creacion):"N/A"})]})]})]})}),l.jsx("div",{className:"col-span-12",children:l.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/40",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Alertas del Sistema"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${A.length>0?"bg-amber-400":"bg-emerald-400"}`}),l.jsxs("span",{className:"text-sm text-slate-600",children:[A.length," activas"]})]})]}),A.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map($=>l.jsx("div",{className:`border-l-4 p-4 rounded-xl ${$.type==="critical"?"border-l-red-500 bg-red-50/80":$.type==="warning"?"border-l-amber-500 bg-amber-50/80":"border-l-blue-500 bg-blue-50/80"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-800",children:$.station}),l.jsx("p",{className:"text-sm text-slate-600",children:$.message})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-xs text-slate-500",children:$.time}),l.jsx("div",{className:`w-2 h-2 rounded-full mt-1 ml-auto ${$.type==="critical"?"bg-red-500":$.type==="warning"?"bg-amber-500":"bg-blue-500"}`})]})]})},$.id))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"bg-emerald-100 rounded-full p-4 w-fit mx-auto mb-4",children:l.jsx(Ul,{className:"w-10 h-10 text-emerald-600"})}),l.jsx("p",{className:"text-slate-600 text-lg font-medium",children:"No hay alertas activas"}),l.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Sistema funcionando correctamente"})]}),l.jsx("div",{className:"flex justify-center mt-6",children:l.jsx("button",{onClick:T,className:"bg-slate-800 text-white py-3 px-6 rounded-xl font-medium hover:bg-slate-700 transition-all duration-300 transform hover:scale-[1.01]",children:"Ver Todas las Alertas"})})]})})]}),l.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/40",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-6",children:"Acciones Rpidas"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:O,className:"group p-6 text-left border-2 border-slate-200/60 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 transition-all duration-300 transform hover:scale-[1.02]",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-blue-200 transition-colors",children:l.jsx(kh,{className:"w-6 h-6 text-blue-600"})}),l.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Ver Anlisis"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Revisar datos y generar reportes detallados"})]}),l.jsxs("button",{onClick:E,className:"group p-6 text-left border-2 border-slate-200/60 rounded-xl hover:border-emerald-300 hover:bg-emerald-50/50 transition-all duration-300 transform hover:scale-[1.02]",children:[l.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-emerald-200 transition-colors",children:l.jsx(ff,{className:"w-6 h-6 text-emerald-600"})}),l.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Trabajo de Campo"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Registrar nuevas mediciones en terreno"})]}),l.jsxs("button",{onClick:k,className:"group p-6 text-left border-2 border-slate-200/60 rounded-xl hover:border-slate-300 hover:bg-slate-50/50 transition-all duration-300 transform hover:scale-[1.02]",children:[l.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-slate-200 transition-colors",children:l.jsx(Rl,{className:"w-6 h-6 text-slate-600"})}),l.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Generar Reporte"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Exportar datos y anlisis completos"})]}),l.jsxs("button",{onClick:()=>o("/estaciones"),className:"group p-6 text-left border-2 border-slate-200/60 rounded-xl hover:border-indigo-300 hover:bg-indigo-50/50 transition-all duration-300 transform hover:scale-[1.02]",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center mb-4 group-hover:bg-indigo-200 transition-colors",children:l.jsx($S,{className:"w-6 h-6 text-indigo-600"})}),l.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Gestionar Estaciones"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Configurar y administrar puntos de medicin"})]})]})]})]}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:l.jsx("div",{className:"flex flex-col items-center justify-center min-h-96",children:l.jsx("div",{className:"text-center max-w-md",children:l.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-3xl p-12 shadow-xl border border-white/20",children:[l.jsx("div",{className:"bg-slate-100 rounded-2xl p-4 w-fit mx-auto mb-6",children:l.jsx(kh,{className:"w-12 h-12 text-slate-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-3",children:"Bienvenido al Dashboard"}),l.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed",children:"Para comenzar a ver las mtricas y anlisis de tu proyecto, primero debes seleccionar un proyecto activo desde el banco de proyectos."}),l.jsxs("button",{onClick:L,className:"bg-slate-800 text-white px-8 py-3 rounded-xl font-medium hover:bg-slate-700 transition-all duration-300 transform hover:scale-[1.02] inline-flex items-center space-x-3 shadow-lg",children:[l.jsx(wy,{className:"w-5 h-5"}),l.jsx("span",{children:"Seleccionar Proyecto"})]})]})})})})},El={proyecto:{nombre:s=>!s||typeof s!="string"?{valid:!1,message:"El nombre es requerido"}:s.trim().length<3?{valid:!1,message:"El nombre debe tener al menos 3 caracteres"}:s.length>100?{valid:!1,message:"El nombre no puede exceder 100 caracteres"}:{valid:!0},descripcion:s=>!s||typeof s!="string"?{valid:!1,message:"La descripcin es requerida"}:s.trim().length<10?{valid:!1,message:"La descripcin debe tener al menos 10 caracteres"}:{valid:!0},kilometros:(s,t)=>s==null||t===null||t===void 0?{valid:!1,message:"Los kilmetros inicial y final son requeridos"}:s<mt.KM_MIN||s>mt.KM_MAX?{valid:!1,message:`KM inicial debe estar entre ${mt.KM_MIN} y ${mt.KM_MAX}`}:t<mt.KM_MIN||t>mt.KM_MAX?{valid:!1,message:`KM final debe estar entre ${mt.KM_MIN} y ${mt.KM_MAX}`}:t<=s?{valid:!1,message:"El kilmetro final debe ser mayor al inicial"}:{valid:!0},estado:s=>Object.values(nS).includes(s)?{valid:!0}:{valid:!1,message:"Estado de proyecto no vlido"}},configuracion:{intervalo:s=>s==null?{valid:!1,message:"El intervalo es requerido"}:s<mt.INTERVALO_MIN||s>mt.INTERVALO_MAX?{valid:!1,message:`Debe estar entre ${mt.INTERVALO_MIN} y ${mt.INTERVALO_MAX} m`}:{valid:!0},espesor:s=>s==null?{valid:!1,message:"El espesor es requerido"}:s<mt.ESPESOR_MIN||s>mt.ESPESOR_MAX?{valid:!1,message:`Debe estar entre ${mt.ESPESOR_MIN} y ${mt.ESPESOR_MAX} m`}:{valid:!0},toleranciaSCT:s=>s==null?{valid:!1,message:"La tolerancia SCT es requerida"}:s<mt.TOLERANCIA_MIN||s>mt.TOLERANCIA_MAX?{valid:!1,message:`Debe estar entre ${mt.TOLERANCIA_MIN} y ${mt.TOLERANCIA_MAX} m`}:{valid:!0}}},xT=({proyecto:s,esSeleccionado:t,onSeleccionar:n,onEliminar:i})=>{const{nombre:o,tramo:u,cuerpo:h,km_inicial:p,km_final:g,estado:m,estaciones_configuradas:x,estaciones_medidas:b}=s,v=x>0?Math.round(b/x*100):0,_=g-p,w=A=>{if(!A)return"N/A";const O=typeof A=="string"?parseFloat(A):A;return`${Math.floor(O/1e3)}+${String(O%1e3).padStart(3,"0")}`},j=(A=>{switch(m){case"EN_PROGRESO":return{bgClass:A?"bg-blue-100/80 backdrop-blur-sm":"bg-blue-50 border border-blue-200",textClass:"text-blue-700",icon:null,label:"En Progreso"};case"COMPLETADO":return{bgClass:A?"bg-emerald-100/80 backdrop-blur-sm":"bg-emerald-50 border border-emerald-200",textClass:"text-emerald-700",icon:null,label:"Completado"};case"PAUSADO":return{bgClass:A?"bg-amber-100/80 backdrop-blur-sm":"bg-amber-50 border border-amber-200",textClass:"text-amber-700",icon:null,label:"Pausado"};default:return A?{bgClass:"backdrop-blur-xl bg-white/10 border border-white/20 shadow-lg",textClass:"text-blue-100",icon:null,label:"Configuracin"}:{bgClass:"bg-slate-100 border border-slate-200",textClass:"text-slate-700",icon:null,label:"Configuracin"}}})(t);return l.jsxs("div",{className:`
        relative rounded-2xl shadow-xl transition-all duration-300 transform hover:scale-[1.015] hover:-translate-y-1
        ${t?"bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 text-white border border-blue-500/30 ring-2 ring-blue-400":"bg-white text-slate-800 border border-slate-200 hover:shadow-2xl"}
      `,children:[l.jsxs("div",{className:"flex items-center justify-between mb-6 p-5 pb-0 sm:p-6 sm:pb-0",children:[l.jsx("div",{className:`
            rounded-xl p-3
            ${t?"bg-white/20 backdrop-blur-sm":"bg-slate-100 border border-slate-200"}
          `,children:l.jsx(zf,{className:`w-7 h-7 ${t?"text-white":"text-blue-600"}`})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`
              flex items-center px-3 py-1 rounded-full
              ${j.bgClass}
            `,children:l.jsx("span",{className:`text-xs font-semibold ${j.textClass}`,children:j.label})}),l.jsx("button",{onClick:A=>{A.stopPropagation(),i(s.id)},className:`
              p-2 rounded-lg transition-all duration-200 hover:scale-110
              ${t?"bg-red-500/20 hover:bg-red-500/30 text-red-200 hover:text-white":"bg-red-50 hover:bg-red-100 text-red-500 hover:text-red-600 border border-red-200"}
            `,title:"Eliminar proyecto",children:l.jsx(_y,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"px-5 sm:px-6",children:[l.jsx("h3",{className:`text-xl sm:text-2xl font-bold mb-1 truncate ${t?"text-white":"text-slate-900"}`,children:o}),l.jsxs("p",{className:`
            text-sm flex items-center mb-2
            ${t?"text-blue-100":"text-slate-600"}
          `,children:[l.jsx(NS,{className:"w-4 h-4 mr-1.5"}),u,"  Cuerpo ",h]})]}),l.jsxs("div",{className:"px-5 sm:px-6 pb-5 sm:pb-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between my-4",children:[l.jsxs("div",{className:"mb-2 md:mb-0",children:[l.jsxs("p",{className:`text-sm ${t?"text-blue-100":"text-slate-700 font-medium"}`,children:["KM ",w(p)," - ",w(g)]}),l.jsxs("p",{className:`text-xs ${t?"text-blue-100":"text-slate-500"}`,children:["Longitud: ",_.toLocaleString(),"m"]})]}),l.jsxs("div",{className:"text-left md:text-right",children:[l.jsxs("div",{className:`text-3xl sm:text-4xl font-bold mb-0.5 ${t?"text-white":"text-blue-600"}`,children:[v,"%"]}),l.jsx("div",{className:`text-xs sm:text-sm ${t?"text-blue-100":"text-slate-500"}`,children:"Completado"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:`text-xs sm:text-sm ${t?"text-blue-100":"text-slate-600"}`,children:"Mediciones registradas"}),l.jsxs("span",{className:`text-xs sm:text-sm font-semibold ${t?"text-white":"text-slate-700"}`,children:[b||0," / ",x||0]})]}),l.jsx("div",{className:`w-full rounded-full h-2.5 sm:h-3 ${t?"bg-white/25":"bg-slate-200"}`,children:l.jsx("div",{className:`
                h-full rounded-full transition-all duration-1000 ease-out
                ${t?"bg-gradient-to-r from-white/90 to-blue-100/90 shadow-sm":"bg-gradient-to-r from-blue-500 to-blue-700"}
              `,style:{width:`${v}%`}})}),l.jsxs("div",{className:`
              grid grid-cols-2 gap-3 pt-3 mt-3 border-t
              ${t?"border-white/25":"border-slate-200"}
            `,children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-xl sm:text-2xl font-bold ${t?"text-white":"text-blue-600"}`,children:b||0}),l.jsx("div",{className:`text-xs ${t?"text-blue-100":"text-slate-500"}`,children:"Completadas"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-xl sm:text-2xl font-bold ${t?"text-white":"text-blue-600"}`,children:x||0}),l.jsx("div",{className:`text-xs ${t?"text-blue-100":"text-slate-500"}`,children:"Configuradas"})]})]})]}),l.jsx("button",{onClick:()=>n(s),className:`
            w-full mt-6 py-3 px-4 rounded-xl font-semibold text-sm sm:text-base transition-all duration-300
            flex items-center justify-center
            ${t?"bg-white/25 text-white hover:bg-white/35 backdrop-blur-sm":"bg-blue-600 text-white hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"}
          `,children:l.jsx("span",{children:t?"Proyecto Activo":"Activar Proyecto"})})]})]})},us=Zt.memo(({label:s,children:t,error:n,required:i=!1})=>l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s," ",i&&l.jsx("span",{className:"text-red-500",children:"*"})]}),t,n&&l.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[l.jsx(gs,{className:"w-4 h-4"}),n]})]}));us.displayName="FormField";const gf=Zt.memo(({titulo:s,divisiones:t,tipo:n,onDivisionChange:i,onAddDivision:o,onRemoveDivision:u,icono:h})=>l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center gap-2",children:[h,s]}),l.jsx("button",{type:"button",onClick:()=>o(n),className:"bg-blue-500 hover:bg-blue-600 text-white p-1 rounded-full transition-colors",title:"Agregar divisin",children:l.jsx(Mn,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:t.map((p,g)=>l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",step:"0.01",value:p,onChange:m=>i(n,g,m.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"}),t.length>1&&l.jsx("button",{type:"button",onClick:()=>u(n,g),className:"absolute -top-1 -right-1 bg-red-500 hover:bg-red-600 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs transition-colors",title:"Eliminar divisin",children:l.jsx(Pc,{className:"w-3 h-3"})})]},g))}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:n==="divisiones_izquierdas"?"Valores negativos representan distancias hacia la izquierda del eje central":"Valores positivos representan distancias hacia la derecha del eje central"})]}));gf.displayName="DivisionesTransversales";const vT=()=>{const[s,t]=D.useState(!1),[n,i]=D.useState(""),[o,u]=D.useState({}),h=mi(),{proyectoSeleccionado:p,seleccionarProyecto:g}=Vl(),{data:m,isLoading:x,error:b,refetch:v}=pT(),_=mT();Dy();const w=gT(),[S,j]=D.useState({nombre:"",tramo:"",cuerpo:"A",km_inicial:"",km_final:"",intervalo:"5",espesor:"0.25",tolerancia_sct:"0.005",divisiones_izquierdas:[-12.21,-10.7,-9,-6,-3,-1.3,0],divisiones_derechas:[1.3,3,6,9,10.7,12.21],encargados:[{nombre:"",puesto:"Topgrafo Principal"},{nombre:"",puesto:"Topgrafo de Campo"},{nombre:"",puesto:"Ayudante de Topgrafo"},{nombre:"",puesto:"Supervisor de Calidad"}]}),A=D.useMemo(()=>m?m.filter(K=>{var re,M,X;return((re=K.nombre)==null?void 0:re.toLowerCase().includes(n.toLowerCase()))||((M=K.tramo)==null?void 0:M.toLowerCase().includes(n.toLowerCase()))||((X=K.cuerpo)==null?void 0:X.toLowerCase().includes(n.toLowerCase()))}):[],[m,n]),O=D.useCallback(()=>{const K={},re=El.proyecto.nombre(S.nombre);re.valid||(K.nombre=re.message),S.tramo.trim()?S.tramo.trim().length<2&&(K.tramo="El tramo debe tener al menos 2 caracteres"):K.tramo="El tramo es requerido";const M=parseFloat(S.km_inicial),X=parseFloat(S.km_final);if(!S.km_inicial||isNaN(M)||M<0)K.km_inicial="KM inicial es requerido y debe ser un nmero vlido ( 0)";else if(!S.km_final||isNaN(X)||X<0)K.km_final="KM final es requerido y debe ser un nmero vlido ( 0)";else{const V=El.proyecto.kilometros(M,X);V.valid||(K.kilometros=V.message),X-M>1e5&&(K.kilometros="La longitud del proyecto no puede exceder 100 km")}const ne=parseFloat(S.intervalo);if(isNaN(ne))K.intervalo="El intervalo debe ser un nmero vlido";else{const V=El.configuracion.intervalo(ne);V.valid||(K.intervalo=V.message)}const ie=parseFloat(S.espesor);if(isNaN(ie))K.espesor="El espesor debe ser un nmero vlido";else{const V=El.configuracion.espesor(ie);V.valid||(K.espesor=V.message)}const C=parseFloat(S.tolerancia_sct);if(isNaN(C))K.tolerancia_sct="La tolerancia SCT debe ser un nmero vlido";else{const V=El.configuracion.toleranciaSCT(C);V.valid||(K.tolerancia_sct=V.message)}return u(K),Object.keys(K).length===0},[S]),E=D.useMemo(()=>{const K=parseFloat(S.km_inicial),re=parseFloat(S.km_final),M=parseFloat(S.intervalo);if(isNaN(K)||isNaN(re)||isNaN(M)||re<=K)return null;const X=re-K,ne=Math.floor(X/M)+1;return{longitud:X.toLocaleString(),totalEstaciones:ne.toLocaleString(),intervalos:(ne-1).toLocaleString()}},[S.km_inicial,S.km_final,S.intervalo]),k=D.useCallback(async()=>{var K,re,M,X,ne;if(O())try{const ie={nombre:S.nombre.trim(),tramo:S.tramo.trim(),cuerpo:S.cuerpo,km_inicial:parseFloat(S.km_inicial),km_final:parseFloat(S.km_final),intervalo:parseFloat(S.intervalo),espesor:parseFloat(S.espesor),tolerancia_sct:parseFloat(S.tolerancia_sct),divisiones_izquierdas:S.divisiones_izquierdas,divisiones_derechas:S.divisiones_derechas,encargados:S.encargados.filter(V=>V.nombre.trim()||V.puesto.trim()),generar_estaciones:!0};if(console.log(" Datos a enviar al endpoint /proyectos/completo/:",ie),isNaN(ie.km_inicial)||isNaN(ie.km_final)||isNaN(ie.intervalo)||isNaN(ie.espesor)||isNaN(ie.tolerancia_sct))throw new Error("Todos los campos numricos deben tener valores vlidos");if(!ie.nombre||!ie.tramo)throw new Error("Nombre y tramo son requeridos");const C=await _.mutateAsync(ie);g(C),t(!1),j({nombre:"",tramo:"",cuerpo:"A",km_inicial:"",km_final:"",intervalo:"5",espesor:"0.25",tolerancia_sct:"0.005",divisiones_izquierdas:[-12.21,-10.7,-9,-6,-3,-1.3,0],divisiones_derechas:[1.3,3,6,9,10.7,12.21]}),u({}),h("/dashboard")}catch(ie){console.error("Error creando proyecto:",ie);let C="Error al crear el proyecto. Verifica los datos e intenta nuevamente.";if(ie.status===422||((K=ie.response)==null?void 0:K.status)===422){const V=((M=(re=ie.response)==null?void 0:re.data)==null?void 0:M.detail)||ie.message;Array.isArray(V)?C=V.map(ae=>{var se;return`${(se=ae.loc)==null?void 0:se.join(".")}: ${ae.msg}`}).join(", "):typeof V=="string"?C=V:typeof V=="object"&&(C=JSON.stringify(V))}else(ne=(X=ie.response)==null?void 0:X.data)!=null&&ne.detail?C=ie.response.data.detail:ie.message&&typeof ie.message=="string"&&(C=ie.message);u({general:C})}},[O,S,_,g,h]),T=D.useCallback((K,re)=>{j(M=>({...M,[K]:re})),u(M=>{if(M[K]){const X={...M};return delete X[K],X}return M})},[]),L=D.useCallback((K,re,M)=>{const X=parseFloat(M);isNaN(X)||j(ne=>{const ie=[...ne[K]];return ie[re]=X,{...ne,[K]:ie}})},[]),$=D.useCallback(K=>{j(re=>({...re,[K]:[...re[K],0]}))},[]),I=D.useCallback((K,re)=>{j(M=>({...M,[K]:M[K].filter((X,ne)=>ne!==re)}))},[]),Q=D.useCallback((K,re,M)=>{j(X=>{const ne=[...X.encargados];return ne[K]={...ne[K],[re]:M},{...X,encargados:ne}})},[]),ue=D.useCallback(()=>{j(K=>({...K,encargados:[...K.encargados,{nombre:"",puesto:""}]}))},[]),xe=D.useCallback(K=>{j(re=>({...re,encargados:re.encargados.filter((M,X)=>X!==K)}))},[]),pe=D.useCallback(K=>{g(K)},[g]),ke=D.useCallback(async K=>{var re,M,X;if(window.confirm("Ests seguro de que quieres eliminar este proyecto? Esta accin no se puede deshacer."))try{await w.mutateAsync(K),p&&p.id===K&&g(null)}catch(ne){console.error("Error al eliminar proyecto:",ne);let ie="Error al eliminar el proyecto";ne.status===404||((re=ne.response)==null?void 0:re.status)===404?ie="El proyecto ya no existe o ya fue eliminado":(X=(M=ne.response)==null?void 0:M.data)!=null&&X.detail?ie=ne.response.data.detail:ne.message&&(ie=ne.message),alert(ie)}},[w,p,g]);return s?l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("button",{onClick:()=>{t(!1),u({})},className:"text-blue-600 hover:text-blue-800 mb-4 flex items-center gap-2",children:" Volver a Proyectos"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crear Nuevo Proyecto"}),l.jsx("p",{className:"text-gray-600",children:"Configure los parmetros del nuevo proyecto de carretera"})]}),o.general&&l.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(gs,{className:"h-5 w-5 text-red-400"}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-800",children:o.general})})]})}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[l.jsx("div",{className:"xl:col-span-2",children:l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx(ff,{className:"w-5 h-5 text-blue-600"}),"Informacin del Proyecto"]})}),l.jsx(us,{label:"Nombre del Proyecto",required:!0,error:o.nombre,children:l.jsx("input",{type:"text",value:S.nombre,onChange:K=>T("nombre",K.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: San Miguel Allende - Dolores Hidalgo"})}),l.jsx(us,{label:"Tramo",required:!0,error:o.tramo,children:l.jsx("input",{type:"text",value:S.tramo,onChange:K=>T("tramo",K.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Frente 3, Seccin Norte"})}),l.jsx(us,{label:"Cuerpo",required:!0,children:l.jsxs("select",{value:S.cuerpo,onChange:K=>T("cuerpo",K.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"A",children:"Cuerpo A"}),l.jsx("option",{value:"B",children:"Cuerpo B"}),l.jsx("option",{value:"C",children:"Cuerpo C"}),l.jsx("option",{value:"D",children:"Cuerpo D"})]})}),l.jsx("div",{className:"md:col-span-2",children:l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 mt-6 flex items-center gap-2",children:[l.jsx(pS,{className:"w-5 h-5 text-green-600"}),"Kilometraje"]})}),l.jsx(us,{label:"KM Inicial",required:!0,error:o.km_inicial||o.kilometros,children:l.jsx("input",{type:"number",value:S.km_inicial,onChange:K=>T("km_inicial",K.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"78000 (metros)",step:"1",min:"0"})}),l.jsx(us,{label:"KM Final",required:!0,error:o.km_final,children:l.jsx("input",{type:"number",value:S.km_final,onChange:K=>T("km_final",K.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"79000 (metros)",step:"1",min:"0"})}),l.jsx("div",{className:"md:col-span-2",children:l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 mt-6 flex items-center gap-2",children:[l.jsx(Ny,{className:"w-5 h-5 text-purple-600"}),"Configuracin Tcnica"]})}),l.jsx(us,{label:"Intervalo entre estaciones (metros)",error:o.intervalo,children:l.jsxs("select",{value:S.intervalo,onChange:K=>T("intervalo",K.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"2.5",children:"2.5 metros"}),l.jsx("option",{value:"5",children:"5 metros (estndar)"}),l.jsx("option",{value:"10",children:"10 metros"}),l.jsx("option",{value:"15",children:"15 metros"}),l.jsx("option",{value:"20",children:"20 metros"})]})}),l.jsx(us,{label:"Espesor Concreto (metros)",error:o.espesor,children:l.jsx("input",{type:"number",step:"0.01",value:S.espesor,onChange:K=>T("espesor",K.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.25",min:"0.01",max:"1.00"})}),l.jsx(us,{label:"Tolerancia SCT (metros)",error:o.tolerancia_sct,children:l.jsxs("select",{value:S.tolerancia_sct,onChange:K=>T("tolerancia_sct",K.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"0.003",children:"0.003 m (alta precisin)"}),l.jsx("option",{value:"0.005",children:"0.005 m (estndar)"}),l.jsx("option",{value:"0.010",children:"0.010 m (tolerante)"}),l.jsx("option",{value:"0.015",children:"0.015 m (muy tolerante)"})]})}),l.jsx("div",{className:"md:col-span-2",children:l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 mt-6 flex items-center gap-2",children:[l.jsx(uf,{className:"w-5 h-5 text-orange-600"}),l.jsx(Lc,{className:"w-5 h-5 text-orange-600"}),"Divisiones Transversales"]})}),l.jsxs("div",{className:"md:col-span-2 space-y-4",children:[l.jsx(gf,{titulo:"Divisiones Izquierdas (metros)",divisiones:S.divisiones_izquierdas,tipo:"divisiones_izquierdas",onDivisionChange:L,onAddDivision:$,onRemoveDivision:I,icono:l.jsx(uf,{className:"w-4 h-4 text-orange-600"})}),l.jsx(gf,{titulo:"Divisiones Derechas (metros)",divisiones:S.divisiones_derechas,tipo:"divisiones_derechas",onDivisionChange:L,onAddDivision:$,onRemoveDivision:I,icono:l.jsx(Lc,{className:"w-4 h-4 text-orange-600"})})]}),l.jsx("div",{className:"md:col-span-2",children:l.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 mt-6 flex items-center gap-2",children:[l.jsx(mf,{className:"w-5 h-5 text-purple-600"}),"Encargados del Proyecto"]})}),l.jsx("div",{className:"md:col-span-2",children:l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("div",{className:"space-y-3",children:S.encargados.map((K,re)=>l.jsxs("div",{className:"flex gap-3 items-center bg-white rounded-lg p-3",children:[l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:K.nombre,onChange:M=>Q(re,"nombre",M.target.value),placeholder:"Nombre completo",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:K.puesto,onChange:M=>Q(re,"puesto",M.target.value),placeholder:"Puesto/Cargo",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),S.encargados.length>1&&l.jsx("button",{type:"button",onClick:()=>xe(re),className:"text-red-600 hover:text-red-800 p-1",title:"Eliminar encargado",children:l.jsx(Pc,{className:"w-4 h-4"})})]},re))}),S.encargados.length<10&&l.jsxs("button",{type:"button",onClick:ue,className:"mt-3 w-full border border-dashed border-gray-300 rounded-lg py-2 text-gray-600 hover:text-gray-800 hover:border-gray-400 transition-colors flex items-center justify-center gap-2",children:[l.jsx(Mn,{className:"w-4 h-4"}),"Agregar Encargado"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Define quines son los responsables del proyecto. Tpicamente se incluyen topgrafos, supervisores y personal tcnico."})]})})]}),l.jsxs("div",{className:"flex space-x-4 mt-8 pt-6 border-t border-gray-200",children:[l.jsx("button",{onClick:k,disabled:_.isPending,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2",children:_.isPending?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creando proyecto..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Mn,{className:"w-4 h-4"}),"Crear Proyecto"]})}),l.jsx("button",{onClick:()=>{t(!1),u({})},className:"bg-gray-100 border border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancelar"})]})]})}),l.jsx("div",{className:"xl:col-span-1",children:l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border border-blue-200 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Resumen del Proyecto"}),E?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Longitud total"}),l.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[E.longitud," m"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Estaciones a crear"}),l.jsx("div",{className:"text-2xl font-bold text-green-600",children:E.totalEstaciones})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Intervalos"}),l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:E.intervalos})]}),l.jsxs("div",{className:"text-xs text-gray-600 bg-white rounded-lg p-3",children:[l.jsx("strong",{children:"Nota:"})," Se crearn automticamente ",E.totalEstaciones," estaciones tericas desde el KM ",S.km_inicial," hasta el KM ",S.km_final," con intervalos de ",S.intervalo," metros."]})]}):l.jsx("div",{className:"text-gray-500 text-center py-8",children:"Complete los kilmetros inicial y final para ver las estadsticas del proyecto"})]})})]})]}):x?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(K=>l.jsx("div",{className:"h-48 bg-gray-200 rounded"},K))})]})}):b?l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(gs,{className:"h-5 w-5 text-red-400"}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-red-800 font-medium",children:"Error al cargar proyectos"}),l.jsx("p",{className:"text-red-600 mt-1",children:b.message}),l.jsx("button",{onClick:v,className:"mt-2 text-sm text-red-600 hover:text-red-800 underline",children:"Intentar nuevamente"})]})]})})}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Banco de Proyectos"}),l.jsx("p",{className:"text-gray-600",children:"Selecciona un proyecto existente o crea uno nuevo"}),p&&l.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ul,{className:"w-5 h-5 text-blue-600"}),l.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Proyecto activo: ",p.nombre]}),p.tramo&&l.jsxs("span",{className:"text-sm text-blue-700",children:[" ",p.tramo]})]})})]}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(FS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Buscar por nombre, tramo o cuerpo...",value:n,onChange:K=>i(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("button",{onClick:()=>t(!0),className:"bg-red-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center space-x-2",children:[l.jsx(Mn,{className:"w-4 h-4"}),l.jsx("span",{children:"Nuevo Proyecto"})]})]}),A.length>0?l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:A.map(K=>{const re=p&&p.id===K.id;return l.jsx(xT,{proyecto:K,esSeleccionado:re,onSeleccionar:pe,onEliminar:ke},K.id)})}):l.jsx("div",{className:"text-center py-12",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx(ff,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500 mb-4",children:n?"No se encontraron proyectos que coincidan con tu bsqueda":"No tienes proyectos creados an"}),!n&&l.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Crea tu primer proyecto para comenzar con las mediciones topogrficas"}),l.jsxs("button",{onClick:()=>t(!0),className:"bg-red-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center gap-2 mx-auto",children:[l.jsx(Mn,{className:"w-4 h-4"}),n?"Crear Nuevo Proyecto":"Crear Primer Proyecto"]})]})})]})},yT=()=>{const[s,t]=D.useState("todas"),[n,i]=D.useState("todos"),[o,u]=D.useState("todas"),{proyecto:h,tieneProyecto:p}=In(),{data:g=[],isLoading:m}=Yn(h==null?void 0:h.id,{enabled:!!(h!=null&&h.id)}),{data:x=[],isLoading:b}=Xn({proyecto_id:h==null?void 0:h.id,enabled:!!(h!=null&&h.id)}),v=x.map(E=>Xl(E.id,{},{enabled:!!E.id})),_=E=>{if(!E)return"";const k=parseFloat(E),T=Math.floor(k/1e3),L=k%1e3;return`${T}+${L.toFixed(0).padStart(3,"0")}`},w=D.useMemo(()=>{if(!h||!x.length)return[];const E=[];return x.forEach((k,T)=>{var I;const L=((I=v[T])==null?void 0:I.data)||[],$=g.find(Q=>Math.abs(parseFloat(Q.km)-k.estacion_km)<.001);if(L.length===0){E.push({id:`medicion-${k.id}-sin-lecturas`,tipo:"sin_lecturas",severidad:"critica",estacion_km:k.estacion_km,titulo:"Sin lecturas registradas",descripcion:`La estacin ${_(k.estacion_km)} no tiene lecturas registradas`,valor_requerido:"Lecturas de mira",valor_actual:"0 lecturas",accion_recomendada:"Registrar lecturas en la pgina de Campo",fecha:k.fecha_medicion||new Date().toISOString(),division_transversal:null,volumen_trabajo:0});return}L.forEach(Q=>{var pe;const ue=Q.elv_base_real-Q.elv_base_proyecto,xe=Math.abs(ue);if(xe>h.tolerancia_sct){let ke="advertencia",K=((pe=Q.clasificacion)==null?void 0:pe.toLowerCase())||"tolerancia";xe>h.tolerancia_sct*5?ke="critica":xe>h.tolerancia_sct*2?ke="advertencia":ke="info";let re="",M="",X="";Q.clasificacion==="CORTE"?(re=`Corte requerido: ${fe(xe*1e3,0)}mm`,M=`El terreno est ${fe(xe*1e3,0)}mm arriba del nivel de proyecto`,X=`Realizar corte de ${fe(xe*1e3,0)}mm en divisin ${fe(Q.division_transversal,1)}m`):Q.clasificacion==="TERRAPLEN"?(re=`Terrapln requerido: ${fe(xe*1e3,0)}mm`,M=`El terreno est ${fe(xe*1e3,0)}mm debajo del nivel de proyecto`,X=`Realizar terrapln de ${fe(xe*1e3,0)}mm en divisin ${fe(Q.division_transversal,1)}m`):(re=`Fuera de tolerancia: ${fe(xe*1e3,0)}mm`,M=`La diferencia excede la tolerancia SCT de ${fe(h.tolerancia_sct*1e3,0)}mm`,X="Revisar medicin o ajustar nivel"),E.push({id:`lectura-${Q.id}-${K}`,tipo:K,severidad:ke,estacion_km:k.estacion_km,titulo:re,descripcion:M,valor_requerido:`${fe(Q.elv_base_proyecto,3)}m`,valor_actual:`${fe(Q.elv_base_real,3)}m`,diferencia:fe(ue*1e3,0),accion_recomendada:X,fecha:k.fecha_medicion||new Date().toISOString(),division_transversal:Q.division_transversal,volumen_trabajo:Math.abs(Q.volumen_por_metro||0),tolerancia_sct:h.tolerancia_sct*1e3})}Q.calidad&&Q.calidad!=="EXCELENTE"&&Q.calidad!=="BUENA"&&E.push({id:`lectura-${Q.id}-calidad`,tipo:"calidad",severidad:Q.calidad==="REVISAR"?"critica":"advertencia",estacion_km:k.estacion_km,titulo:`Calidad de lectura: ${Q.calidad}`,descripcion:`La lectura en divisin ${fe(Q.division_transversal,1)}m requiere atencin`,valor_requerido:"Calidad BUENA o EXCELENTE",valor_actual:Q.calidad,accion_recomendada:"Repetir medicin o verificar condiciones de campo",fecha:k.fecha_medicion||new Date().toISOString(),division_transversal:Q.division_transversal,volumen_trabajo:0})}),$||E.push({id:`estacion-${k.estacion_km}-sin-teorica`,tipo:"configuracion",severidad:"critica",estacion_km:k.estacion_km,titulo:"Estacin terica no configurada",descripcion:`Falta configurar los parmetros tericos para ${_(k.estacion_km)}`,valor_requerido:"Pendiente y Base CL",valor_actual:"No configurado",accion_recomendada:"Configurar estacin terica en Datos de Diseo",fecha:k.fecha_medicion||new Date().toISOString(),division_transversal:null,volumen_trabajo:0})}),E.sort((k,T)=>{const L={critica:0,advertencia:1,info:2};return L[k.severidad]!==L[T.severidad]?L[k.severidad]-L[T.severidad]:k.estacion_km-T.estacion_km})},[h,x,v,g]),S=D.useMemo(()=>w.filter(E=>!(s!=="todas"&&E.severidad!==s||n!=="todos"&&E.tipo!==n||o!=="todas"&&E.estacion_km!==parseFloat(o))),[w,s,n,o]),j=D.useMemo(()=>({total:w.length,criticas:w.filter(E=>E.severidad==="critica").length,advertencias:w.filter(E=>E.severidad==="advertencia").length,info:w.filter(E=>E.severidad==="info").length,cortes:w.filter(E=>E.tipo==="corte").length,terraplenes:w.filter(E=>E.tipo==="terraplen").length,volumenTotalCorte:w.filter(E=>E.tipo==="corte").reduce((E,k)=>E+(k.volumen_trabajo||0),0),volumenTotalTerraplen:w.filter(E=>E.tipo==="terraplen").reduce((E,k)=>E+(k.volumen_trabajo||0),0)}),[w]),A=E=>{switch(E){case"critica":return"";case"advertencia":return"";case"info":return"";default:return""}},O=E=>{switch(E){case"critica":return"bg-red-50 border-red-200 text-red-800";case"advertencia":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}};return p?l.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Alertas y Ajustes"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Monitoreo de trabajos necesarios por estacin: cortes, terraplenes y tolerancias"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:h.nombre}),l.jsx("p",{className:"text-sm text-gray-500",children:h.tramo}),l.jsxs("p",{className:"text-xs text-gray-400",children:[_(h.km_inicial),"  ",_(h.km_final)]})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:j.total}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Alertas"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:j.criticas}),l.jsx("div",{className:"text-sm text-red-600",children:"Crticas"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-yellow-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:j.advertencias}),l.jsx("div",{className:"text-sm text-yellow-600",children:"Advertencias"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-700",children:j.cortes}),l.jsx("div",{className:"text-sm text-red-700",children:"Cortes"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-orange-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-orange-600",children:j.terraplenes}),l.jsx("div",{className:"text-sm text-orange-600",children:"Terraplenes"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-purple-200 p-4 text-center",children:[l.jsx("div",{className:"text-lg font-bold text-purple-600",children:fe(j.volumenTotalCorte+j.volumenTotalTerraplen,2)}),l.jsx("div",{className:"text-sm text-purple-600",children:"m Total"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filtros"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severidad"}),l.jsxs("select",{value:s,onChange:E=>t(E.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"todas",children:"Todas"}),l.jsx("option",{value:"critica",children:"Crticas"}),l.jsx("option",{value:"advertencia",children:"Advertencias"}),l.jsx("option",{value:"info",children:"Informacin"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Trabajo"}),l.jsxs("select",{value:n,onChange:E=>i(E.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"todos",children:"Todos"}),l.jsx("option",{value:"corte",children:"Cortes"}),l.jsx("option",{value:"terraplen",children:"Terraplenes"}),l.jsx("option",{value:"tolerancia",children:"Fuera de Tolerancia"}),l.jsx("option",{value:"calidad",children:"Calidad"}),l.jsx("option",{value:"configuracion",children:"Configuracin"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estacin"}),l.jsxs("select",{value:o,onChange:E=>u(E.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"todas",children:"Todas las estaciones"}),Array.from(new Set(x.map(E=>E.estacion_km))).sort((E,k)=>E-k).map(E=>l.jsx("option",{value:E,children:_(E)},E))]})]})]})]}),(m||b)&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Cargando datos del proyecto..."})]}),!m&&!b&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Alertas Activas (",S.length,")"]}),S.length>0&&l.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"Exportar Reporte"})]}),S.length===0?l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:[l.jsx("div",{className:"text-green-500 mb-4",children:l.jsx("svg",{className:"mx-auto h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:w.length===0?"Excelente! No hay alertas":"No hay alertas que coincidan con los filtros"}),l.jsx("p",{className:"text-gray-600",children:w.length===0?"Todas las mediciones estn dentro de tolerancia.":"Prueba ajustando los filtros para ver ms alertas."})]}):l.jsx("div",{className:"space-y-3",children:S.map(E=>l.jsx("div",{className:`rounded-lg border p-6 ${O(E.severidad)}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"text-2xl",children:A(E.severidad)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("h4",{className:"font-semibold text-lg",children:E.titulo}),l.jsx("span",{className:"bg-white bg-opacity-50 px-2 py-1 rounded text-xs font-medium",children:_(E.estacion_km)}),E.division_transversal!==null&&l.jsxs("span",{className:"bg-white bg-opacity-50 px-2 py-1 rounded text-xs font-medium",children:["Divisin ",fe(E.division_transversal,1),"m"]})]}),l.jsx("p",{className:"text-sm mb-3",children:E.descripcion}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Valor Requerido:"}),l.jsx("p",{children:E.valor_requerido})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Valor Actual:"}),l.jsx("p",{children:E.valor_actual})]}),E.diferencia&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Diferencia:"}),l.jsxs("p",{children:[E.diferencia,"mm"]})]})]}),l.jsxs("div",{className:"mt-3 p-3 bg-white bg-opacity-30 rounded",children:[l.jsx("span",{className:"font-medium text-sm",children:"Accin Recomendada:"}),l.jsx("p",{className:"text-sm mt-1",children:E.accion_recomendada})]})]})]}),l.jsx("div",{className:"text-right text-xs opacity-75",children:new Date(E.fecha).toLocaleDateString()})]})},E.id))})]}),j.total>0&&l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen de Volmenes de Trabajo"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Trabajos de Corte"}),l.jsxs("div",{className:"text-2xl font-bold text-red-600 mb-1",children:[fe(j.volumenTotalCorte,3)," m"]}),l.jsxs("p",{className:"text-sm text-red-600",children:[j.cortes," puntos requieren corte"]})]}),l.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"Trabajos de Terrapln"}),l.jsxs("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:[fe(j.volumenTotalTerraplen,3)," m"]}),l.jsxs("p",{className:"text-sm text-orange-600",children:[j.terraplenes," puntos requieren terrapln"]})]})]})]})]}):l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx("svg",{className:"mx-auto h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Seleccione un Proyecto"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Para ver alertas y ajustes necesarios, primero seleccione un proyecto."}),l.jsx("button",{onClick:()=>window.location.href="/proyectos",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg text-lg",children:"Ir a Proyectos"})]})})},bT=()=>{const[s,t]=D.useState("estadisticas"),{proyecto:n,tieneProyecto:i}=In(),{data:o=[],isLoading:u}=Yn(n==null?void 0:n.id,{enabled:!!(n!=null&&n.id)}),{data:h=[],isLoading:p}=Xn({proyecto_id:n==null?void 0:n.id,enabled:!!(n!=null&&n.id)}),g=Array.isArray(h)?h:[],m=[...Array.from({length:Math.max(20,g.length)},(O,E)=>{const k=g[E];return Xl((k==null?void 0:k.id)||null,{},{enabled:!!(k!=null&&k.id)})})],x=O=>{if(!O)return"";const E=parseFloat(O),k=Math.floor(E/1e3),T=E%1e3;return`${k}+${T.toFixed(0).padStart(3,"0")}`},b=D.useMemo(()=>m.slice(0,g.length).map(O=>(O==null?void 0:O.data)||[]).flat().filter(O=>O&&O.elv_base_real!==null),[m,g.length]),v=D.useMemo(()=>{var Il,yi;if(!n||!g.length||b.length===0)return null;const O=b,E=o.length,k=new Set(g.map(le=>le.estacion_km)).size,T=(((Il=n.divisiones_izquierdas)==null?void 0:Il.length)||0)+(((yi=n.divisiones_derechas)==null?void 0:yi.length)||0)+1,$=O.length/(k*T)||0,I=g.map(le=>new Date(le.fecha_medicion)).filter(le=>!isNaN(le)).sort((le,qe)=>le-qe),Q=I.length>0?Math.ceil((I[I.length-1]-I[0])/(1e3*60*60*24))+1:0,ue=Q>0?k/Q:0,xe=O.map(le=>le.elv_base_real).filter(le=>le!==null);O.map(le=>le.elv_base_proyecto).filter(le=>le!==null);const pe=O.filter(le=>le.elv_base_real!==null&&le.elv_base_proyecto!==null).map(le=>le.elv_base_real-le.elv_base_proyecto),ke=xe.length>0?Math.max(...xe)-Math.min(...xe):0,K=pe.length>0?pe.reduce((le,qe)=>le+qe,0)/pe.length:0,re=pe.length>0?pe.reduce((le,qe)=>le+Math.pow(qe-K,2),0)/pe.length:0,M=Math.sqrt(re),X=O.filter(le=>le.division_transversal!==void 0&&le.elv_base_real!==null).sort((le,qe)=>le.division_transversal-qe.division_transversal);let ne=0;if(X.length>1){const le=[];for(let qe=1;qe<X.length;qe++){const Et=X[qe].elv_base_real-X[qe-1].elv_base_real,aa=X[qe].division_transversal-X[qe-1].division_transversal;aa!==0&&le.push(Et/aa)}ne=le.length>0?le.reduce((qe,Et)=>qe+Et,0)/le.length:0}const ie=O.filter(le=>le.elv_base_real!==null&&le.elv_base_proyecto!==null).map(le=>Math.abs(le.elv_base_real-le.elv_base_proyecto)),C=ie.filter(le=>le<=n.tolerancia_sct).length,V=ie.length>0?C/ie.length*100:0,ae={EXCELENTE:O.filter(le=>le.calidad==="EXCELENTE").length,BUENA:O.filter(le=>le.calidad==="BUENA").length,REGULAR:O.filter(le=>le.calidad==="REGULAR").length,REVISAR:O.filter(le=>le.calidad==="REVISAR").length},se=ie.filter(le=>le>n.tolerancia_sct*3).length,me=[],Oe=O.reduce((le,qe)=>{var aa;const Et=(aa=g.find(Wc=>Wc.id===qe.medicion_id))==null?void 0:aa.estacion_km;return Et&&(le[Et]||(le[Et]=[]),le[Et].push(qe)),le},{});Object.entries(Oe).forEach(([le,qe])=>{const Et=qe.filter(aa=>aa.elv_base_real!==null&&aa.elv_base_proyecto!==null&&Math.abs(aa.elv_base_real-aa.elv_base_proyecto)>n.tolerancia_sct).length;Et/qe.length>.5&&me.push({km:parseFloat(le),porcentajeFuera:Et/qe.length*100})});const ve=O.filter(le=>le.clasificacion==="CORTE"),ee=O.filter(le=>le.clasificacion==="TERRAPLEN"),ce=ve.reduce((le,qe)=>{const Et=Math.abs(qe.elv_base_real-qe.elv_base_proyecto);return le+Et},0),he=ee.reduce((le,qe)=>{const Et=Math.abs(qe.elv_base_real-qe.elv_base_proyecto);return le+Et},0),Z=ce-he,Pe=ce*150+he*120;let Ge=0;Ge+=ae.EXCELENTE/O.length*40,Ge+=ae.BUENA/O.length*30,Ge+=ae.REGULAR/O.length*20,Ge+=ae.REVISAR/O.length*0,Ge+=V/100*30;const Ve=Math.min(100,Math.max(0,Ge)),ys=O.filter(le=>le.calidad&&["EXCELENTE","BUENA"].includes(le.calidad)).length,ha=O.length>0?ys/O.length*100:0;return{totalEstacionesReales:E,estacionesMedidas:k,progresoPorcentaje:k/E*100,coberturaTransversal:$*100,diasTrabajo:Q,eficienciaDiaria:ue,elevacionMinima:Math.min(...xe),elevacionMaxima:Math.max(...xe),rangElevacionesReales:ke,diferenciaPromedio:K,desviacionEstandar:M,pendientePromedioReal:ne,porcentajeDentroToleranciaSCT:V,distribucionCalidades:ae,puntosCriticos:se,estacionesProblematicas:me,volumenTotalCorte:ce,volumenTotalTerrlen:he,balanceMateriales:Z,costoEstimado:Pe,indiceCalidadGeneral:Ve,eficienciaCampo:ha,totalLecturas:O.length,totalMediciones:g.length,totalEstaciones:o.length}},[n,g,b,o]),_=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Estadsticas Principales del Proyecto"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[v?fe(v.progresoPorcentaje,1):0,"%"]}),l.jsx("div",{className:"text-sm text-blue-600",children:"Progreso de Mediciones"}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(v==null?void 0:v.estacionesMedidas)||0," de ",(v==null?void 0:v.totalEstacionesReales)||0]})]}),l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[v?fe(v.coberturaTransversal,1):0,"%"]}),l.jsx("div",{className:"text-sm text-green-600",children:"Cobertura Transversal"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Divisiones medidas"})]}),l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(v==null?void 0:v.diasTrabajo)||0}),l.jsx("div",{className:"text-sm text-purple-600",children:"Das de Trabajo"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Tiempo transcurrido"})]}),l.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-orange-600",children:v?fe(v.eficienciaDiaria,2):0}),l.jsx("div",{className:"text-sm text-orange-600",children:"Estaciones/Da"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Eficiencia diaria"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Anlisis de Elevaciones y Geometra"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[v?fe(v.rangElevacionesReales,3):0," m"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Rango de Elevaciones"}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Min: ",v?fe(v.elevacionMinima,3):0," m | Max: ",v?fe(v.elevacionMaxima,3):0," m"]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[v?fe(v.diferenciaPromedio*1e3,1):0," mm"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Diferencia Promedio"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Proyecto vs Real"})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["",v?fe(v.desviacionEstandar*1e3,2):0," mm"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Desviacin Estndar"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Consistencia"})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[v?fe(v.pendientePromedioReal*100,3):0,"%"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Pendiente Promedio Real"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Calculada de campo"})]})]})]})]}),w=()=>{var O,E;return l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Anlisis de Tolerancias y Calidad"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[v?fe(v.porcentajeDentroToleranciaSCT,1):0,"%"]}),l.jsx("div",{className:"text-sm text-green-600",children:"Dentro de Tolerancia SCT"}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["",n?fe(n.tolerancia_sct*1e3,0):0,"mm"]})]}),l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:(v==null?void 0:v.puntosCriticos)||0}),l.jsx("div",{className:"text-sm text-red-600",children:"Puntos Crticos"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:">3x tolerancia"})]}),l.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-orange-600",children:((O=v==null?void 0:v.estacionesProblematicas)==null?void 0:O.length)||0}),l.jsx("div",{className:"text-sm text-orange-600",children:"Zonas Problemticas"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:">50% fuera tolerancia"})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(v==null?void 0:v.totalLecturas)||0}),l.jsx("div",{className:"text-sm text-blue-600",children:"Total Lecturas"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Procesadas"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Distribucin de Calidades"}),l.jsx("div",{className:"space-y-3",children:v&&Object.entries(v.distribucionCalidades).map(([k,T])=>{const L=v.totalLecturas>0?T/v.totalLecturas*100:0,$={EXCELENTE:"bg-green-500 text-green-800",BUENA:"bg-blue-500 text-blue-800",REGULAR:"bg-yellow-500 text-yellow-800",REVISAR:"bg-red-500 text-red-800"};return l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:k}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-32 h-3 bg-gray-200 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full ${$[k].split(" ")[0]}`,style:{width:`${L}%`}})}),l.jsxs("span",{className:"text-sm text-gray-600 w-16 text-right",children:[T," (",fe(L,1),"%)"]})]})]},k)})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Zonas Problemticas"}),((E=v==null?void 0:v.estacionesProblematicas)==null?void 0:E.length)>0?l.jsxs("div",{className:"space-y-2",children:[v.estacionesProblematicas.slice(0,5).map((k,T)=>l.jsxs("div",{className:"flex justify-between items-center p-2 bg-red-50 rounded",children:[l.jsx("span",{className:"text-sm font-medium",children:x(k.km)}),l.jsxs("span",{className:"text-sm text-red-600",children:[fe(k.porcentajeFuera,1),"% fuera"]})]},T)),v.estacionesProblematicas.length>5&&l.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["+",v.estacionesProblematicas.length-5," estaciones ms"]})]}):l.jsxs("div",{className:"text-center py-4 text-green-600",children:[l.jsx("svg",{className:"mx-auto h-8 w-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-sm",children:"No hay zonas problemticas"})]})]})]})]})})},S=()=>l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Volmenes de Trabajo por Ejecutar"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[v?fe(v.volumenTotalCorte,3):0," m"]}),l.jsx("div",{className:"text-sm text-red-600",children:"Volumen Total de Corte"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Material a remover"})]}),l.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[v?fe(v.volumenTotalTerrlen,3):0," m"]}),l.jsx("div",{className:"text-sm text-orange-600",children:"Volumen Total de Terrapln"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Material a colocar"})]}),l.jsxs("div",{className:`border rounded-lg p-4 text-center ${((v==null?void 0:v.balanceMateriales)||0)>=0?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[l.jsxs("div",{className:`text-2xl font-bold ${((v==null?void 0:v.balanceMateriales)||0)>=0?"text-green-600":"text-yellow-600"}`,children:[v?fe(Math.abs(v.balanceMateriales),3):0," m"]}),l.jsxs("div",{className:`text-sm ${((v==null?void 0:v.balanceMateriales)||0)>=0?"text-green-600":"text-yellow-600"}`,children:[((v==null?void 0:v.balanceMateriales)||0)>=0?"Exceso":"Dficit"," de Material"]}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Balance corte-terrapln"})]}),l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",v?fe(v.costoEstimado,0):0]}),l.jsx("div",{className:"text-sm text-purple-600",children:"Costo Estimado"}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Pesos mexicanos"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Desglose de Costos"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Trabajos de Corte:"}),l.jsxs("span",{className:"font-medium",children:["$",v?fe(v.volumenTotalCorte*150,0):0]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Trabajos de Terrapln:"}),l.jsxs("span",{className:"font-medium",children:["$",v?fe(v.volumenTotalTerrlen*120,0):0]})]}),l.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{children:["$",v?fe(v.costoEstimado,0):0]})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"*Precios unitarios: Corte $150/m, Terrapln $120/m"})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Recomendaciones"}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[(v==null?void 0:v.balanceMateriales)>0&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-green-500",children:""}),l.jsx("span",{children:"Hay exceso de material de corte que puede reutilizarse"})]}),(v==null?void 0:v.balanceMateriales)<0&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-yellow-500",children:""}),l.jsx("span",{children:"Se requiere material adicional de banco"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-blue-500",children:""}),l.jsx("span",{children:"Optimizar rutas de acarreo entre cortes y terraplenes"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-purple-500",children:""}),l.jsx("span",{children:"Planificar secuencia de trabajo por secciones"})]})]})]})]})]})}),j=()=>l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Indicadores de Cumplimiento"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-3",children:[l.jsxs("svg",{className:"transform -rotate-90 w-24 h-24",children:[l.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),l.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"#3b82f6",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:`${((v==null?void 0:v.indiceCalidadGeneral)||0)*2.51}, 251`})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("span",{className:"text-lg font-bold text-blue-600",children:v?Math.round(v.indiceCalidadGeneral):0})})]}),l.jsx("div",{className:"text-sm font-medium text-gray-900",children:"ndice de Calidad General"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Score 0-100"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-3",children:[l.jsxs("svg",{className:"transform -rotate-90 w-24 h-24",children:[l.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),l.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"#10b981",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:`${((v==null?void 0:v.porcentajeDentroToleranciaSCT)||0)*2.51}, 251`})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("span",{className:"text-lg font-bold text-green-600",children:[v?Math.round(v.porcentajeDentroToleranciaSCT):0,"%"]})})]}),l.jsx("div",{className:"text-sm font-medium text-gray-900",children:"% Cumplimiento SCT"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Dentro de especificaciones"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-3",children:[l.jsxs("svg",{className:"transform -rotate-90 w-24 h-24",children:[l.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),l.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"#f59e0b",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:`${((v==null?void 0:v.eficienciaCampo)||0)*2.51}, 251`})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("span",{className:"text-lg font-bold text-yellow-600",children:[v?Math.round(v.eficienciaCampo):0,"%"]})})]}),l.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Eficiencia de Campo"}),l.jsx("div",{className:"text-xs text-gray-500",children:"Lecturas vlidas vs total"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Componentes del ndice de Calidad"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Lecturas Excelentes (40%):"}),l.jsxs("span",{className:"font-medium",children:[v?fe(v.distribucionCalidades.EXCELENTE/v.totalLecturas*40,1):0," pts"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Lecturas Buenas (30%):"}),l.jsxs("span",{className:"font-medium",children:[v?fe(v.distribucionCalidades.BUENA/v.totalLecturas*30,1):0," pts"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Lecturas Regulares (20%):"}),l.jsxs("span",{className:"font-medium",children:[v?fe(v.distribucionCalidades.REGULAR/v.totalLecturas*20,1):0," pts"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tolerancia SCT (30%):"}),l.jsxs("span",{className:"font-medium",children:[v?fe(v.porcentajeDentroToleranciaSCT/100*30,1):0," pts"]})]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Interpretacin de Resultados"}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[(v==null?void 0:v.indiceCalidadGeneral)>=90&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-green-500",children:""}),l.jsx("span",{children:"Excelente calidad, cumple con todos los estndares"})]}),(v==null?void 0:v.indiceCalidadGeneral)>=70&&(v==null?void 0:v.indiceCalidadGeneral)<90&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-blue-500",children:""}),l.jsx("span",{children:"Buena calidad, dentro de parmetros aceptables"})]}),(v==null?void 0:v.indiceCalidadGeneral)>=50&&(v==null?void 0:v.indiceCalidadGeneral)<70&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-yellow-500",children:""}),l.jsx("span",{children:"Calidad regular, requiere mejoras"})]}),(v==null?void 0:v.indiceCalidadGeneral)<50&&l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-red-500",children:""}),l.jsx("span",{children:"Calidad deficiente, requiere revisin urgente"})]}),l.jsx("div",{className:"pt-2 border-t",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-gray-500",children:""}),l.jsxs("span",{children:["Progreso del proyecto: ",v?fe(v.progresoPorcentaje,1):0,"% completado"]})]})})]})]})]})]})}),A=()=>{var O,E;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Resumen Ejecutivo del Anlisis"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Estado General del Proyecto"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center p-2 bg-blue-50 rounded",children:[l.jsx("span",{children:"Progreso de Mediciones:"}),l.jsxs("span",{className:"font-medium text-blue-600",children:[v?fe(v.progresoPorcentaje,1):0,"%"]})]}),l.jsxs("div",{className:"flex justify-between items-center p-2 bg-green-50 rounded",children:[l.jsx("span",{children:"Cobertura Transversal:"}),l.jsxs("span",{className:"font-medium text-green-600",children:[v?fe(v.coberturaTransversal,1):0,"%"]})]}),l.jsxs("div",{className:"flex justify-between items-center p-2 bg-yellow-50 rounded",children:[l.jsx("span",{children:"ndice de Calidad:"}),l.jsxs("span",{className:"font-medium text-yellow-600",children:[v?Math.round(v.indiceCalidadGeneral):0,"/100"]})]}),l.jsxs("div",{className:"flex justify-between items-center p-2 bg-purple-50 rounded",children:[l.jsx("span",{children:"Costo Total Estimado:"}),l.jsxs("span",{className:"font-medium text-purple-600",children:["$",v?fe(v.costoEstimado,0):0]})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Puntos Clave de Atencin"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[(v==null?void 0:v.porcentajeDentroToleranciaSCT)<80&&l.jsxs("div",{className:"flex items-start gap-2 p-2 bg-red-50 rounded",children:[l.jsx("span",{className:"text-red-500 mt-0.5",children:""}),l.jsxs("span",{children:["Solo ",v?fe(v.porcentajeDentroToleranciaSCT,1):0,"% dentro de tolerancia SCT"]})]}),(v==null?void 0:v.puntosCriticos)>0&&l.jsxs("div",{className:"flex items-start gap-2 p-2 bg-orange-50 rounded",children:[l.jsx("span",{className:"text-orange-500 mt-0.5",children:""}),l.jsxs("span",{children:[v.puntosCriticos," puntos crticos requieren atencin inmediata"]})]}),((O=v==null?void 0:v.estacionesProblematicas)==null?void 0:O.length)>0&&l.jsxs("div",{className:"flex items-start gap-2 p-2 bg-yellow-50 rounded",children:[l.jsx("span",{className:"text-yellow-500 mt-0.5",children:""}),l.jsxs("span",{children:[v.estacionesProblematicas.length," estaciones requieren revisin detallada"]})]}),(v==null?void 0:v.balanceMateriales)<0&&l.jsxs("div",{className:"flex items-start gap-2 p-2 bg-blue-50 rounded",children:[l.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),l.jsxs("span",{children:["Dficit de ",fe(Math.abs(v.balanceMateriales),1)," m de material"]})]}),(!(v!=null&&v.porcentajeDentroToleranciaSCT)||(v==null?void 0:v.porcentajeDentroToleranciaSCT)>=95)&&(!(v!=null&&v.puntosCriticos)||(v==null?void 0:v.puntosCriticos)===0)&&(!((E=v==null?void 0:v.estacionesProblematicas)!=null&&E.length)||(v==null?void 0:v.estacionesProblematicas.length)===0)&&l.jsxs("div",{className:"flex items-start gap-2 p-2 bg-green-50 rounded",children:[l.jsx("span",{className:"text-green-500 mt-0.5",children:""}),l.jsx("span",{children:"Proyecto dentro de parmetros ptimos de calidad"})]})]})]})]})]}),v&&g.length>0&&l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Detalle por Estacin"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estacin"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lecturas"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dentro Tolerancia"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Calidad Promedio"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trabajo Requerido"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((k,T)=>{var pe,ke;const L=((pe=m[T])==null?void 0:pe.data)||[],$=L.filter(K=>K.elv_base_real!==null&&K.elv_base_proyecto!==null&&Math.abs(K.elv_base_real-K.elv_base_proyecto)<=n.tolerancia_sct).length,I=L.length>0?$/L.length*100:0,Q=L.filter(K=>["EXCELENTE","BUENA"].includes(K.calidad)).length,ue=L.length>0?Q/L.length*100:0,xe=new Set(L.map(K=>K.clasificacion)).size;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x(k.estacion_km)}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:L.length}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:l.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${I>=95?"bg-green-100 text-green-800":I>=80?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[fe(I,1),"%"]})}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:l.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ue>=90?"bg-green-100 text-green-800":ue>=70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[fe(ue,1),"%"]})}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:xe>1?"Mixto":((ke=L[0])==null?void 0:ke.clasificacion)||"N/A"})]},k.id)})})]})})]})]})};return l.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Anlisis Topogrfico"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Estadsticas concretas y anlisis de calidad para la toma de decisiones"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Sistema de Anlisis"}),l.jsx("div",{className:"text-lg font-medium text-gray-900",children:"v2.0"})]})]})}),i?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n.nombre}),l.jsx("p",{className:"text-gray-600",children:n.tramo}),l.jsxs("p",{className:"text-sm text-gray-500",children:[x(n.km_inicial),"  ",x(n.km_final)]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"ltima actualizacin"}),l.jsx("div",{className:"text-lg font-medium text-gray-900",children:new Date().toLocaleDateString()})]})]})}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"estadisticas",label:"Estadsticas Principales",icon:""},{id:"tolerancia",label:"Tolerancias y Calidad",icon:""},{id:"volumenes",label:"Volmenes de Trabajo",icon:""},{id:"cumplimiento",label:"Indicadores de Cumplimiento",icon:""},{id:"resumen",label:"Resumen Ejecutivo",icon:""}].map(O=>l.jsxs("button",{onClick:()=>t(O.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${s===O.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx("span",{className:"mr-2",children:O.icon}),O.label]},O.id))})}),(u||p)&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Cargando datos del proyecto..."})]}),!u&&!p&&l.jsxs("div",{children:[s==="estadisticas"&&_(),s==="tolerancia"&&w(),s==="volumenes"&&S(),s==="cumplimiento"&&j(),s==="resumen"&&A()]})]}):l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx("svg",{className:"mx-auto h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecciona un proyecto para comenzar el anlisis"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Para ver estadsticas y anlisis detallados, primero selecciona un proyecto."}),l.jsx("button",{onClick:()=>window.location.href="/proyectos",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg text-lg",children:"Ir a Proyectos"})]})]})},jT=()=>{const s=_t(),{proyectoSeleccionado:t,seleccionarProyecto:n,actualizarProyectoDesdeSupabase:i}=Vl(),o=D.useRef(null);D.useEffect(()=>{if(!(t!=null&&t.id)){console.log("No hay proyecto seleccionado para tiempo real");return}const h=t.id;console.log(`Iniciando suscripcin tiempo real para proyecto ${h}`);const p=$t.channel(`project-updates-${h}`,{config:{broadcast:{self:!1}}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"proyectos",filter:`id=eq.${h}`},async g=>{console.log("Cambio detectado en proyecto:",g);try{await i(h),await Promise.all([s.invalidateQueries({queryKey:["proyecto",h]}),s.invalidateQueries({queryKey:["estaciones",h]}),s.invalidateQueries({queryKey:["mediciones",h]}),s.refetchQueries({queryKey:["estaciones",h]}),s.refetchQueries({queryKey:["mediciones",h]})]),console.log("Proyecto actualizado en tiempo real exitosamente")}catch(m){console.error("Error actualizando proyecto en tiempo real:",m)}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"estaciones_teoricas",filter:`proyecto_id=eq.${h}`},async g=>{console.log("Cambio detectado en estaciones:",g),await s.invalidateQueries({queryKey:["estaciones",h]})}).on("postgres_changes",{event:"*",schema:"public",table:"mediciones",filter:`proyecto_id=eq.${h}`},async g=>{console.log("Cambio detectado en mediciones:",g),await Promise.all([s.invalidateQueries({queryKey:["mediciones",h]}),s.invalidateQueries({queryKey:["lecturas"]})])}).on("postgres_changes",{event:"*",schema:"public",table:"lecturas"},async g=>{console.log("Cambio detectado en lecturas:",g),await s.invalidateQueries({queryKey:["lecturas"]})}).subscribe(g=>{console.log("Estado de suscripcin tiempo real:",g),g==="SUBSCRIBED"?console.log(" Tiempo real activado para proyecto:",h):g==="CHANNEL_ERROR"?console.error(" Error en canal de tiempo real"):g==="TIMED_OUT"&&console.warn(" Timeout en canal de tiempo real")});return o.current=p,()=>{console.log(`Desconectando tiempo real para proyecto ${h}`),o.current&&(o.current.unsubscribe(),o.current=null)}},[t==null?void 0:t.id,s,i]);const u=async()=>{if(t!=null&&t.id){console.log("Forzando actualizacin manual...");try{await Promise.all([s.invalidateQueries({queryKey:["proyecto",t.id]}),s.invalidateQueries({queryKey:["estaciones",t.id]}),s.invalidateQueries({queryKey:["mediciones",t.id]}),s.invalidateQueries({queryKey:["lecturas"]})]),await Promise.all([s.refetchQueries({queryKey:["proyecto",t.id]}),s.refetchQueries({queryKey:["estaciones",t.id]}),s.refetchQueries({queryKey:["mediciones",t.id]})]),console.log(" Actualizacin manual completada")}catch(h){console.error(" Error en actualizacin manual:",h)}}};return{isConnected:!!o.current,forceRefresh:u,projectId:t==null?void 0:t.id}},wT=()=>{const s=_t(),{proyectoSeleccionado:t,actualizarProyectoDesdeSupabase:n}=Vl();return{refreshCurrentProject:async()=>{if(!(t!=null&&t.id)){console.warn("No hay proyecto seleccionado para actualizar");return}console.log(" Forzando actualizacin completa del proyecto...");try{await n(t.id),await s.invalidateQueries({queryKey:["proyecto",t.id]}),await s.refetchQueries({queryKey:["estaciones",t.id]}),await s.refetchQueries({queryKey:["mediciones",t.id]}),console.log(" Proyecto actualizado completamente")}catch(o){console.error(" Error actualizando proyecto:",o)}},hasProject:!!(t!=null&&t.id),projectId:t==null?void 0:t.id}},NT=()=>{const{proyecto:s,tieneProyecto:t,formatearKM:n,informacionProyecto:i}=In(),{isConnected:o}=jT(),{refreshCurrentProject:u}=wT(),[h,p]=D.useState(0),[g,m]=D.useState(null),[x,b]=D.useState("captura"),[v,_]=D.useState({}),[w,S]=D.useState({}),[j,A]=D.useState({altura:"",lectura:""}),{data:O=[],isLoading:E,error:k}=Yn(s==null?void 0:s.id,{enabled:!!(s!=null&&s.id)}),{data:T=[],isLoading:L,error:$}=Xn({proyecto_id:s==null?void 0:s.id,enabled:!!(s!=null&&s.id)}),I=Zt.useMemo(()=>{if(!i)return[];const ee=[...i.divisionesIzquierdas||[]].reverse(),ce=i.divisionesDerechas||[],he=[...ee,...ce];return he.includes(0)?he.sort((oe,je)=>oe-je):he.sort((oe,je)=>oe-je)},[i]),{data:Q=[],isLoading:ue,error:xe,refetch:pe}=Xl(g==null?void 0:g.id),ke=Ey(),K=l4(),re=o4(),M=O[h],X=async()=>{const ee=Object.entries(v);if(ee.length===0)return;const ce=ee.map(async([he,Z])=>{const[oe,je]=he.split("-");if(oe&&je&&Z)try{await ie(parseFloat(je),Z)}catch(Pe){console.error(`Error guardando divisin ${je}:`,Pe)}});await Promise.all(ce),_({})};D.useEffect(()=>{console.log(" Campo.jsx - Proyecto cambi, reseteando estado local"),Object.values(w).forEach(ee=>clearTimeout(ee)),p(0),m(null),_({}),S({}),A({altura:"",lectura:""}),b("captura"),console.log(" Campo.jsx - Estado local reseteado para nuevo proyecto:",s==null?void 0:s.id)},[s==null?void 0:s.id]),D.useEffect(()=>{g!=null&&g.id&&pe&&(console.log(" Campo.jsx - Refrescando lecturas para medicin:",g.id),pe())},[g==null?void 0:g.id,pe]),D.useEffect(()=>{(async()=>{if(await X(),M&&T.length>0){const ce=T.find(he=>{const Z=parseFloat(M.km),oe=parseFloat(he.estacion_km);return Math.abs(Z-oe)<.001});m(ce||null),console.log(" Campo.jsx - Medicin activa establecida:",ce==null?void 0:ce.id)}else m(null),console.log(" Campo.jsx - No hay mediciones disponibles, medicionActiva = null")})()},[M,T]),D.useEffect(()=>{const ee=async ce=>{Object.keys(v).length>0&&(ce.preventDefault(),ce.returnValue="",await X())};return window.addEventListener("beforeunload",ee),()=>{window.removeEventListener("beforeunload",ee),X()}},[v]);const ne=async()=>{var ee,ce;if(!M||!j.altura||!j.lectura){alert("Complete los datos del Banco de Nivel");return}try{const he={proyecto_id:s.id,estacion_km:parseFloat(M.km),bn_altura:parseFloat(j.altura),bn_lectura:parseFloat(j.lectura),operador:"Operador Campo",fecha_medicion:new Date().toISOString().split("T")[0]},Z=await ke.mutateAsync(he);m(Z),A({altura:"",lectura:""})}catch(he){console.error("Error creando medicin:",he),alert("Error al crear medicin: "+(((ce=(ee=he.response)==null?void 0:ee.data)==null?void 0:ce.detail)||he.message))}},ie=D.useCallback(async(ee,ce)=>{var he,Z;if(!(!g||!ce||ce.trim()===""))try{const oe={medicion_id:g.id,division_transversal:parseFloat(ee),lectura_mira:parseFloat(ce)};await K.mutateAsync(oe);const je=`${g.id}-${ee}`;_(Pe=>{const Ge={...Pe};return delete Ge[je],Ge}),S(Pe=>{const Ge={...Pe};return delete Ge[je],Ge})}catch(oe){console.error("Error guardando lectura:",oe),alert("Error al guardar lectura: "+(((Z=(he=oe.response)==null?void 0:he.data)==null?void 0:Z.detail)||oe.message))}},[g,K]),C=D.useCallback((ee,ce)=>{const he=`${g==null?void 0:g.id}-${ee}`;w[he]&&clearTimeout(w[he]);const Z=setTimeout(()=>{ce&&ce.trim()!==""&&ie(ee,ce)},1e3);S(oe=>({...oe,[he]:Z}))},[g==null?void 0:g.id,w,ie]);D.useEffect(()=>()=>{Object.values(w).forEach(ee=>clearTimeout(ee))},[w]);const V=async ee=>{await X(),ee==="anterior"&&h>0?p(h-1):ee==="siguiente"&&h<O.length-1&&p(h+1)},ae=(ee,ce=3)=>ee==null||ee===""?"":parseFloat(ee).toFixed(ce),se=ee=>{const ce=`${g==null?void 0:g.id}-${ee}`;if(v[ce]!==void 0)return v[ce];if(!Q||Q.length===0)return"";const he=Q.find(oe=>Math.abs(parseFloat(oe.division_transversal)-parseFloat(ee))<.01);return(he==null?void 0:he.lectura_mira)||""},me=Zt.useMemo(()=>{if(!Q.length)return[];console.group(" Debug Grficas - Anlisis de Datos"),console.log("Total lecturas:",Q.length);const ee=Q.map(he=>{const Z=he.elv_base_real!==null&&he.elv_base_real!==void 0,oe=he.elv_base_proyecto!==null&&he.elv_base_proyecto!==void 0,je=he.elv_concreto_proyecto!==null&&he.elv_concreto_proyecto!==void 0;return console.log(`Divisin ${he.division_transversal}:`,{lectura_mira:he.lectura_mira,elv_base_real:he.elv_base_real,elv_base_proyecto:he.elv_base_proyecto,elv_concreto_proyecto:he.elv_concreto_proyecto,clasificacion:he.clasificacion,tiene_elv_real:Z,tiene_elv_proyecto:oe,tiene_elv_concreto:je}),{division:parseFloat(he.division_transversal),elevacionReal:Z?parseFloat(he.elv_base_real):null,elevacionTeorica:oe?parseFloat(he.elv_base_proyecto):null,elevacionConcreto:je?parseFloat(he.elv_concreto_proyecto):null,diferencia:Z&&oe?parseFloat(he.elv_base_real)-parseFloat(he.elv_base_proyecto):0,clasificacion:he.clasificacion,datosCompletos:Z&&oe}}),ce=ee.filter(he=>he.datosCompletos).length;return console.log(` Lecturas con datos completos: ${ce} de ${Q.length}`),ce===0&&(console.error(" PROBLEMA: No hay lecturas con elv_base_proyecto calculado"),console.log(" CAUSA PROBABLE: Falta estacin terica para KM",M==null?void 0:M.km),console.log(" SOLUCIN: Verificar que existe registro en estaciones_teoricas con:"),console.log("   - proyecto_id:",s==null?void 0:s.id),console.log("   - km:",M==null?void 0:M.km),console.log("   - pendiente_derecha: (valor diferente de 0)"),console.log("   - base_cl: (elevacin base)")),console.groupEnd(),ee.sort((he,Z)=>he.division-Z.division)},[Q,M==null?void 0:M.km,s==null?void 0:s.id]),Oe=()=>{if(!me.length)return l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 lg:p-6",children:[l.jsxs("h3",{className:"text-base lg:text-lg font-semibold mb-3 lg:mb-4",children:["Perfil de Terreno - KM ",n(M==null?void 0:M.km)]}),l.jsxs("div",{className:"text-center py-6 lg:py-8",children:[l.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:"No hay datos para mostrar grfica"}),l.jsx("p",{className:"text-xs lg:text-sm text-gray-400 mt-2",children:"Complete algunas lecturas en la vista de captura para ver el perfil."})]})]});const ee=me.filter(oe=>oe.elevacionReal!==null&&oe.elevacionTeorica!==null);if(!ee.length){const oe=me.some(Pe=>Pe.elevacionReal!==null),je=me.some(Pe=>Pe.elevacionTeorica!==null);return l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 lg:p-6",children:[l.jsxs("h3",{className:"text-base lg:text-lg font-semibold mb-3 lg:mb-4",children:["Perfil de Terreno - KM ",n(M==null?void 0:M.km)]}),l.jsxs("div",{className:"text-center py-6 lg:py-8",children:[l.jsx("div",{className:"text-red-500 mb-4",children:l.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("p",{className:"text-gray-700 text-sm lg:text-base font-medium mb-2",children:"Datos de elevacin incompletos"}),l.jsxs("div",{className:"text-xs lg:text-sm text-gray-500 space-y-1",children:[l.jsx("p",{children:"Estado de los datos:"}),l.jsxs("p",{children:[" Elevaciones reales: ",oe?" Calculadas":" Faltantes"]}),l.jsxs("p",{children:[" Elevaciones tericas: ",je?" Calculadas":" Faltantes"]}),!je&&l.jsxs("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded text-left",children:[l.jsx("p",{className:"font-medium text-orange-800 mb-2",children:" Solucin requerida:"}),l.jsxs("p",{className:"text-orange-700 text-xs",children:["Falta configurar la estacin terica para KM ",n(M==null?void 0:M.km),l.jsx("br",{}),'En Supabase, tabla "estaciones_teoricas":',l.jsx("br",{})," proyecto_id: ",s==null?void 0:s.id,l.jsx("br",{})," km: ",M==null?void 0:M.km,l.jsx("br",{})," pendiente_derecha: (ej: -0.045)",l.jsx("br",{})," base_cl: (ej: 1886.14)"]})]})]})]})]})}const ce=Math.max(...ee.map(oe=>Math.max(oe.elevacionReal,oe.elevacionTeorica,oe.elevacionConcreto||oe.elevacionTeorica))),he=Math.min(...ee.map(oe=>Math.min(oe.elevacionReal,oe.elevacionTeorica,oe.elevacionConcreto||oe.elevacionTeorica))),Z=ce-he||1;return l.jsxs("div",{className:"bg-white p-3 lg:p-6 rounded-lg",children:[l.jsxs("h3",{className:"text-base lg:text-lg font-semibold mb-3 lg:mb-4",children:["Perfil de Terreno - KM ",n(M==null?void 0:M.km)]}),l.jsx("div",{className:"relative h-48 lg:h-64 rounded bg-gray-50",children:l.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[l.jsx("defs",{children:l.jsx("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:l.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"#e5e7eb",strokeWidth:"0.5"})})}),l.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),ee.map((oe,je)=>{const Pe=je/(ee.length-1)*90+5,Ge=(ce-oe.elevacionReal)/Z*80+10,Ve=(ce-oe.elevacionTeorica)/Z*80+10,ys=oe.elevacionConcreto?(ce-oe.elevacionConcreto)/Z*80+10:Ve;return l.jsxs("g",{children:[je>0&&l.jsxs(l.Fragment,{children:[l.jsx("line",{x1:`${(je-1)/(ee.length-1)*90+5}%`,y1:`${(ce-ee[je-1].elevacionTeorica)/Z*80+10}%`,x2:`${Pe}%`,y2:`${Ve}%`,stroke:"#3B82F6",strokeWidth:"2"}),l.jsx("line",{x1:`${(je-1)/(ee.length-1)*90+5}%`,y1:`${(ce-ee[je-1].elevacionReal)/Z*80+10}%`,x2:`${Pe}%`,y2:`${Ge}%`,stroke:"#EF4444",strokeWidth:"2"}),oe.elevacionConcreto&&ee[je-1].elevacionConcreto&&l.jsx("line",{x1:`${(je-1)/(ee.length-1)*90+5}%`,y1:`${(ce-ee[je-1].elevacionConcreto)/Z*80+10}%`,x2:`${Pe}%`,y2:`${ys}%`,stroke:"#10B981",strokeWidth:"2"})]}),l.jsx("circle",{cx:`${Pe}%`,cy:`${Ve}%`,r:"3",fill:"#3B82F6"}),l.jsx("circle",{cx:`${Pe}%`,cy:`${Ge}%`,r:"3",fill:"#EF4444"}),oe.elevacionConcreto&&l.jsx("circle",{cx:`${Pe}%`,cy:`${ys}%`,r:"3",fill:"#10B981"}),l.jsxs("text",{x:`${Pe}%`,y:"95%",textAnchor:"middle",className:"text-xs fill-gray-600",children:[oe.division,"m"]})]},je)})]})}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-3 lg:gap-6 mt-3 lg:mt-4 text-xs lg:text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-0.5 bg-blue-500"}),l.jsx("span",{children:"Terico"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-0.5 bg-red-500"}),l.jsx("span",{children:"Real"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-0.5 bg-green-500"}),l.jsx("span",{children:"Concreto"})]})]}),l.jsxs("div",{className:"mt-4 lg:mt-6",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm lg:text-base",children:"Anlisis de Diferencias"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 lg:gap-4 text-xs lg:text-sm",children:[l.jsxs("div",{className:"bg-green-50 p-3 rounded",children:[l.jsx("div",{className:"text-green-800 font-medium",children:"Cumple Tolerancia"}),l.jsx("div",{className:"text-xl lg:text-2xl font-bold text-green-600",children:me.filter(oe=>oe.clasificacion==="CUMPLE").length})]}),l.jsxs("div",{className:"bg-red-50 p-3 rounded",children:[l.jsx("div",{className:"text-red-800 font-medium",children:"Requiere Corte"}),l.jsx("div",{className:"text-xl lg:text-2xl font-bold text-red-600",children:me.filter(oe=>oe.clasificacion==="CORTE").length})]}),l.jsxs("div",{className:"bg-yellow-50 p-3 rounded",children:[l.jsx("div",{className:"text-yellow-800 font-medium",children:"Requiere Terrapln"}),l.jsx("div",{className:"text-xl lg:text-2xl font-bold text-yellow-600",children:me.filter(oe=>oe.clasificacion==="TERRAPLEN").length})]})]})]})]})},ve=()=>{if(!g)return l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx("svg",{className:"mx-auto h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Configure el Banco de Nivel"}),l.jsx("p",{className:"text-gray-600",children:"Para ver los resultados detallados, primero configure el banco de nivel en la vista de Captura."})]})});if(!Q||Q.length===0)return l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-blue-400 mb-4",children:l.jsx("svg",{className:"mx-auto h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Sin Lecturas Registradas"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"No hay lecturas registradas para esta estacin. Vaya a la vista de Captura para ingresar datos."}),l.jsx("button",{onClick:()=>b("captura"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"Ir a Captura"})]})});const ee={total:Q.length,excelente:Q.filter(Z=>Z.calidad==="EXCELENTE").length,buena:Q.filter(Z=>Z.calidad==="BUENA").length,regular:Q.filter(Z=>Z.calidad==="REGULAR").length,revisar:Q.filter(Z=>Z.calidad==="REVISAR").length,cumple:Q.filter(Z=>Z.cumple_tolerancia===!0).length,corte:Q.filter(Z=>Z.clasificacion==="CORTE").length,terraplen:Q.filter(Z=>Z.clasificacion==="TERRAPLEN").length},ce=ee.cumple/ee.total*100,he=()=>{const Z=["Divisin (m)","Lectura Mira (m)","Elv. Base Real (m)","Elv. Base Proyecto (m)","Elv. Concreto Proyecto (m)","Esp. Concreto (m)","Diferencia (m)","Clasificacin","Cumple Tolerancia","Calidad"],oe=Q.map(Ve=>[Ve.division_transversal,Ve.lectura_mira,Ve.elv_base_real,Ve.elv_base_proyecto,Ve.elv_concreto_proyecto,Ve.esp_concreto_proyecto,Ve.elv_base_real&&Ve.elv_base_proyecto?(Ve.elv_base_real-Ve.elv_base_proyecto).toFixed(6):"",Ve.clasificacion||"",Ve.cumple_tolerancia?"S":"NO",Ve.calidad||""]),je=[Z,...oe].map(Ve=>Ve.map(ys=>`"${ys}"`).join(",")).join(`
`),Pe=new Blob([je],{type:"text/csv;charset=utf-8;"}),Ge=document.createElement("a");Ge.href=URL.createObjectURL(Pe),Ge.download=`resultados_km_${n(M==null?void 0:M.km)}_${new Date().toISOString().split("T")[0]}.csv`,Ge.click()};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-lg p-6 text-white",children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Resultados Detallados - KM ",n(M==null?void 0:M.km)]}),l.jsxs("p",{className:"text-blue-100",children:["Anlisis completo de elevaciones y tolerancias para ",ee.total," divisiones transversales"]})]}),l.jsxs("div",{className:"mt-4 lg:mt-0 flex flex-col lg:flex-row gap-3",children:[l.jsxs("button",{onClick:he,className:"bg-white bg-opacity-90 hover:bg-opacity-100 text-blue-800 px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 shadow-md",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Exportar CSV"]}),l.jsxs("div",{className:"bg-white bg-opacity-90 px-4 py-2 rounded-lg text-sm shadow-md",children:[l.jsxs("div",{className:"font-semibold text-blue-800",children:[ce.toFixed(1),"% Cumplimiento"]}),l.jsx("div",{className:"text-xs text-blue-600",children:"Tolerancia SCT"})]})]})]})}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:ee.excelente}),l.jsx("div",{className:"text-xs text-gray-600",children:"Excelente"}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-2",children:l.jsx("div",{className:"bg-green-500 h-1 rounded-full",style:{width:`${ee.excelente/ee.total*100}%`}})})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ee.buena}),l.jsx("div",{className:"text-xs text-gray-600",children:"Buena"}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-2",children:l.jsx("div",{className:"bg-blue-500 h-1 rounded-full",style:{width:`${ee.buena/ee.total*100}%`}})})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:ee.regular}),l.jsx("div",{className:"text-xs text-gray-600",children:"Regular"}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-2",children:l.jsx("div",{className:"bg-yellow-500 h-1 rounded-full",style:{width:`${ee.regular/ee.total*100}%`}})})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:ee.revisar}),l.jsx("div",{className:"text-xs text-gray-600",children:"Revisar"}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-2",children:l.jsx("div",{className:"bg-red-500 h-1 rounded-full",style:{width:`${ee.revisar/ee.total*100}%`}})})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-orange-600",children:ee.corte}),l.jsx("div",{className:"text-xs text-gray-600",children:"Corte"}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-2",children:l.jsx("div",{className:"bg-orange-500 h-1 rounded-full",style:{width:`${ee.corte/ee.total*100}%`}})})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:ee.terraplen}),l.jsx("div",{className:"text-xs text-gray-600",children:"Terrapln"}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-2",children:l.jsx("div",{className:"bg-purple-500 h-1 rounded-full",style:{width:`${ee.terraplen/ee.total*100}%`}})})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[l.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tabla Detallada de Clculos"}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Resultados completos de elevaciones y anlisis de tolerancias"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-blue-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 lg:px-6 py-3 text-left text-xs font-medium text-blue-900 uppercase tracking-wider",children:"Divisin (m)"}),l.jsx("th",{className:"px-3 lg:px-6 py-3 text-center text-xs font-medium text-blue-900 uppercase tracking-wider",children:"Lectura Mira (m)"}),l.jsx("th",{className:"px-3 lg:px-6 py-3 text-center text-xs font-medium text-blue-900 uppercase tracking-wider",children:"Elv. Base Real (m)"}),l.jsx("th",{className:"px-3 lg:px-6 py-3 text-center text-xs font-medium text-blue-900 uppercase tracking-wider",children:"Elv. Base Proyecto (m)"}),l.jsx("th",{className:"px-3 lg:px-6 py-3 text-center text-xs font-medium text-blue-900 uppercase tracking-wider",children:"Elv. Concreto Proy. (m)"}),l.jsx("th",{className:"px-3 lg:px-6 py-3 text-center text-xs font-medium text-blue-900 uppercase tracking-wider",children:"Esp. Concreto (m)"}),l.jsx("th",{className:"px-3 lg:px-6 py-3 text-center text-xs font-medium text-blue-900 uppercase tracking-wider",children:"Diferencia (m)"}),l.jsx("th",{className:"px-3 lg:px-6 py-3 text-center text-xs font-medium text-blue-900 uppercase tracking-wider",children:"Clasificacin"}),l.jsx("th",{className:"px-3 lg:px-6 py-3 text-center text-xs font-medium text-blue-900 uppercase tracking-wider",children:"Tolerancia"}),l.jsx("th",{className:"px-3 lg:px-6 py-3 text-center text-xs font-medium text-blue-900 uppercase tracking-wider",children:"Calidad"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.sort((Z,oe)=>parseFloat(Z.division_transversal)-parseFloat(oe.division_transversal)).map((Z,oe)=>{const je=Z.elv_base_real&&Z.elv_base_proyecto?parseFloat(Z.elv_base_real)-parseFloat(Z.elv_base_proyecto):null;return l.jsxs("tr",{className:`hover:bg-gray-50 ${Z.calidad==="REVISAR"?"bg-red-50":Z.calidad==="REGULAR"?"bg-yellow-50":Z.calidad==="EXCELENTE"?"bg-green-50":""}`,children:[l.jsx("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:parseFloat(Z.division_transversal)===0?"0.00 (EJE)":parseFloat(Z.division_transversal)<0?`${Math.abs(parseFloat(Z.division_transversal)).toFixed(2)} (I)`:`${parseFloat(Z.division_transversal).toFixed(2)} (D)`}),l.jsx("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap text-sm text-center text-gray-900",children:ae(Z.lectura_mira,3)}),l.jsx("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-blue-600",children:Z.elv_base_real?ae(Z.elv_base_real,3):"-"}),l.jsx("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:Z.elv_base_proyecto?ae(Z.elv_base_proyecto,3):"-"}),l.jsx("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap text-sm text-center text-purple-600",children:Z.elv_concreto_proyecto?ae(Z.elv_concreto_proyecto,3):"-"}),l.jsx("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-indigo-600",children:Z.esp_concreto_proyecto?ae(Z.esp_concreto_proyecto,3):"-"}),l.jsx("td",{className:`px-3 lg:px-6 py-4 whitespace-nowrap text-sm text-center font-bold ${je===null?"text-gray-400":Math.abs(je)<=((s==null?void 0:s.tolerancia_sct)||.005)?"text-green-600":je>0?"text-red-600":"text-orange-600"}`,children:je!==null?`${je>=0?"+":""}${je.toFixed(6)}`:"-"}),l.jsx("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap text-center",children:Z.clasificacion&&l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z.clasificacion==="CUMPLE"?"bg-green-100 text-green-800":Z.clasificacion==="CORTE"?"bg-red-100 text-red-800":Z.clasificacion==="TERRAPLEN"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:Z.clasificacion})}),l.jsx("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap text-center",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z.cumple_tolerancia?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Z.cumple_tolerancia?"S":"NO"})}),l.jsx("td",{className:"px-3 lg:px-6 py-4 whitespace-nowrap text-center",children:Z.calidad&&l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z.calidad==="EXCELENTE"?"bg-green-100 text-green-800":Z.calidad==="BUENA"?"bg-blue-100 text-blue-800":Z.calidad==="REGULAR"?"bg-yellow-100 text-yellow-800":Z.calidad==="REVISAR"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Z.calidad})})]},Z.id)})})]})})]}),(ee.revisar>0||ee.regular>0)&&l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 18.5c-.77.833.192 2.5 1.732 2.5z"})}),"Alertas de Calidad"]}),l.jsxs("div",{className:"space-y-3",children:[ee.revisar>0&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsxs("h4",{className:"text-sm font-medium text-red-800",children:[ee.revisar," divisiones requieren revisin inmediata"]}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Estas mediciones exceden significativamente las tolerancias establecidas y deben ser verificadas."})]})]})}),ee.regular>0&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsxs("h4",{className:"text-sm font-medium text-yellow-800",children:[ee.regular," divisiones con calidad regular"]}),l.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Estas mediciones estn fuera de tolerancia pero dentro de rangos aceptables. Considere repetir la medicin."})]})]})})]})]})]})};return t?E||L?l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cargando datos del proyecto"}),l.jsxs("p",{className:"text-gray-600",children:[E&&"Cargando estaciones...",L&&"Cargando mediciones..."]})]})}):k||$?l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-red-400 mb-4",children:l.jsx("svg",{className:"mx-auto h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error cargando datos"}),l.jsx("p",{className:"text-gray-600 mb-4",children:(k==null?void 0:k.message)||($==null?void 0:$.message)||"Error desconocido"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"Reintentar"})]})}):O.length?l.jsxs("div",{className:"max-w-6xl mx-auto p-3 lg:p-6 space-y-4 lg:space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 lg:p-4",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-4 space-y-3 lg:space-y-0",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"Registro de Campo"}),l.jsxs("p",{className:"text-sm lg:text-base text-gray-600",children:[s.nombre," - ",s.tramo]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-500":"bg-red-500"}`}),l.jsx("span",{children:o?"Tiempo real activo":"Sin conexin TR"})]}),l.jsx("button",{onClick:u,className:"px-2 py-1 text-xs bg-blue-200 hover:bg-blue-300 rounded text-blue-700 font-medium",title:"Actualizar proyecto completo desde base de datos",children:" Refrescar Proyecto"}),l.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[l.jsx("button",{onClick:async()=>{await X(),b("captura")},className:`px-2 lg:px-3 py-2 rounded-md text-xs lg:text-sm font-medium ${x==="captura"?"bg-white text-gray-900 shadow":"text-gray-500 hover:text-gray-700"}`,children:"Captura"}),l.jsx("button",{onClick:async()=>{await X(),b("graficas")},className:`px-2 lg:px-3 py-2 rounded-md text-xs lg:text-sm font-medium ${x==="graficas"?"bg-white text-gray-900 shadow":"text-gray-500 hover:text-gray-700"}`,children:"Grficas"}),l.jsx("button",{onClick:async()=>{await X(),b("resultados")},className:`px-2 lg:px-3 py-2 rounded-md text-xs lg:text-sm font-medium ${x==="resultados"?"bg-white text-gray-900 shadow":"text-gray-500 hover:text-gray-700"}`,children:"Resultados"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3 lg:p-4",children:[l.jsxs("button",{onClick:()=>V("anterior"),disabled:h===0,className:"flex items-center gap-1 lg:gap-2 px-3 lg:px-4 py-2 bg-blue-600 text-white rounded-lg disabled:bg-gray-300 disabled:text-gray-500 text-sm lg:text-base",children:[l.jsx("span",{className:"hidden sm:inline",children:""})," Anterior"]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs lg:text-sm text-gray-600",children:"Estacin"}),l.jsxs("div",{className:"text-lg lg:text-2xl font-bold text-gray-900",children:["KM ",n(M==null?void 0:M.km)]}),l.jsxs("div",{className:"text-xs lg:text-sm text-gray-500",children:[h+1," de ",O.length]})]}),l.jsxs("button",{onClick:()=>V("siguiente"),disabled:h===O.length-1,className:"flex items-center gap-1 lg:gap-2 px-3 lg:px-4 py-2 bg-blue-600 text-white rounded-lg disabled:bg-gray-300 disabled:text-gray-500 text-sm lg:text-base",children:["Siguiente ",l.jsx("span",{className:"hidden sm:inline",children:""})]})]})]}),x==="captura"?l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 lg:p-6",children:[l.jsxs("div",{className:"mb-4 lg:mb-6 p-3 lg:p-4 bg-blue-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2 text-sm lg:text-base",children:"Informacin de la Estacin"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 lg:gap-4 text-xs lg:text-sm",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[l.jsx("span",{className:"text-blue-700 font-medium",children:"Pendiente Derecha:"}),l.jsx("span",{className:"sm:ml-2 font-medium",children:ae(M.pendiente_derecha,4)})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[l.jsx("span",{className:"text-blue-700 font-medium",children:"Base CL:"}),l.jsxs("span",{className:"sm:ml-2 font-medium",children:[ae(M.base_cl,3),"m"]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[l.jsx("span",{className:"text-blue-700 font-medium",children:"Tolerancia SCT:"}),l.jsxs("span",{className:"sm:ml-2 font-medium",children:["",ae((i==null?void 0:i.toleranciaSct)*1e3,1),"mm"]})]})]})]}),g?l.jsxs("div",{className:"mb-4 lg:mb-6 p-3 lg:p-4 bg-green-50 rounded-lg border border-green-200",children:[l.jsx("h3",{className:"font-semibold text-green-900 mb-2 text-sm lg:text-base",children:"Banco de Nivel Configurado"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 lg:gap-4 text-xs lg:text-sm",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[l.jsx("span",{className:"text-green-700 font-medium",children:"Altura BN:"}),l.jsxs("span",{className:"sm:ml-2 font-medium",children:[ae(g.bn_altura,3),"m"]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[l.jsx("span",{className:"text-green-700 font-medium",children:"Lectura BN:"}),l.jsxs("span",{className:"sm:ml-2 font-medium",children:[ae(g.bn_lectura,3),"m"]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[l.jsx("span",{className:"text-green-700 font-medium",children:"Altura Aparato:"}),l.jsxs("span",{className:"sm:ml-2 font-medium text-base lg:text-lg",children:[ae(g.altura_aparato,3),"m"]})]})]})]}):l.jsxs("div",{className:"mb-4 lg:mb-6 p-3 lg:p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[l.jsx("h3",{className:"font-semibold text-yellow-900 mb-3 lg:mb-4 text-sm lg:text-base",children:"Configurar Banco de Nivel"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 lg:gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs lg:text-sm font-medium text-yellow-800 mb-1",children:"Altura BN (m)"}),l.jsx("input",{type:"number",step:"0.001",value:j.altura,onChange:ee=>A({...j,altura:ee.target.value}),className:"w-full px-2 lg:px-3 py-2 border border-yellow-300 rounded text-base lg:text-lg text-center",placeholder:"1883.021"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs lg:text-sm font-medium text-yellow-800 mb-1",children:"Lectura BN (m)"}),l.jsx("input",{type:"number",step:"0.001",value:j.lectura,onChange:ee=>A({...j,lectura:ee.target.value}),className:"w-full px-2 lg:px-3 py-2 border border-yellow-300 rounded text-base lg:text-lg text-center",placeholder:"3.289"})]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{onClick:ne,disabled:!j.altura||!j.lectura||ke.isLoading,className:"w-full px-3 lg:px-4 py-2 bg-yellow-600 text-white rounded text-sm lg:text-base font-medium hover:bg-yellow-700 disabled:bg-gray-300",children:ke.isLoading?"Configurando...":"Configurar"})})]})]}),g&&l.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-x-auto overflow-y-hidden",children:[ue&&l.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm text-blue-700",children:["Cargando lecturas de la medicin ",g.id,"..."]})})]})}),xe&&l.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm text-red-700",children:["Error cargando lecturas: ",xe.message]})})]})}),l.jsxs("table",{className:"w-full min-w-[1000px]",children:[l.jsx("thead",{className:"bg-blue-600 text-white",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-left font-semibold text-xs lg:text-sm",children:"ESTACION"}),l.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-center font-semibold text-xs lg:text-sm",children:"+"}),l.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-center font-semibold text-xs lg:text-sm",children:"Altura de Aparato"}),l.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-center font-semibold text-xs lg:text-sm",children:"Lectura Mira"}),l.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-center font-semibold text-xs lg:text-sm bg-blue-500",children:"Elv. Real"}),l.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-center font-semibold text-xs lg:text-sm bg-blue-500",children:"Elv. Terica"}),l.jsx("th",{className:"px-2 lg:px-4 py-2 lg:py-3 text-center font-semibold text-xs lg:text-sm bg-blue-500",children:"Elv. Concreto"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{className:"bg-gray-50",children:[l.jsx("td",{className:"px-2 lg:px-4 py-2 font-medium text-xs lg:text-sm",children:"BN"}),l.jsx("td",{className:"px-2 lg:px-4 py-2 text-center text-xs lg:text-sm",children:ae(g.bn_lectura,3)}),l.jsx("td",{className:"px-2 lg:px-4 py-2 text-center font-bold text-sm lg:text-lg",children:ae(g.altura_aparato,3)}),l.jsx("td",{className:"px-2 lg:px-4 py-2 text-center text-xs lg:text-sm",children:"-"}),l.jsx("td",{className:"px-2 lg:px-4 py-2 text-center text-xs lg:text-sm font-medium text-green-600",children:ae(g.bn_altura,3)}),l.jsx("td",{className:"px-2 lg:px-4 py-2 text-center text-xs lg:text-sm",children:"-"}),l.jsx("td",{className:"px-2 lg:px-4 py-2 text-center text-xs lg:text-sm",children:"-"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-2 lg:px-4 py-2 font-medium text-xs lg:text-sm",children:n(M.km)}),l.jsx("td",{className:"px-2 lg:px-4 py-2"}),l.jsx("td",{className:"px-2 lg:px-4 py-2"}),l.jsx("td",{className:"px-2 lg:px-4 py-2"}),l.jsx("td",{className:"px-2 lg:px-4 py-2"}),l.jsx("td",{className:"px-2 lg:px-4 py-2"}),l.jsx("td",{className:"px-2 lg:px-4 py-2"})]}),I.map((ee,ce)=>{const he=se(ee),Z=Q.find(oe=>Math.abs(parseFloat(oe.division_transversal)-parseFloat(ee))<.01);return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-2 lg:px-4 py-2 text-center font-medium text-xs lg:text-sm",children:[ee===0?"0.00":ae(Math.abs(ee),2),ee<0?" (I)":ee>0?" (D)":""]}),l.jsx("td",{className:"px-2 lg:px-4 py-2"}),l.jsx("td",{className:"px-2 lg:px-4 py-2"}),l.jsx("td",{className:"px-2 lg:px-4 py-2",children:l.jsx("input",{type:"number",step:"0.001",value:he,onChange:oe=>{const je=oe.target.value,Pe=`${g.id}-${ee}`;_(Ge=>({...Ge,[Pe]:je})),C(ee,je)},onBlur:oe=>{const je=oe.target.value,Pe=`${g.id}-${ee}`;w[Pe]&&(clearTimeout(w[Pe]),S(Ge=>{const Ve={...Ge};return delete Ve[Pe],Ve})),je&&je.trim()!==""&&je!==se(ee)&&ie(ee,je)},onKeyDown:oe=>{if(oe.key==="Enter"){const je=oe.target.value,Pe=`${g.id}-${ee}`;w[Pe]&&(clearTimeout(w[Pe]),S(Ge=>{const Ve={...Ge};return delete Ve[Pe],Ve})),je&&je.trim()!==""&&je!==se(ee)&&ie(ee,je),oe.target.blur()}},className:`w-full px-2 py-2 text-center border rounded text-sm lg:text-base min-w-[100px] ${(Z==null?void 0:Z.clasificacion)==="CUMPLE"?"bg-green-50 border-green-300":(Z==null?void 0:Z.clasificacion)==="CORTE"?"bg-red-50 border-red-300":(Z==null?void 0:Z.clasificacion)==="TERRAPLEN"?"bg-yellow-50 border-yellow-300":"border-gray-300"}`,placeholder:"0.000"})}),l.jsx("td",{className:"px-2 lg:px-4 py-2 text-center text-xs lg:text-sm",children:l.jsx("span",{className:`font-medium ${Z!=null&&Z.elv_base_real?"text-blue-600":"text-gray-400"}`,children:Z!=null&&Z.elv_base_real?ae(Z.elv_base_real,3):"-"})}),l.jsx("td",{className:"px-2 lg:px-4 py-2 text-center text-xs lg:text-sm",children:l.jsx("span",{className:`font-medium ${Z!=null&&Z.elv_base_proyecto?"text-indigo-600":"text-gray-400"}`,children:Z!=null&&Z.elv_base_proyecto?ae(Z.elv_base_proyecto,3):"-"})}),l.jsx("td",{className:"px-2 lg:px-4 py-2 text-center text-xs lg:text-sm",children:l.jsx("span",{className:`font-medium ${Z!=null&&Z.elv_concreto_proyecto?"text-green-600":"text-gray-400"}`,children:Z!=null&&Z.elv_concreto_proyecto?ae(Z.elv_concreto_proyecto,3):"-"})})]},`division-${ce}-${ee}`)})]})]})]}),g&&l.jsxs("div",{className:"mt-3 lg:mt-4 p-3 lg:p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-2 space-y-1 sm:space-y-0",children:[l.jsx("span",{className:"text-xs lg:text-sm font-medium text-gray-700",children:"Progreso de Lecturas"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs lg:text-sm text-gray-500",children:[Q.length," de ",I.length," completadas"]}),Object.keys(v).length>0&&l.jsxs("span",{className:"text-xs bg-yellow-200 text-yellow-800 px-2 py-1 rounded",children:[Object.keys(v).length," pendiente(s)"]})]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:l.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${Q.length/I.length*100}%`}})})]})]}):x==="graficas"?Oe():ve(),(K.isLoading||re.isLoading)&&l.jsx("div",{className:"fixed bottom-3 right-3 lg:bottom-4 lg:right-4 bg-blue-600 text-white px-3 lg:px-4 py-2 rounded-lg shadow-lg text-sm lg:text-base",children:K.isLoading?"Guardando nueva lectura...":"Actualizando lectura..."}),ke.isLoading&&l.jsx("div",{className:"fixed bottom-3 right-3 lg:bottom-4 lg:right-4 bg-green-600 text-white px-3 lg:px-4 py-2 rounded-lg shadow-lg text-sm lg:text-base",children:"Creando medicin..."})]}):l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No hay estaciones configuradas"}),l.jsx("p",{className:"text-gray-600",children:"El proyecto seleccionado no tiene estaciones tericas configuradas."})]})}):l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx("svg",{className:"mx-auto h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Seleccione un Proyecto"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Para iniciar el trabajo de campo, primero seleccione un proyecto."}),l.jsx("button",{onClick:()=>window.location.href="/proyectos",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg text-lg",children:"Ir a Proyectos"})]})})},_T=()=>{const[s,t]=D.useState(!1),[n,i]=D.useState(!1),{proyecto:o,tieneProyecto:u}=In(),h=Dy(),[p,g]=D.useState({nombre:"",tramo:"",cuerpo:"",km_inicial:"",km_final:"",intervalo:"",espesor:"",tolerancia_sct:"",divisiones_izquierdas:[],divisiones_derechas:[],encargados:[]}),[m,x]=D.useState({total_estaciones:0,longitud_proyecto:0});D.useEffect(()=>{o&&(g({nombre:o.nombre||"",tramo:o.tramo||"",cuerpo:o.cuerpo||"",km_inicial:o.km_inicial||"",km_final:o.km_final||"",intervalo:o.intervalo||"",espesor:o.espesor||"",tolerancia_sct:o.tolerancia_sct||"",divisiones_izquierdas:o.divisiones_izquierdas||[],divisiones_derechas:o.divisiones_derechas||[],encargados:o.encargados||[]}),i(!1))},[o]),D.useEffect(()=>{if(p.km_inicial&&p.km_final&&p.intervalo){const T=parseFloat(p.km_inicial),L=parseFloat(p.km_final),$=parseFloat(p.intervalo);if(!isNaN(T)&&!isNaN(L)&&!isNaN($)&&$>0){const I=L-T,Q=Math.floor(I/$)+1;x({total_estaciones:Q,longitud_proyecto:I})}}},[p.km_inicial,p.km_final,p.intervalo]),D.useEffect(()=>{if(o){const T=p.nombre!==(o.nombre||"")||p.tramo!==(o.tramo||"")||p.cuerpo!==(o.cuerpo||"")||parseFloat(p.km_inicial)!==o.km_inicial||parseFloat(p.km_final)!==o.km_final||parseFloat(p.intervalo)!==o.intervalo||parseFloat(p.espesor)!==o.espesor||parseFloat(p.tolerancia_sct)!==o.tolerancia_sct||JSON.stringify(p.divisiones_izquierdas)!==JSON.stringify(o.divisiones_izquierdas)||JSON.stringify(p.divisiones_derechas)!==JSON.stringify(o.divisiones_derechas)||JSON.stringify(p.encargados)!==JSON.stringify(o.encargados||[]);i(T)}},[p,o]);const b=(T,L)=>{g($=>({...$,[T]:L}))},v=T=>{const L=prompt(`Ingrese la nueva divisin ${T} (en metros):`);if(L!==null&&!isNaN(parseFloat(L))){const $=[...p[`divisiones_${T}`],parseFloat(L)];$.sort((I,Q)=>T==="izquierdas"?Q-I:I-Q),b(`divisiones_${T}`,$)}},_=(T,L)=>{const $=p[`divisiones_${T}`].filter((I,Q)=>Q!==L);b(`divisiones_${T}`,$)},w=(T,L,$)=>{const I=prompt(`Editar divisin ${T}:`,$);if(I!==null&&!isNaN(parseFloat(I))){const Q=[...p[`divisiones_${T}`]];Q[L]=parseFloat(I),Q.sort((ue,xe)=>T==="izquierdas"?xe-ue:ue-xe),b(`divisiones_${T}`,Q)}},S=(T,L,$)=>{const I=[...p.encargados];I[T]={...I[T],[L]:$},b("encargados",I)},j=()=>{const T=[...p.encargados,{nombre:"",puesto:""}];b("encargados",T)},A=T=>{if(confirm("Est seguro de eliminar este encargado?")){const L=p.encargados.filter(($,I)=>I!==T);b("encargados",L)}},O=async()=>{var T,L;if(!(!o||!n)){t(!0);try{const $={nombre:p.nombre,tramo:p.tramo,cuerpo:p.cuerpo,km_inicial:parseFloat(p.km_inicial),km_final:parseFloat(p.km_final),intervalo:parseFloat(p.intervalo),espesor:parseFloat(p.espesor),tolerancia_sct:parseFloat(p.tolerancia_sct),divisiones_izquierdas:p.divisiones_izquierdas,divisiones_derechas:p.divisiones_derechas,encargados:p.encargados.filter(I=>I.nombre.trim()||I.puesto.trim())};await h.mutateAsync({proyectoId:o.id,datosActualizados:$}),i(!1),alert("Configuracin guardada exitosamente")}catch($){console.error("Error guardando configuracin:",$),alert("Error al guardar configuracin: "+(((L=(T=$.response)==null?void 0:T.data)==null?void 0:L.detail)||$.message))}finally{t(!1)}}},E=()=>{confirm("Descartar todos los cambios y restaurar valores originales?")&&o&&g({nombre:o.nombre||"",tramo:o.tramo||"",cuerpo:o.cuerpo||"",km_inicial:o.km_inicial||"",km_final:o.km_final||"",intervalo:o.intervalo||"",espesor:o.espesor||"",tolerancia_sct:o.tolerancia_sct||"",divisiones_izquierdas:o.divisiones_izquierdas||[],divisiones_derechas:o.divisiones_derechas||[],encargados:o.encargados||[]})},k=T=>{if(!T)return"";const L=parseFloat(T),$=Math.floor(L/1e3),I=L%1e3;return`${$}+${I.toFixed(0).padStart(3,"0")}`};return u?l.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Configuracin del Proyecto"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Modifica los parmetros y configuracin del proyecto"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:o.nombre}),l.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",o.id]}),n&&l.jsx("p",{className:"text-xs text-orange-600 font-medium",children:" Cambios sin guardar"})]})]})}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:E,disabled:!n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Restaurar"}),l.jsx("button",{onClick:O,disabled:!n||s,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Guardando...":"Guardar Cambios"})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informacin Bsica"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Proyecto"}),l.jsx("input",{type:"text",value:p.nombre,onChange:T=>b("nombre",T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre del proyecto"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tramo"}),l.jsx("input",{type:"text",value:p.tramo,onChange:T=>b("tramo",T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripcin del tramo"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cuerpo"}),l.jsxs("select",{value:p.cuerpo,onChange:T=>b("cuerpo",T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"A",children:"Cuerpo A"}),l.jsx("option",{value:"B",children:"Cuerpo B"}),l.jsx("option",{value:"C",children:"Cuerpo C"}),l.jsx("option",{value:"D",children:"Cuerpo D"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Parmetros Geomtricos"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KM Inicial (m)"}),l.jsx("input",{type:"number",step:"0.001",value:p.km_inicial,onChange:T=>b("km_inicial",T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"15000.000"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Formato: ",k(p.km_inicial)]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KM Final (m)"}),l.jsx("input",{type:"number",step:"0.001",value:p.km_final,onChange:T=>b("km_final",T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"18500.000"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Formato: ",k(p.km_final)]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Intervalo (m)"}),l.jsx("input",{type:"number",step:"0.1",value:p.intervalo,onChange:T=>b("intervalo",T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"5.0"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Distancia entre estaciones"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Espesor (m)"}),l.jsx("input",{type:"number",step:"0.001",value:p.espesor,onChange:T=>b("espesor",T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.250"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Espesor de carpeta asfltica"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tolerancia SCT (m)"}),l.jsx("input",{type:"number",step:"0.001",value:p.tolerancia_sct,onChange:T=>b("tolerancia_sct",T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.005"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tolerancia de la SCT"})]})]}),l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Valores Calculados Automticamente"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-blue-700",children:"Total de Estaciones:"}),l.jsx("span",{className:"font-medium text-blue-900",children:m.total_estaciones})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-blue-700",children:"Longitud del Proyecto:"}),l.jsxs("span",{className:"font-medium text-blue-900",children:[fe(m.longitud_proyecto,3)," m"]})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Divisiones Izquierdas"}),l.jsx("button",{onClick:()=>v("izquierdas"),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm",children:"+ Agregar"})]}),l.jsxs("div",{className:"space-y-2",children:[p.divisiones_izquierdas.map((T,L)=>l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[l.jsxs("span",{className:"text-sm font-medium",children:[fe(Math.abs(T),2),"m (I)"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>w("izquierdas",L,T),className:"text-blue-600 hover:text-blue-800 text-xs px-2 py-1",children:"Editar"}),l.jsx("button",{onClick:()=>_("izquierdas",L),className:"text-red-600 hover:text-red-800 text-xs px-2 py-1",children:"Eliminar"})]})]},L)),p.divisiones_izquierdas.length===0&&l.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No hay divisiones izquierdas configuradas"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Divisiones Derechas"}),l.jsx("button",{onClick:()=>v("derechas"),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm",children:"+ Agregar"})]}),l.jsxs("div",{className:"space-y-2",children:[p.divisiones_derechas.map((T,L)=>l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[l.jsxs("span",{className:"text-sm font-medium",children:[fe(T,2),"m (D)"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>w("derechas",L,T),className:"text-blue-600 hover:text-blue-800 text-xs px-2 py-1",children:"Editar"}),l.jsx("button",{onClick:()=>_("derechas",L),className:"text-red-600 hover:text-red-800 text-xs px-2 py-1",children:"Eliminar"})]})]},L)),p.divisiones_derechas.length===0&&l.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No hay divisiones derechas configuradas"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(mf,{className:"w-5 h-5 text-purple-600"}),"Encargados del Proyecto"]}),l.jsxs("button",{onClick:j,disabled:p.encargados.length>=10,className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded text-sm flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Mn,{className:"w-4 h-4"}),"Agregar Encargado"]})]}),l.jsx("div",{className:"space-y-3",children:p.encargados.length>0?p.encargados.map((T,L)=>l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 items-center bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo"}),l.jsx("input",{type:"text",value:T.nombre||"",onChange:$=>S(L,"nombre",$.target.value),placeholder:"Ej: Juan Carlos Prez Garca",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Puesto/Cargo"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:T.puesto||"",onChange:$=>S(L,"puesto",$.target.value),placeholder:"Ej: Topgrafo Principal",className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),l.jsx("button",{onClick:()=>A(L),className:"text-red-600 hover:text-red-800 p-2 hover:bg-red-50 rounded-md transition-colors",title:"Eliminar encargado",children:l.jsx(_y,{className:"w-4 h-4"})})]})]})]},L)):l.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[l.jsx(mf,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"No hay encargados asignados al proyecto"}),l.jsxs("button",{onClick:j,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 mx-auto",children:[l.jsx(Mn,{className:"w-4 h-4"}),"Agregar Primer Encargado"]})]})}),p.encargados.length>0&&l.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[l.jsxs("p",{className:"text-sm text-blue-700",children:[l.jsx("strong",{children:"Total de encargados:"})," ",p.encargados.length,p.encargados.length>=10&&l.jsx("span",{className:"text-orange-600 ml-2",children:"(Mximo alcanzado)"})]}),l.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Define quines son los responsables tcnicos del proyecto. Estos nombres aparecern en los reportes oficiales."})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vista Previa de Seccin Transversal"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex justify-center items-center space-x-2 text-sm",children:[p.divisiones_izquierdas.slice().reverse().map((T,L)=>l.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:fe(Math.abs(T),1)},`izq-${L}`)),l.jsx("span",{className:"bg-yellow-200 text-yellow-800 px-3 py-1 rounded font-bold",children:"0.0 (CL)"}),p.divisiones_derechas.map((T,L)=>l.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:fe(T,1)},`der-${L}`))]}),l.jsxs("p",{className:"text-center text-xs text-gray-500 mt-2",children:["Total de divisiones: ",p.divisiones_izquierdas.length+p.divisiones_derechas.length+1,"(incluye centro de lnea)"]})]})]}),n&&l.jsx("div",{className:"fixed bottom-4 right-4 bg-orange-100 border border-orange-300 rounded-lg p-4 shadow-lg",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-orange-800 font-medium",children:"Tienes cambios sin guardar"})]})})]}):l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsxs("svg",{className:"mx-auto h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Seleccione un Proyecto"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Para configurar parmetros, primero seleccione un proyecto."}),l.jsx("button",{onClick:()=>window.location.href="/proyectos",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg text-lg",children:"Ir a Proyectos"})]})})},ET=()=>{const[s,t]=D.useState("estaciones"),[n,i]=D.useState(null),[o,u]=D.useState(null),[h,p]=D.useState(!1),{proyecto:g,tieneProyecto:m}=In(),{data:x=[],isLoading:b,error:v}=Yn(g==null?void 0:g.id,{enabled:!!(g!=null&&g.id)}),{data:_=[],isLoading:w,error:S}=Xn({proyecto_id:g==null?void 0:g.id,enabled:!!(g!=null&&g.id)}),j=a4(),A=s4(),O=n4(),E=Ey(),k=r4(),T=i4(),[L,$]=D.useState({km:"",pendiente_derecha:"",base_cl:""}),[I,Q]=D.useState({estacion_km:"",bn_altura:"",bn_lectura:"",operador:"",observaciones:""}),ue=()=>{if(!g)return;const C=[];let V=g.km_inicial;for(;V<=g.km_final;)x.some(se=>Math.abs(parseFloat(se.km)-V)<.001)||C.push({km:V,pendiente_derecha:.02,base_cl:1886.14}),V+=g.intervalo;C.forEach(ae=>{j.mutate({proyecto_id:g.id,...ae})})},xe=async C=>{var V,ae;if(g)try{n?(await A.mutateAsync({estacionId:n.id,datosActualizados:C}),i(null)):(await j.mutateAsync({proyecto_id:g.id,...C}),$({km:"",pendiente_derecha:"",base_cl:""})),p(!1)}catch(se){console.error("Error guardando estacin:",se),alert("Error al guardar estacin: "+(((ae=(V=se.response)==null?void 0:V.data)==null?void 0:ae.detail)||se.message))}},pe=async C=>{var V,ae;if(g)try{o?(await k.mutateAsync({medicionId:o.id,datosActualizados:C}),u(null)):(await E.mutateAsync({proyecto_id:g.id,...C}),Q({estacion_km:"",bn_altura:"",bn_lectura:"",operador:"",observaciones:""})),p(!1)}catch(se){console.error("Error guardando medicin:",se),alert("Error al guardar medicin: "+(((ae=(V=se.response)==null?void 0:V.data)==null?void 0:ae.detail)||se.message))}},ke=C=>{i(C),$({km:C.km,pendiente_derecha:C.pendiente_derecha*100,base_cl:C.base_cl}),p(!0)},K=C=>{u(C),Q({estacion_km:C.estacion_km,bn_altura:C.bn_altura,bn_lectura:C.bn_lectura,operador:C.operador||"",observaciones:C.observaciones||""}),p(!0)},re=C=>{const V=parseFloat(C),ae=Math.floor(V/1e3),se=V%1e3;return`${ae}+${se.toFixed(0).padStart(3,"0")}`},M=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Estaciones Tericas (",x.length,")"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:ue,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"Generar Automtico"}),l.jsx("button",{onClick:()=>{i(null),$({km:"",pendiente_derecha:"",base_cl:""}),p(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"+ Nueva Estacin"})]})]}),b&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"Cargando estaciones..."})]}),v&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-red-700",children:["Error: ",v.message]})}),!b&&l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"KM"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pendiente Derecha (%)"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Base CL (m)"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pendiente Izquierda (%)"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(C=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:re(C.km)}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[fe(C.pendiente_derecha*100,3),"%"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:fe(C.base_cl,3)}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[fe(C.pendiente_derecha*-100,3),"%"]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx("button",{onClick:()=>ke(C),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Editar"}),l.jsx("button",{onClick:()=>{confirm("Eliminar esta estacin?")&&O.mutate(C.id)},className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})]},C.id))})]})}),x.length===0&&!b&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500",children:"No hay estaciones configuradas"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:'Usa "Generar Automtico" o crea estaciones manualmente'})]})]})]}),X=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Mediciones de Estacin (",_.length,")"]}),l.jsx("button",{onClick:()=>{u(null),Q({estacion_km:"",bn_altura:"",bn_lectura:"",operador:"",observaciones:""}),p(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"+ Nueva Medicin"})]}),w&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"text-gray-500 mt-2",children:"Cargando mediciones..."})]}),S&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-red-700",children:["Error: ",S.message]})}),!w&&l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estacin KM"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"BN Altura (m)"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"BN Lectura (m)"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Altura Aparato (m)"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operador"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(C=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:re(C.estacion_km)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:fe(C.bn_altura,3)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:fe(C.bn_lectura,3)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:fe(C.altura_aparato,3)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.operador||"N/A"}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx("button",{onClick:()=>K(C),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Editar"}),l.jsx("button",{onClick:()=>{confirm("Eliminar esta medicin?")&&T.mutate(C.id)},className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})]},C.id))})]})}),_.length===0&&!w&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500",children:"No hay mediciones configuradas"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Agrega mediciones para las estaciones del proyecto"})]})]})]}),ne=()=>l.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/20 overflow-y-auto h-full w-full z-50",style:{backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:l.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:n?"Editar Estacin":"Nueva Estacin"}),l.jsxs("form",{onSubmit:C=>{C.preventDefault(),xe({km:parseFloat(L.km),pendiente_derecha:parseFloat(L.pendiente_derecha)/100,base_cl:parseFloat(L.base_cl)})},children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"KM"}),l.jsx("input",{type:"number",step:"0.001",value:L.km,onChange:C=>$({...L,km:C.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"15025.000",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pendiente Derecha (%)"}),l.jsx("input",{type:"number",step:"0.001",value:L.pendiente_derecha,onChange:C=>$({...L,pendiente_derecha:C.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"2.000",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Base CL (m)"}),l.jsx("input",{type:"number",step:"0.001",value:L.base_cl,onChange:C=>$({...L,base_cl:C.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"1886.140",required:!0})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:j.isLoading||A.isLoading,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50",children:j.isLoading||A.isLoading?"Guardando...":"Guardar"})]})]})]})}),ie=()=>l.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/20 overflow-y-auto h-full w-full z-50",style:{backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:l.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:o?"Editar Medicin":"Nueva Medicin"}),l.jsxs("form",{onSubmit:C=>{C.preventDefault(),pe({estacion_km:parseFloat(I.estacion_km),bn_altura:parseFloat(I.bn_altura),bn_lectura:parseFloat(I.bn_lectura),operador:I.operador,observaciones:I.observaciones})},children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estacin KM"}),l.jsx("input",{type:"number",step:"0.001",value:I.estacion_km,onChange:C=>Q({...I,estacion_km:C.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"15025.000",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BN Altura (m)"}),l.jsx("input",{type:"number",step:"0.001",value:I.bn_altura,onChange:C=>Q({...I,bn_altura:C.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"1883.021",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BN Lectura (m)"}),l.jsx("input",{type:"number",step:"0.001",value:I.bn_lectura,onChange:C=>Q({...I,bn_lectura:C.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"3.289",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Operador"}),l.jsx("input",{type:"text",value:I.operador,onChange:C=>Q({...I,operador:C.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"Nombre del operador"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Observaciones"}),l.jsx("textarea",{value:I.observaciones,onChange:C=>Q({...I,observaciones:C.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2",placeholder:"Observaciones adicionales",rows:"3"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:E.isLoading||k.isLoading,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50",children:E.isLoading||k.isLoading?"Guardando...":"Guardar"})]})]})]})});return m?l.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Datos de Diseo"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Configuracin de estaciones tericas y mediciones de estacin"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:g.nombre}),l.jsx("p",{className:"text-sm text-gray-500",children:g.tramo}),l.jsxs("p",{className:"text-xs text-gray-400",children:[re(g.km_inicial),"  ",re(g.km_final)]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Estaciones Tericas"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-500",children:_.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Mediciones"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:[fe(g.intervalo,1),"m"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Intervalo"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-blue-800",children:[fe(g.espesor*1e3,0),"mm"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Espesor"})]})]})]}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"estaciones",label:"Estaciones Tericas"},{id:"mediciones",label:"Mediciones de Estacin"}].map(C=>l.jsx("button",{onClick:()=>t(C.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${s===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:C.label},C.id))})}),l.jsxs("div",{children:[s==="estaciones"&&M(),s==="mediciones"&&X()]}),h&&s==="estaciones"&&ne(),h&&s==="mediciones"&&ie()]}):l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx("svg",{className:"mx-auto h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Seleccione un Proyecto"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Para configurar datos de diseo, primero seleccione un proyecto."}),l.jsx("button",{onClick:()=>window.location.href="/proyectos",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg text-lg",children:"Ir a Proyectos"})]})})},ST=({proyecto:s,estaciones:t,mediciones:n,lecturas:i,onGenerar:o,isGenerating:u})=>{const h=(x,b=3)=>x==null||x===""?"":parseFloat(x).toFixed(b),p=x=>{if(!x)return"N/A";const b=parseFloat(x),v=Math.floor(b/1e3),_=b%1e3;return`${v}+${String(_).padStart(3,"0")}`},g=Zt.useMemo(()=>{if(!s||!n||!i)return null;const x=[];let b=0,v=0,_=0;const w=[];n.forEach(K=>{const re=i.filter(M=>M.medicion_id===K.id);if(re.length>0){const M=re.map(ne=>ne.elv_base_real).filter(ne=>ne!==null),X=re.map(ne=>ne.elv_base_proyecto).filter(ne=>ne!==null);if(M.length>0&&X.length>0){const ne=M.reduce((ve,ee)=>ve+parseFloat(ee),0)/M.length,ie=X.reduce((ve,ee)=>ve+parseFloat(ee),0)/X.length,C=ne-ie;w.push(C);const V=C,ae=s.intervalo*7.5,se=V*ae;b+=se;const me=s.espesor*ae;v+=me,_+=se;const Oe=re.map(ve=>({posicion:ve.posicion?ve.posicion.toFixed(3):"",elevacionCampo:ve.elv_base_real||0,elevacionProyecto:ve.elv_base_proyecto||0,diferencia:(ve.elv_base_real||0)-(ve.elv_base_proyecto||0)}));x.push({estacion:p(K.estacion_km),campoElevacion:ne,proyectoElevacion:ie,diferencia:C,espesorPromedio:V,area:ae,volumenParcial:se,volumenAcumulado:b,volumenProyectoParcial:me,volumenProyectoAcumulado:v,corteTerreno:ne,rtProyecto:ie,realRtProyecto:C,divisiones:Oe})}}});const S=w.length,j=S>0?Math.max(...w):0,A=S>0?Math.min(...w):0,O=S>0?w.reduce((K,re)=>K+re,0)/S:0,E=S>0?w.reduce((K,re)=>K+Math.pow(re-O,2),0)/S:0,k=Math.sqrt(E),T=s.espesor,L=.98*T,$=.1*T,I=O>=L,Q=k<=$,ue=w.filter(K=>K>T+.001).length,xe=w.filter(K=>K>=T-.004&&K<=T+.001).length,pe=w.filter(K=>K<T-.004).length,ke=xe/S>.95?"CONFORME":"NO CONFORME";return{estacionesData:x,volumenProyecto:v,volumenRealBase:_,volumenExcedente:_-v,estadisticas:{datoMaximo:j,datoMinimo:A,datoPromedio:O,desviacionEstandar:k,numeroDeterminaciones:S},verificacion:{espesorNominal:T,requisitoPromedio:L,requisitoDesviacion:$,cumplePromedio:I,cumpleDesviacion:Q},evaluacionZonas:{zonaRellenoExcesivo:ue,zonaDentroTolerancia:xe,zonaEspesorInsuficiente:pe,estadoInspeccion:ke}}},[s,n,i]),m=()=>{const x={tipo:"liberacion_topografia",proyecto:s,datosReporte:g,encargados:s.encargados||[],fechaGeneracion:new Date().toISOString()};o(x)};return s?g?l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("div",{className:"border-b border-gray-200 pb-6 mb-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Liberacin de Pavimentacin por Topografa"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Cdigo TOPFM05 (versin 0.1)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Proyecto:"})," ",s.nombre]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Tramo:"})," ",s.tramo||`${p(s.km_inicial)} AL ${p(s.km_final)}`]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Patio:"})," ",s.cuerpo||"N/A"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Folio:"})," LIB-",s.id]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Contrato:"})," ",s.contrato||"N/A"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Fecha:"})," ",My(new Date)]})]})]})]}),l.jsx("button",{onClick:m,disabled:u||g.estacionesData.length===0,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-medium disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generando PDF..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Generar PDF Oficial"]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h(g.volumenProyecto,2)}),l.jsx("div",{className:"text-sm text-blue-800",children:"Volumen de Proyecto (m)"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:h(g.volumenRealBase,2)}),l.jsx("div",{className:"text-sm text-green-800",children:"Volumen Real Base (m)"})]}),l.jsxs("div",{className:`p-4 rounded-lg text-center ${g.volumenExcedente>=0?"bg-orange-50":"bg-red-50"}`,children:[l.jsxs("div",{className:`text-2xl font-bold ${g.volumenExcedente>=0?"text-orange-600":"text-red-600"}`,children:[g.volumenExcedente>=0?"+":"",h(g.volumenExcedente,2)]}),l.jsx("div",{className:`text-sm ${g.volumenExcedente>=0?"text-orange-800":"text-red-800"}`,children:"Volumen Excedente (m)"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estadstica de Espesores"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-700",children:"Dato mximo (m):"}),l.jsx("span",{className:"font-bold text-red-600",children:h(g.estadisticas.datoMaximo,6)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-700",children:"Dato mnimo (m):"}),l.jsx("span",{className:"font-bold text-green-600",children:h(g.estadisticas.datoMinimo,6)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-700",children:"Dato promedio ():"}),l.jsx("span",{className:"font-bold text-blue-600",children:h(g.estadisticas.datoPromedio,6)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-700",children:"Desviacin estndar (s):"}),l.jsx("span",{className:"font-bold text-purple-600",children:h(g.estadisticas.desviacionEstandar,6)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-700",children:"Nmero de determinaciones (n):"}),l.jsx("span",{className:"font-bold text-gray-900",children:g.estadisticas.numeroDeterminaciones})]})]})]}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Verificacin de Especificaciones"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"p-3 bg-white rounded border",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Espesor nominal de proyecto (e):"}),l.jsxs("p",{className:"font-bold text-gray-900",children:[h(g.verificacion.espesorNominal,3)," m"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:`p-3 rounded border ${g.verificacion.cumplePromedio?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[l.jsx("p",{className:"text-sm font-medium",children:"  0.98 e"}),l.jsx("p",{className:`font-bold ${g.verificacion.cumplePromedio?"text-green-600":"text-red-600"}`,children:g.verificacion.cumplePromedio?"CUMPLE":"NO CUMPLE"})]}),l.jsxs("div",{className:`p-3 rounded border ${g.verificacion.cumpleDesviacion?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[l.jsx("p",{className:"text-sm font-medium",children:"s  0.10 e"}),l.jsx("p",{className:`font-bold ${g.verificacion.cumpleDesviacion?"text-green-600":"text-red-600"}`,children:g.verificacion.cumpleDesviacion?"CUMPLE":"NO CUMPLE"})]})]})]})]})]}),l.jsxs("div",{className:"bg-amber-50 p-6 rounded-lg border border-amber-200 mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-4",children:"Evaluacin General en Volmenes"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:g.evaluacionZonas.zonaRellenoExcesivo}),l.jsx("div",{className:"text-sm text-gray-600",children:"Relleno Excesivo"}),l.jsxs("div",{className:"text-xs text-gray-500",children:["(> ",h(g.verificacion.espesorNominal+.001,3),"m)"]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.evaluacionZonas.zonaDentroTolerancia}),l.jsx("div",{className:"text-sm text-gray-600",children:"Dentro Tolerancia"}),l.jsxs("div",{className:"text-xs text-gray-500",children:["(",h(g.verificacion.espesorNominal-.004,3)," - ",h(g.verificacion.espesorNominal,3),"m)"]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-orange-600",children:g.evaluacionZonas.zonaEspesorInsuficiente}),l.jsx("div",{className:"text-sm text-gray-600",children:"Espesor Insuficiente"}),l.jsxs("div",{className:"text-xs text-gray-500",children:["(< ",h(g.verificacion.espesorNominal-.004,3),"m)"]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-2xl font-bold ${g.evaluacionZonas.estadoInspeccion==="CONFORME"?"text-green-600":"text-red-600"}`,children:g.evaluacionZonas.estadoInspeccion}),l.jsx("div",{className:"text-sm text-gray-600",children:"Estado de Inspeccin"})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tabla de Determinaciones por Estacin (Primeras 5 estaciones)"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Estacin"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Corte Terr (m)"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"RT. Proyecto (m)"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Real a RT. Proy. (m)"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Esp. Prom (m)"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"rea (m)"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Volumen Parcial (m)"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Volumen Acumulado (m)"})]})}),l.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[g.estacionesData.slice(0,5).map((x,b)=>l.jsxs("tr",{className:b%2===0?"bg-white":"bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm font-medium text-center text-gray-900",children:x.estacion}),l.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-900",children:h(x.corteTerreno,3)}),l.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-900",children:h(x.rtProyecto,3)}),l.jsxs("td",{className:`px-4 py-3 text-sm text-center font-medium ${x.realRtProyecto>=0?"text-green-600":"text-red-600"}`,children:[x.realRtProyecto>=0?"+":"",h(x.realRtProyecto,6)]}),l.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-900",children:h(x.espesorPromedio,3)}),l.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-900",children:h(x.area,1)}),l.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-900",children:h(x.volumenParcial,2)}),l.jsx("td",{className:"px-4 py-3 text-sm text-center font-medium text-blue-600",children:h(x.volumenAcumulado,2)})]},b)),g.estacionesData.length>5&&l.jsx("tr",{children:l.jsxs("td",{colSpan:"8",className:"px-4 py-3 text-center text-sm text-gray-500 bg-gray-50",children:["... y ",g.estacionesData.length-5," estaciones ms en el PDF completo"]})})]})]})})]}),l.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:" Informacin del Reporte Oficial"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Contenido del PDF:"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:" Header oficial CEMEX con datos del proyecto"}),l.jsx("li",{children:" Tabla completa de determinaciones por estacin"}),l.jsx("li",{children:" Resumen de volmenes (proyecto, real, excedente)"}),l.jsx("li",{children:" Estadstica completa de espesores"}),l.jsx("li",{children:" Verificacin de especificaciones tcnicas"}),l.jsx("li",{children:" Evaluacin por zonas segn criterios SCT"}),l.jsx("li",{children:" Espacios para firmas de responsables"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Responsables del Reporte:"}),l.jsx("div",{className:"text-sm text-blue-800 space-y-2",children:s.encargados&&s.encargados.length>0?s.encargados.map((x,b)=>l.jsxs("div",{className:"bg-white p-2 rounded border",children:[l.jsx("p",{className:"font-medium",children:x.nombre}),l.jsx("p",{className:"text-xs text-gray-600",children:x.cargo})]},b)):l.jsxs("div",{className:"bg-white p-2 rounded border",children:[l.jsx("p",{className:"text-gray-600",children:"No se han definido encargados"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Configure los responsables en el proyecto"})]})})]})]}),l.jsx("div",{className:"mt-4 p-3 bg-blue-100 rounded",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Referencia normativa:"})," NCTRCAR104009/20, apartados H.4.6 y H.4.7"]})})]})]}):l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-red-400 mb-4",children:l.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Datos Insuficientes"}),l.jsxs("p",{className:"text-gray-600",children:["Para generar el reporte de liberacin se requieren:",l.jsx("br",{})," Estaciones configuradas (diseo)",l.jsx("br",{})," Mediciones registradas (campo)",l.jsx("br",{})," Lecturas capturadas (divisiones transversales)"]})]})}):l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sin Proyecto Seleccionado"}),l.jsx("p",{className:"text-gray-600",children:"Seleccione un proyecto para generar el reporte de liberacin de pavimentacin."})]})})},CT=()=>{const[s,t]=D.useState("liberacion"),[n,i]=D.useState(!1),{proyecto:o,tieneProyecto:u,descripcionCompleta:h,rangoKM:p}=In(),{data:g=[],isLoading:m}=Yn(o==null?void 0:o.id,{enabled:!!(o!=null&&o.id)}),{data:x=[],isLoading:b}=Xn({proyecto_id:o==null?void 0:o.id,enabled:!!(o!=null&&o.id)}),v=Array.isArray(x)?x:[],_=[...Array.from({length:Math.max(20,v.length)},(k,T)=>{const L=v[T];return Xl((L==null?void 0:L.id)||null,{},{enabled:!!(L!=null&&L.id)})})],w=D.useMemo(()=>_.slice(0,v.length).map(k=>(k==null?void 0:k.data)||[]).flat().filter(k=>k&&k.elv_base_real!==null),[_,v.length]),S=_.slice(0,v.length).some(k=>k.isLoading),j=[{id:"liberacion",nombre:"Liberacin de Pavimentacin por Topografa",descripcion:"Reporte oficial TOP-FM-05 con anlisis volumtrico, estadsticas de espesores y verificacin de especificaciones SCT",icon:"",color:"red",requerimientos:["estaciones_configuradas","mediciones_registradas","lecturas_capturadas"]}],A=async k=>{i(!0);try{console.log("Generando reporte PDF:",k);const T=new rS;let L;const $=new Date().toISOString().slice(0,19).replace(/:/g,"-");let I;switch(k.tipo){case"liberacion_topografia":L=await T.generateLiberacionTopografiaReport(o,k.datosReporte),I=`Liberacion_Topografia_TOP-FM-05_${o.nombre.replace(/[^a-zA-Z0-9]/g,"_")}_${$}.pdf`;break;default:throw new Error("Tipo de reporte no vlido")}T.lastGeneratedPdf=L,T.downloadPDF(I),setTimeout(()=>{alert(`Reporte "${I}" generado y descargado exitosamente.`)},500)}catch(T){console.error("Error generando reporte PDF:",T),alert("Error al generar el reporte PDF. Por favor intenta nuevamente.")}finally{i(!1)}},O=k=>{const T={estaciones_configuradas:g.length>0,mediciones_registradas:x.length>0,lecturas_capturadas:w.length>0};return k.every(L=>T[L])},E=j.find(k=>k.id===s);return m||b||S?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"text-center py-20",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cargando datos del proyecto"}),l.jsx("p",{className:"text-gray-600",children:"Preparando informacin para los reportes..."})]})})}):u?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1",children:"Reportes"}),l.jsx("p",{className:"text-slate-600",children:h}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Rango: KM ",p]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),l.jsx("span",{className:"text-sm text-slate-600",children:"Proyecto Activo"})]})]})}),l.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/40",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Reporte de Liberacin de Pavimentacin"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:j.map(k=>{const T=O(k.requerimientos),L=s===k.id;return l.jsxs("div",{onClick:()=>T&&t(k.id),className:`relative p-6 rounded-xl border-2 cursor-pointer transition-all duration-300 transform hover:scale-[1.02] ${L?`border-${k.color}-500 bg-${k.color}-50 shadow-lg`:T?"border-gray-200 bg-white hover:border-gray-300 hover:shadow-md":"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed"}`,children:[!T&&l.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"text-3xl",children:k.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:`font-semibold text-lg mb-2 ${L?`text-${k.color}-900`:"text-gray-900"}`,children:k.nombre}),l.jsx("p",{className:`text-sm leading-relaxed ${L?`text-${k.color}-700`:"text-gray-600"}`,children:k.descripcion}),!T&&l.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-700",children:[l.jsx("span",{className:"font-medium",children:"Requerimientos faltantes:"}),l.jsx("ul",{className:"mt-1 space-y-1",children:k.requerimientos.map($=>{if(!{estaciones_configuradas:g.length>0,mediciones_registradas:x.length>0,lecturas_capturadas:w.length>0}[$]){const Q={estaciones_configuradas:"Estaciones configuradas (diseo definido)",mediciones_registradas:"Mediciones registradas (campo)",lecturas_capturadas:"Lecturas capturadas (divisiones transversales)"};return l.jsxs("li",{children:[" ",Q[$]]},$)}return null})})]})]})]})]},k.id)})})]}),s&&O(E.requerimientos)&&l.jsx("div",{className:"transition-all duration-500 ease-in-out",children:s==="liberacion"&&l.jsx(ST,{proyecto:o,estaciones:g,mediciones:x,lecturas:w,onGenerar:A,isGenerating:n})}),l.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/40",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Estado Actual del Proyecto"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g.length}),l.jsx("div",{className:"text-sm text-blue-800",children:"Estaciones Configuradas"}),l.jsx("div",{className:"text-xs text-blue-600",children:"Diseo definido"})]}),l.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.length}),l.jsx("div",{className:"text-sm text-green-800",children:"Mediciones Registradas"}),l.jsx("div",{className:"text-xs text-green-600",children:"Campo"})]}),l.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:w.length}),l.jsx("div",{className:"text-sm text-purple-800",children:"Lecturas Capturadas"}),l.jsx("div",{className:"text-xs text-purple-600",children:"Divisiones transversales"})]}),l.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-lg",children:[l.jsxs("div",{className:"text-2xl font-bold text-amber-600",children:[g.length>0?Math.round(x.length/g.length*100):0,"%"]}),l.jsx("div",{className:"text-sm text-amber-800",children:"Progreso General"})]})]})]})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsx("div",{className:"flex flex-col items-center justify-center min-h-96",children:l.jsx("div",{className:"text-center max-w-md",children:l.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-3xl p-12 shadow-xl border border-white/20",children:[l.jsx("div",{className:"bg-slate-100 rounded-2xl p-4 w-fit mx-auto mb-6",children:l.jsx("svg",{className:"w-12 h-12 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),l.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-3",children:"Generar Reportes"}),l.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed",children:"Para generar reportes del proyecto, primero debes seleccionar un proyecto activo desde el banco de proyectos."}),l.jsxs("button",{onClick:()=>window.location.href="/proyectos",className:"bg-slate-800 text-white px-8 py-3 rounded-xl font-medium hover:bg-slate-700 transition-all duration-300 transform hover:scale-[1.02] inline-flex items-center space-x-3 shadow-lg",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsx("span",{children:"Seleccionar Proyecto"})]})]})})})})})},TT=({children:s})=>{const{user:t,loading:n}=Df();return n?l.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:l.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Cargando..."})]})})}):t?s:l.jsx(Hc,{to:"/login",replace:!0})},AT=()=>l.jsxs(sw,{children:[l.jsx(Yt,{path:"/login",element:l.jsx(e4,{})}),l.jsx(Yt,{path:"/register",element:l.jsx(t4,{})}),l.jsxs(Yt,{path:"/",element:l.jsx(TT,{children:l.jsx(hT,{})}),children:[l.jsx(Yt,{index:!0,element:l.jsx(Qx,{})}),l.jsx(Yt,{path:"dashboard",element:l.jsx(Qx,{})}),l.jsx(Yt,{path:"proyectos",element:l.jsx(vT,{})}),l.jsx(Yt,{path:"alertas",element:l.jsx(yT,{})}),l.jsx(Yt,{path:"analisis",element:l.jsx(bT,{})}),l.jsx(Yt,{path:"campo",element:l.jsx(NT,{})}),l.jsx(Yt,{path:"configuracion",element:l.jsx(_T,{})}),l.jsx(Yt,{path:"datos-diseno",element:l.jsx(ET,{})}),l.jsx(Yt,{path:"reportes",element:l.jsx(CT,{})})]}),l.jsx(Yt,{path:"*",element:l.jsx(Hc,{to:"/",replace:!0})})]});function kT(){return l.jsx(v2,{children:l.jsx(j_,{children:l.jsx(w_,{children:l.jsx(Cw,{children:l.jsx("div",{className:"App",children:l.jsx(AT,{})})})})})})}cj.createRoot(document.getElementById("root")).render(l.jsx(Zt.StrictMode,{children:l.jsx(kT,{})}));export{OT as c,pf as g};
